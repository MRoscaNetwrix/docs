"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[834219],{28453:(e,i,t)=>{t.d(i,{R:()=>s,x:()=>a});var n=t(296540);const o={},r=n.createContext(o);function s(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(r.Provider,{value:i},e.children)}},859605:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"config/netapp7mode/provisionactivity","title":"Provision FPolicy Account","description":"This topic describes the steps needed to create a user account with the privileges required to connect the Activity Monitor Activity Agent to the FPolicy engine and to execute the NetApp API calls required for activity monitoring and configuration.","source":"@site/docs/activitymonitor/config/netapp7mode/provisionactivity.md","sourceDirName":"config/netapp7mode","slug":"/config/netapp7mode/provisionactivity","permalink":"/docs/activitymonitor/config/netapp7mode/provisionactivity","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/activitymonitor/config/netapp7mode/provisionactivity.md","tags":[],"version":"current","frontMatter":{},"sidebar":"activityMonitorSidebar","previous":{"title":"Enable HTTP or HTTPS","permalink":"/docs/activitymonitor/config/netapp7mode/enablehttp"},"next":{"title":"NetApp Data ONTAP Cluster-Mode Activity Auditing Configuration","permalink":"/docs/activitymonitor/config/netappcmode/activity"}}');var o=t(474848),r=t(28453);const s={},a="Provision FPolicy Account",c={},d=[{value:"Part 1: Create Role with API/CLI Access",id:"part-1-create-role-with-apicli-access",level:2},{value:"Part 2: Create a Group &amp; Assign Role",id:"part-2-create-a-group--assign-role",level:2},{value:"Part 3: Add User to Group",id:"part-3-add-user-to-group",level:2}];function l(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"provision-fpolicy-account",children:"Provision FPolicy Account"})}),"\n",(0,o.jsx)(i.p,{children:"This topic describes the steps needed to create a user account with the privileges required to connect the Activity Monitor Activity Agent to the FPolicy engine and to execute the NetApp API calls required for activity monitoring and configuration."}),"\n",(0,o.jsx)(i.p,{children:"Provisioning this account is a three part process:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Part 1: Create Role with API/CLI Access"}),"\n",(0,o.jsx)(i.li,{children:"Part 2: Create a Group & Assign Role"}),"\n",(0,o.jsx)(i.li,{children:"Part 3: Add User to Group"}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["Relevant NetApp Documentation: To learn more about node access controls, please visit the NetApp website and read the ",(0,o.jsx)(i.a,{href:"https://library.netapp.com/ecmdocs/ECMP1511537/html/man1/na_useradmin.1.html",children:"na_useradmin \u2013 Administers node access controls"})," article."]}),"\n",(0,o.jsx)(i.h2,{id:"part-1-create-role-with-apicli-access",children:"Part 1: Create Role with API/CLI Access"}),"\n",(0,o.jsx)(i.p,{children:"This section provides instructions for creating a role with access to the following commands:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"login-http-admin  \napi-system-api-list  \napi-system-get-version  \napi-cifs-share-list-iter-*  \napi-volume-list-info-iter-*  \napi-fpolicy*  \ncli-fpolicy*\n"})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"NOTE:"})," The ",(0,o.jsx)(i.code,{children:"api-fpolicy*"})," command is required for automatic configuration of FPolicy. The ",(0,o.jsx)(i.code,{children:"cli-fpolicy*"})," command is required to use the \u201cEnable and connect FPolicy\u201d option for a Monitored Host configuration."]}),"\n",(0,o.jsx)(i.p,{children:"The following command needs to be run to create the role."}),"\n",(0,o.jsx)(i.p,{children:'Run the following command when provisioning an account for manual configuration of FPolicy; it includes the "Enable and connect FPolicy" option requirement:'}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin role \u2011add [ROLE_NAME] \u2011c "[ROLE_DESCRIPTION]" \u2011a login\u2011http\u2011admin,api\u2011system\u2011api\u2011list,api\u2011system\u2011get\u2011version,api\u2011cifs\u2011share\u2011list\u2011iter\u2011*,api\u2011volume\u2011list\u2011info\u2011iter\u2011*,cli\u2011fpolicy*\n'})}),"\n",(0,o.jsx)(i.p,{children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin role \u2011add enterpriseauditor \u2011c "Role for Enterprise Auditor" \u2011a login\u2011http\u2011admin,api\u2011system\u2011api\u2011list,api\u2011system\u2011get\u2011version,api\u2011cifs\u2011share\u2011list\u2011iter\u2011*,api\u2011volume\u2011list\u2011info\u2011iter\u2011*,cli\u2011fpolicy*\n'})}),"\n",(0,o.jsx)(i.p,{children:'Run the following command when provisioning an account for automatic configuration of FPolicy; it includes the "Enable and connect FPolicy" option requirement:'}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin role \u2011add [ROLE_NAME] \u2011c "[ROLE_DESCRIPTION]" \u2011a login\u2011http\u2011admin,api\u2011system\u2011api\u2011list,api\u2011system\u2011get\u2011version,api\u2011cifs\u2011share\u2011list\u2011iter\u2011*,api\u2011volume\u2011list\u2011info\u2011iter\u2011*,api\u2011fpolicy*,cli\u2011fpolicy*\n'})}),"\n",(0,o.jsx)(i.p,{children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin role \u2011add enterpriseauditor \u2011c "Role for Enterprise Auditor" \u2011a login\u2011http\u2011admin,api\u2011system\u2011api\u2011list,api\u2011system\u2011get\u2011version,api\u2011cifs\u2011share\u2011list\u2011iter\u2011*,api\u2011volume\u2011list\u2011info\u2011iter\u2011*,api\u2011fpolicy*,cli\u2011fpolicy*\n'})}),"\n",(0,o.jsx)(i.p,{children:"After the role is created, complete Part 2: Create a Group & Assign Role."}),"\n",(0,o.jsx)(i.h2,{id:"part-2-create-a-group--assign-role",children:"Part 2: Create a Group & Assign Role"}),"\n",(0,o.jsx)(i.p,{children:"Once the role has been created, it must be attached to a group. The following command needs to be run to create a group and assign the role to it."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"useradmin group \u2011add [GROUP_NAME] \u2011r [ROLE_NAME]\n"})}),"\n",(0,o.jsx)(i.p,{children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"useradmin group \u2011add nwxgroup \u2011r enterpriseauditor\n"})}),"\n",(0,o.jsx)(i.p,{children:"After the group is created and the role is assigned, complete Part 3: Add User to Group."}),"\n",(0,o.jsx)(i.h2,{id:"part-3-add-user-to-group",children:"Part 3: Add User to Group"}),"\n",(0,o.jsx)(i.p,{children:"The final step is to add the domain user to the new group, Backup Operators group, and Power Users group. The following command needs to be run to add the user to all three groups."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin domainuser \u2011add [DOMAIN\\USER] \u2011g [GROUP_NAME, WITHIN " MARKS IF MULTIPLE WORDS],"Backup Operators","Power Users"\n'})}),"\n",(0,o.jsx)(i.p,{children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:'useradmin domainuser \u2011add example\\user1 \u2011g nwxgroup,"Backup Operators","Power Users"\n'})})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);