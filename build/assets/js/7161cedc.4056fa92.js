"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[618227],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var o=t(296540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},623802:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"auditor/addon/hyperv/troubleshooting","title":"Maintenance and Troubleshooting","description":"If you cannot see collected data in Auditor, check the following:","source":"@site/docs/auditor/auditor/addon/hyperv/troubleshooting.md","sourceDirName":"auditor/addon/hyperv","slug":"/auditor/addon/hyperv/troubleshooting","permalink":"/docs/auditor/auditor/addon/hyperv/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/addon/hyperv/troubleshooting.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Add-On Parameters","permalink":"/docs/auditor/auditor/addon/hyperv/parameters"},"next":{"title":"Automate Add-On Execution","permalink":"/docs/auditor/auditor/addon/ibmqradar/automate"}}');var s=t(474848),r=t(28453);const i={},d="Maintenance and Troubleshooting",a={},l=[{value:"Monitor Several SCVMM",id:"monitor-several-scvmm",level:2},{value:"Modify Task Schedule",id:"modify-task-schedule",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"maintenance-and-troubleshooting",children:"Maintenance and Troubleshooting"})}),"\n",(0,s.jsx)(n.p,{children:"If you cannot see collected data in Auditor, check the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add-on account has sufficient rights to access SCVMM and Auditor."}),"\n",(0,s.jsxs)(n.li,{children:["In Netwrix Auditor settings, go to the ",(0,s.jsx)(n.strong,{children:"Integrations"})," section and make sure the ",(0,s.jsx)(n.strong,{children:"Leverage Integration API"})," is switched to ",(0,s.jsx)(n.strong,{children:"ON"}),". Check the communication port number \u2013 default is ",(0,s.jsx)(n.strong,{children:"9699"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"If you configured a dedicated monitoring plan, make sure data source monitoring is enabled."}),"\n",(0,s.jsxs)(n.li,{children:["Verify the parameters you provided in ",(0,s.jsx)(n.strong,{children:"settings.xml"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"monitor-several-scvmm",children:"Monitor Several SCVMM"}),"\n",(0,s.jsx)(n.p,{children:"Follow the steps If you need to monitor more than one SCVMM:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 1 \u2013"})," Deploy one more add-on instance to the server where the first add-on instance is already installed. Be sure to use a different installation folder."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 2 \u2013"})," Open the ",(0,s.jsx)(n.strong,{children:"settings.xml"})," file and configure the new add-on instance to work with the second SCVMM server."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 3 \u2013"})," Open the ",(0,s.jsx)(n.strong,{children:"install.ps1"})," file for the new add-on for edit."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 4 \u2013"})," Modify the default scheduled task name:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:'$name = "NetwrixAuditor Add-on for Microsoft SCVMM"'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 5 \u2013"})," Save and then launch the updated ",(0,s.jsx)(n.strong,{children:"install.ps1"})," file."]}),"\n",(0,s.jsx)(n.h2,{id:"modify-task-schedule",children:"Modify Task Schedule"}),"\n",(0,s.jsx)(n.p,{children:"Follow the steps if you need to modify the task schedule:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 1 \u2013"})," Open ",(0,s.jsx)(n.strong,{children:"install.ps1"})," for edit."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 2 \u2013"})," Modify the default scheduled task schedule:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:'$task.Triggers.Repetition.Interval = "PT15M"'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 3 \u2013"})," Save and then launch the updated ",(0,s.jsx)(n.strong,{children:"install.ps1"})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["Alternatively, you can use ",(0,s.jsx)(n.strong,{children:"Windows Task Scheduler"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the solution was deployed using the third scenario (that is, SCVMM server and add-on are running on different machines), then the following error may be written in the solution log:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The WinRM client cannot process the request."}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/docs/auditor/auditor/addon/hyperv/deployment",children:"Deployment Scenarios"}),"topic for additional information."]}),"\n",(0,s.jsxs)(n.p,{children:["If the authentication scheme is different from Kerberos, or if the client computer is not joined to a domain, then HTTPS transport must be used or the destination machine must be added to the ",(0,s.jsx)(n.strong,{children:"TrustedHosts"})," list. To configure this list, use ",(0,s.jsx)(n.strong,{children:"winrm.cmd"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Computers included in the ",(0,s.jsx)(n.strong,{children:"TrustedHosts"})," list might not be authenticated. To get more information about their settings, you can run the following command:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"winrm help config"})}),"\n",(0,s.jsxs)(n.p,{children:["For details on remote troubleshooting and authentication issues, see the following Microsoft article: ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_remote_troubleshooting?view=powershell-6",children:"about_Remote_Troubleshooting"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["To work around, add the remote SCVMM server to the ",(0,s.jsx)(n.strong,{children:"TrustedHosts"})," list on the machine were the add-on runs. For that, use the following commands:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"winrm quickconfig"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:'Set-Item WSMan:\\localhost\\Client\\TrustedHosts -Value "ServerNameOrIP"'})}),"\n",(0,s.jsx)(n.p,{children:"here:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ServerNameOrIP"})," \u2013 SCVMM server name or IP\xa0address."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);