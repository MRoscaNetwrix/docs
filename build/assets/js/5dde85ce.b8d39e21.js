"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[138516],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>d});var s=n(296540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}},254964:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/audit_db_settings_thumb_0_0-1c6ca99c28d340f45c74f600ba45593d.webp"},514532:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"auditor/admin/settings/auditdatabase","title":"Audit Database","description":"If you want to generate reports and run interactive search queries, you should configure Auditor to store collected data to the SQL Server database (Audit Database). By default, each monitoring plan will use a dedicated database to store data. So, there are two types of database settings:","source":"@site/docs/auditor/auditor/admin/settings/auditdatabase.md","sourceDirName":"auditor/admin/settings","slug":"/auditor/admin/settings/auditdatabase","permalink":"/docs/auditor/auditor/admin/settings/auditdatabase","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/admin/settings/auditdatabase.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"About Netwrix Auditor","permalink":"/docs/auditor/auditor/admin/settings/about"},"next":{"title":"Customize Branding","permalink":"/docs/auditor/auditor/admin/settings/custombrand"}}');var i=n(474848),r=n(28453);const a={},d="Audit Database",o={},c=[{value:"Configure Default SQL Server Settings",id:"configure-default-sql-server-settings",level:2},{value:"Configure Database Retention",id:"configure-database-retention",level:2},{value:"Configure SSRS Settings",id:"configure-ssrs-settings",level:2}];function l(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"audit-database",children:"Audit Database"})}),"\n",(0,i.jsx)(t.p,{children:"If you want to generate reports and run interactive search queries, you should configure Auditor to store collected data to the SQL Server database (Audit Database). By default, each monitoring plan will use a dedicated database to store data. So, there are two types of database settings:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Global settings that apply to all Audit Databases:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Default SQL Server instance hosting all databases"}),"\n",(0,i.jsx)(t.li,{children:"SQL Server Reporting Services (SSRS) settings"}),"\n",(0,i.jsx)(t.li,{children:"Retention settings"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Usually, initial global settings are configured when you create a first monitoring plan. They become the defaults and appear on the ",(0,i.jsx)(t.strong,{children:"Settings"})," > ",(0,i.jsx)(t.strong,{children:"Audit\xa0Database"})," tab. If you have not specified the default settings before, click Configure."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Specific settings for each dedicated database. You can configure specific database storage settings for each monitoring plan individually. For that, use the ",(0,i.jsx)(t.strong,{children:"Monitoring Plan"})," wizard or navigate to the settings. (Global settings appear as default values there, and you can modify them if needed.) See the ",(0,i.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/finetune",children:"Fine-Tune Your Plan and Edit Settings"}),"\xa0 topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Follow the steps to review and update global Audit Database settings:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 1 \u2013"}),"  Navigate to ",(0,i.jsx)(t.strong,{children:"Settings"})," > ",(0,i.jsx)(t.strong,{children:"Audit Database"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 2 \u2013"})," Click ",(0,i.jsx)(t.strong,{children:"Modify"}),"  to edit the settings."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"audit_db_settings_thumb_0_0",src:n(254964).A+"",width:"1524",height:"941"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 3 \u2013"}),"  Specify the following database storage settings:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Default SQL Server settings"}),(0,i.jsx)(t.td,{children:"Specify SQL Server instance name and connection settings."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Database retention"}),(0,i.jsx)(t.td,{children:"Configure retention if you want audit data to be deleted automatically from your Audit Database after a certain period of time.  These settings cannot be modified for a certain plan."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"SQL Server Reporting Services settings"}),(0,i.jsx)(t.td,{children:"Define the Report Server URL and account used to upload data to Report Server. These settings cannot be modified for a certain plan."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"configure-default-sql-server-settings",children:"Configure Default SQL Server Settings"}),"\n",(0,i.jsxs)(t.p,{children:["On the ",(0,i.jsx)(t.strong,{children:"Settings"})," > ",(0,i.jsx)(t.strong,{children:"Audit Database"})," tab, review settings and click Modify under the Default SQL Server settings section."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"SQL Server instance"}),(0,i.jsx)(t.td,{children:"Specify the name of the SQL\xa0Server instance to store audit data.  If you have more than one Auditor Server running in your network, make sure to configure them to use different SQL Server instances. The same SQL Server instance cannot be used to store audit data collected by several Auditor\xa0 Servers."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Authentication"}),(0,i.jsx)(t.td,{children:"Select the authentication type you want to use to connect to the SQL Server instance:   - Windows authentication - SQL Server authentication"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"User name"}),(0,i.jsxs)(t.td,{children:["Specify the account to be used to connect to the SQL Server instance.  This account must be granted the ",(0,i.jsx)(t.strong,{children:"database owner (db_owner)"})," role and the dbcreator server role."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Password"}),(0,i.jsx)(t.td,{children:"Enter a password."})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"NOTE:"})," If you want to use Group Managed Service Account (gMSA) to access the SQL Server instance hosting the database, consider that in this case Netwrix Auditor will not be able to generate SSRS-based reports (due to the following Microsoft article: ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/sql/reporting-services/install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager?view=sql-server-ver15",children:"Configure the Unattended Execution Account (Report Server Configuration Manager)"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"configure-database-retention",children:"Configure Database Retention"}),"\n",(0,i.jsxs)(t.p,{children:["On the ",(0,i.jsx)(t.strong,{children:"Settings"})," > ",(0,i.jsx)(t.strong,{children:"Audit Database"})," tab, review settings and click Modify under the Database retention section."]}),"\n",(0,i.jsx)(t.p,{children:"These settings are global, that is, they will be applied to all audit databases."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Clear stale data when a database retention period is exceeded"}),(0,i.jsx)(t.td,{children:"Use this option if you want audit data to be deleted automatically from the corresponding database after a certain period of time."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Store audit data in database for"}),(0,i.jsxs)(t.td,{children:["Specify the retention period for storing audit data in the database. Default retention period is ",(0,i.jsx)(t.strong,{children:"180 days"}),".  When the retention period is over, data will be deleted automatically."]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"configure-ssrs-settings",children:"Configure SSRS Settings"}),"\n",(0,i.jsx)(t.p,{children:"On the Settings > Audit Database tab, review settings and click Modify under the  SQL Server Reporting Services settings section."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Report Server URL"}),(0,i.jsx)(t.td,{children:"Specify the Report Server URL. Make sure that the resource is reachable."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Report Manager URL"}),(0,i.jsx)(t.td,{children:"Specify the Report Manager URL. Make sure that the resource is reachable."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"User name"}),(0,i.jsxs)(t.td,{children:["Specify the account to connect to SSRS. Use the following format:  ",(0,i.jsx)(t.em,{children:"domain\\username"})," or ",(0,i.jsx)(t.em,{children:"hostname\\username"}),"  Workgroup format (",(0,i.jsx)(t.em,{children:".\\username"}),") is not supported. Use ",(0,i.jsx)(t.em,{children:"hostname\\username"})," instead.  Make sure this account is granted the Content Manager role on the Report Server. See the ",(0,i.jsx)(t.a,{href:"/docs/auditor/auditor/requirements/sqlserverreportingservice",children:"SQL Server Reporting Services"})," topic for additional information."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Password"}),(0,i.jsx)(t.td,{children:"Enter a password."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);