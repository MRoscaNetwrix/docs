"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[202249],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var r=t(296540);const s={},a=r.createContext(s);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},261341:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"usercube/integration-guide/executables/references/upgrade-databaseversion/index","title":"Usercube-Upgrade-DatabaseVersion","description":"This tool is used to run the necessary migration scripts in order to upgrade the database structure from its current version to the most recent version.","source":"@site/docs/usercube_saas/usercube/integration-guide/executables/references/upgrade-databaseversion/index.md","sourceDirName":"usercube/integration-guide/executables/references/upgrade-databaseversion","slug":"/usercube/integration-guide/executables/references/upgrade-databaseversion/","permalink":"/docs/usercube_saas/usercube/integration-guide/executables/references/upgrade-databaseversion/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/executables/references/upgrade-databaseversion/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Usercube-Upgrade-ConfigurationVersion","permalink":"/docs/usercube_saas/usercube/integration-guide/executables/references/upgrade-configurationversion/"},"next":{"title":"Governance","permalink":"/docs/usercube_saas/usercube/integration-guide/governance/"}}');var s=t(474848),a=t(28453);const i={},o="Usercube-Upgrade-DatabaseVersion",d={},c=[{value:"Examples",id:"examples",level:2},{value:"With a Mode",id:"with-a-mode",level:3},{value:"With the Execute Predefined",id:"with-the-execute-predefined",level:3},{value:"Arguments",id:"arguments",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"usercube-upgrade-databaseversion",children:"Usercube-Upgrade-DatabaseVersion"})}),"\n",(0,s.jsx)(n.p,{children:"This tool is used to run the necessary migration scripts in order to upgrade the database structure from its current version to the most recent version."}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.p,{children:["To upgrade a database with the connection string ",(0,s.jsx)(n.code,{children:"databaseConnectionString"}),", go to the Runtime folder of the newest version and launch the tool with the following argument:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\n./Usercube-Upgrade-DatabaseVersion.exe --connection-string "databaseConnectionString"\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If the database has been correctly upgraded, the following message should appear: ",(0,s.jsx)(n.code,{children:"Database has been upgraded to version X.X.X"}),', with "X.X.X" being the newest version to which the migration was made.']}),"\n",(0,s.jsx)(n.h3,{id:"with-a-mode",children:"With a Mode"}),"\n",(0,s.jsx)(n.p,{children:"The following example runs the database upgrade tool only for backward compatible changes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\n./Usercube-Upgrade-DatabaseVersion.exe --connection-string "databaseConnectionString" --mode BackwardCompatibleChanges\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"with-the-execute-predefined",children:"With the Execute Predefined"}),"\n",(0,s.jsxs)(n.p,{children:["The following example runs the database upgrade tool only for backward compatible changes and the predefined script. As the predefined script is always executed in the other modes, this option is useful only when specifying ",(0,s.jsx)(n.code,{children:"--mode BackwardCompatibleChanges"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\n./Usercube-Upgrade-DatabaseVersion.exe --connection-string "databaseConnectionString" --mode BackwardCompatibleChanges --execute-predefined\n\n'})}),"\n",(0,s.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Argument Name"}),(0,s.jsx)(n.th,{children:"Details"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"--connection-string (-s)   required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," Connection string to the database.   ",(0,s.jsx)(n.strong,{children:"Example"}),"  ",(0,s.jsx)(n.code,{children:'--connection-string "data source=.;Database=Usercube;Integrated Security=SSPI;Min Pool Size=10;encrypt=false;"'})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"--execute-predefined   optional"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    No Value   ",(0,s.jsx)(n.strong,{children:"Description"})," Indicates that the predefined SQL file must be executed, when using the ",(0,s.jsx)(n.code,{children:"BackwardCompatibleChanges"})," mode."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"--mode   default value: All"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    Enum   ",(0,s.jsx)(n.strong,{children:"Description"})," ",(0,s.jsx)(n.code,{children:"All"})," - run all the script types.   ",(0,s.jsx)(n.code,{children:"BackwardCompatibleChanges"})," - only execute backward compatible scripts. ",(0,s.jsx)(n.strong,{children:"Note:"})," the previous runtime can still work.   ",(0,s.jsx)(n.code,{children:"BreakingChanges"})," - only execute breaking scripts. ",(0,s.jsx)(n.strong,{children:"Note:"})," the server must be stopped.   ",(0,s.jsx)(n.code,{children:"CleanupChanges"})," - only execute cleanup scripts, to cleanup the database after the server restarted with the new runtime.   ",(0,s.jsx)(n.strong,{children:"Example"}),"  ",(0,s.jsx)(n.code,{children:"--mode BreakingChanges"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"--force-version   optional"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," Forces the database version instead of using the current one to replay the migration scripts."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);