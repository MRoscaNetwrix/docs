"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[400795],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var o=n(296540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}},256152:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/positionextension-identity-7d446c982c65b9ca1231061f6f2187ec.webp"},567383:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/simple-recordsection-identity-afc447ed34c1257edb50e841a739a401.webp"},613480:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/simple-recordsection-result-86d1572b3e298a38492983470947e2a4.webp"},685740:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"usercube/integration-guide/role-assignment/generate-contexts/index","title":"Generate Contexts","description":"A context is a set of dimension-value pairs computed using the [","source":"@site/docs/usercube_saas/usercube/integration-guide/role-assignment/generate-contexts/index.md","sourceDirName":"usercube/integration-guide/role-assignment/generate-contexts","slug":"/usercube/integration-guide/role-assignment/generate-contexts/","permalink":"/docs/usercube_saas/usercube/integration-guide/role-assignment/generate-contexts/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/role-assignment/generate-contexts/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Existing Assignments","permalink":"/docs/usercube_saas/usercube/integration-guide/role-assignment/existingassignmentsdeduction/"},"next":{"title":"Configure Indirect Permissions","permalink":"/docs/usercube_saas/usercube/integration-guide/role-assignment/how-tos/configureindirectpermissions/"}}');var i=n(474848),r=n(28453);const s={},c="Generate Contexts",d={},a=[{value:"Basic Context Generation",id:"basic-context-generation",level:2},{value:"Identity Context Generation",id:"identity-context-generation",level:2},{value:"Configuration of basic record sections",id:"configuration-of-basic-record-sections",level:3},{value:"Configuration of a position extension",id:"configuration-of-a-position-extension",level:3},{value:"Extension of a property",id:"extension-of-a-property",level:4},{value:"Extension of a whole position",id:"extension-of-a-whole-position",level:4}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"generate-contexts",children:"Generate Contexts"})}),"\n",(0,i.jsxs)(t.p,{children:["A context is a set of dimension-value pairs computed using the ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/provisioning/contextrule/",children:"\nContext Rule\n"})," or the combination of a context rule and the ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/provisioning/recordsection/",children:"\nRecord Section\n"})," if record sections are configured."]}),"\n",(0,i.jsx)(t.p,{children:"A context is used to compute the role assignments for an identity by verifying that the dimension-value pairs meet the role criteria."}),"\n",(0,i.jsx)(t.h2,{id:"basic-context-generation",children:"Basic Context Generation"}),"\n",(0,i.jsxs)(t.p,{children:["When using only a context rule without a record section, the context generation is straightforward: a set of dimension-value pairs is created by computing the value of the dimension bindings on the ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/provisioning/contextrule/",children:"\nContext Rule\n"}),"."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"For example, the following context rule defines guests' contexts based on their start date, end date, and company."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'\n<ContextRule Identifier="ContextRuleForGuest" DisplayName_L1="ContextRuleForGuest" Policy="Default" ResourcesStartBinding="Directory_Guest:StartDate" ResourcesEndBinding="Directory_Guest:EndDate" SourceEntityType="Directory_Guest" BA="Directory_Guest:Company" />\n\n'})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"identity-context-generation",children:"Identity Context Generation"}),"\n",(0,i.jsxs)(t.p,{children:["As described in the ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/identity-management/",children:"Identity Management"}),", identities are complex to model. Records were introduced to tackle this complexity by allowing multiple positions for the same identity."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/provisioning/recordsection/",children:"\nRecord Section\n"})," go further by modeling the relationship between positions.\nIndeed with record sections, it is possible to define:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"what are the shared properties between all positions?"}),"\n",(0,i.jsx)(t.li,{children:"what are the properties unique to each position?"}),"\n",(0,i.jsx)(t.li,{children:"what happens when there is a time gap between two positions, should the previous be extended or should the future position be used to fill the gap?"}),"\n",(0,i.jsx)(t.li,{children:"what happens when a position property value is not defined?"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Before illustrating how the record sections can be configured to handle most cases of position management, here is the background situation for the examples that follow:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A position is defined by a ",(0,i.jsx)(t.code,{children:"JobTitle"}),", a ",(0,i.jsx)(t.code,{children:"Location"}),", and a ",(0,i.jsx)(t.code,{children:"Department"}),", all other properties belong to the identity and are shared between all positions."]}),"\n",(0,i.jsxs)(t.li,{children:["Dimensions are ",(0,i.jsx)(t.code,{children:"Category"}),", ",(0,i.jsx)(t.code,{children:"JobTitle"}),", ",(0,i.jsx)(t.code,{children:"Location"}),", and ",(0,i.jsx)(t.code,{children:"Department"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Each position will have an ",(0,i.jsx)(t.code,{children:"Id"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Sx"})," represents the start date of the position, and x is the ",(0,i.jsx)(t.code,{children:"Id"})," of the position."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Ex"})," represents the end date of the position, and x is the ",(0,i.jsx)(t.code,{children:"Id"})," of the position."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Cs"})," represents the contract start date."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Ce"})," represents the contract end date."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The following configuration shows the context rule that will be used for the examples."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'\n<ContextRule Identifier="ContextRuleUserToRecord" DisplayName_L1="ContextRuleUserToRecord" Policy="Default" ResourcesBinding="Records" ResourcesStartBinding="StartDate" ResourcesEndBinding="EndDate" B0="Directory_UserRecord:Department" B1="Directory_UserRecord:JobTitle" B2="Directory_UserRecord:Location" B3="Directory_UserRecord.Category" SourceEntityType="Directory_User" />\n\n'})}),"\n",(0,i.jsx)(t.p,{children:"The context rule start/end dates bindings and expressions won't have any effect on the computation, they are overridden by the record sections dates properties."}),"\n",(0,i.jsx)(t.h3,{id:"configuration-of-basic-record-sections",children:"Configuration of basic record sections"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'\nDefault section:\n<RecordSection Identifier="Directory_UserRecord_Default" DisplayName_L1="Contract Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="ContractStartDate" EndProperty="ContractEndDate">\n</RecordSection>\n\nPosition record section:\n<RecordSection Identifier="Directory_UserRecord_Position" DisplayName_L1="Position Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="StartDate" EndProperty="EndDate">    <Property Property="Department" ExtensionKind="None" />    <Property Property="Location" ExtensionKind="None" />    <Property Property="JobTitle" ExtensionKind="None" /></RecordSection>\n\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The configuration above binds the position to the contract end date, meaning that a position without an end date will take the end date of the contract.\nThe properties of the position record section cannot be propagated, meaning if a position does not have a ",(0,i.jsx)(t.code,{children:"Location"})," it cannot take the ",(0,i.jsx)(t.code,{children:"Location"})," of the previous or future position."]}),"\n",(0,i.jsxs)(t.p,{children:["The following image shows the positions of ",(0,i.jsx)(t.code,{children:"Mark Barn"})," in a defined timeline."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"simple-recordsection-identity",src:n(567383).A+"",width:"4194",height:"2166"})}),"\n",(0,i.jsxs)(t.p,{children:["With the given configuration and the identity of ",(0,i.jsx)(t.code,{children:"Mark Barn"}),", the following contexts are generated:"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"simple-recordsection-result",src:n(613480).A+"",width:"4178",height:"2445"})}),"\n",(0,i.jsxs)(t.p,{children:["Each computed context will be used to create a set of dimension-value pairs, thus having 3 sets for the ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/role-assignment/evaluate-policy/",children:"Evaluate Policy"})," algorithm."]}),"\n",(0,i.jsxs)(t.p,{children:["Any rules targeting identities with a ",(0,i.jsx)(t.code,{children:"fulltime"}),"Category",(0,i.jsx)(t.code,{children:"will be assigned to"}),"Mark Barn",(0,i.jsx)(t.code,{children:"from"}),"Cs",(0,i.jsx)(t.code,{children:"to"}),"Ce```."]}),"\n",(0,i.jsxs)(t.p,{children:["Any rules targeting identities working in ",(0,i.jsx)(t.code,{children:"London"})," will be assigned to ",(0,i.jsx)(t.code,{children:"Mark Barn"})," from ",(0,i.jsx)(t.code,{children:"S1"})," to ",(0,i.jsx)(t.code,{children:"E2"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Any rules targeting all identities will be assigned to ",(0,i.jsx)(t.code,{children:"Mark Barn"})," from ",(0,i.jsx)(t.code,{children:"Cs"})," to ",(0,i.jsx)(t.code,{children:"E2"})," because from ",(0,i.jsx)(t.code,{children:"E2"})," to ",(0,i.jsx)(t.code,{children:"Ce"})," there isn't any position. This behavior can be overridden by specifying ",(0,i.jsx)(t.code,{children:'ExtensionKind="None"'})," on the ",(0,i.jsx)(t.code,{children:"Directory_UserRecord_Position"})," section."]}),"\n",(0,i.jsx)(t.h3,{id:"configuration-of-a-position-extension",children:"Configuration of a position extension"}),"\n",(0,i.jsx)(t.h4,{id:"extension-of-a-property",children:"Extension of a property"}),"\n",(0,i.jsxs)(t.p,{children:["The record sections can help extend some position property value when for some time the identity does not have a position.\nFor example, let's say that an identity can have multiple positions but they must be in the same ",(0,i.jsx)(t.code,{children:"Location"}),". So it is safe to configure the record sections to copy the ",(0,i.jsx)(t.code,{children:"Location"})," from a position if:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"the identity does not have a position for some time;"}),"\n",(0,i.jsxs)(t.li,{children:["for a position, the ",(0,i.jsx)(t.code,{children:"Location"})," is not defined."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Here is the configuration needed to apply this policy."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'\nDefault section:\n<RecordSection Identifier="Directory_UserRecord_Default" DisplayName_L1="Contract Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="ContractStartDate" EndProperty="ContractEndDate">\n</RecordSection>\n\nPosition record section:\n<RecordSection Identifier="Directory_UserRecord_Position" DisplayName_L1="Position Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="StartDate" EndProperty="EndDate">    ```<Property Property="Department" ExtensionKind="None" />```\n    ```<Property Property="Location" />```\n    ```<Property Property="JobTitle" ExtensionKind="None" />```</RecordSection>\n\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:'ExtensionKind="None"'})," was removed for the ",(0,i.jsx)(t.code,{children:"Location"})," property."]}),"\n",(0,i.jsxs)(t.p,{children:["Using the identity of ",(0,i.jsx)(t.code,{children:"Mark Barn"})," the computed contexts should be as followed:"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"recordsection-withvaluecopy-result1",src:n(907251).A+"",width:"4276",height:"2447"})}),"\n",(0,i.jsxs)(t.p,{children:["Any rules targeting identities working in ",(0,i.jsx)(t.code,{children:"London"})," will be assigned to ",(0,i.jsx)(t.code,{children:"Mark Barn"})," from ",(0,i.jsx)(t.code,{children:"Cs"})," to ",(0,i.jsx)(t.code,{children:"Ce"}),"."]}),"\n",(0,i.jsx)(t.h4,{id:"extension-of-a-whole-position",children:"Extension of a whole position"}),"\n",(0,i.jsxs)(t.p,{children:["The property value copy can be leveraged to extend a chosen position when for some time the identity does not have one.\nSee the ",(0,i.jsx)(t.a,{href:"#Generate-Contexts",children:"\nGenerate Contexts\n"})," topic for additional information. The following configuration and the identity of ",(0,i.jsx)(t.code,{children:"Phoebe Buffay"})," will be used to showcase a position extension.\nIt is done by removing the ",(0,i.jsx)(t.code,{children:'ExtensionKind="None"'})," of the position properties."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'\nDefault section:\n<RecordSection Identifier="Directory_UserRecord_Default" DisplayName_L1="Contract Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="ContractStartDate" EndProperty="ContractEndDate">\n</RecordSection>\n\nPosition record section:\n<RecordSection Identifier="Directory_UserRecord_Position" DisplayName_L1="Position Properties" SourceEntityType="Directory_User" ResourceEntityType="Directory_UserRecord" StartProperty="StartDate" EndProperty="EndDate">\n    ```<Property Property="Department" />```    ```<Property Property="Location" />```    ```<Property Property="JobTitle" />```\n</RecordSection>\n\n'})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"positionextension-identity",src:n(256152).A+"",width:"4196",height:"2150"})}),"\n",(0,i.jsx)(t.p,{children:"Two contexts will be generated."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"positionextension-result",src:n(962243).A+"",width:"4220",height:"1942"})}),"\n",(0,i.jsx)(t.p,{children:"By default, the previous position is extended when there is a gap.\nIf there isn't any previous position then the next position will be anticipated."}),"\n",(0,i.jsxs)(t.p,{children:["The choice of the position to extend can be configured by leveraging the ",(0,i.jsx)(t.code,{children:"SortKeyExpression"})," in the position ",(0,i.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/provisioning/recordsection/",children:"\nRecord Section\n"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},907251:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/recordsection-withvaluecopy-result1-6be6db7a6a5fbf8cb9e43da544459234.webp"},962243:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/positionextension-result-5476f25a5b14590813c80372f4da27dc.webp"}}]);