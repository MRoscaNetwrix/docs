"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[330500],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>d});var i=n(296540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}},36902:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/fileoutputpage-cd6cc2e9c7db80a2c8739899cb278644.webp"},117832:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/addhostentraid-a5f21b843d04c35a43b0c515c14548f1.webp"},183080:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/chooseagent-5987b0492429cb03f05f8301a6eed80c.webp"},211777:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/entraidoperations-5560a9b2e242394690c40a47b0b7a9ce.webp"},347267:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/entraidadded-4a47d625448de7242fd4900ad9b40ade.webp"},415667:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/wheretologgeneric-c7fe5dc3e5908c18efe0b8a77b8c97c4.webp"},536439:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/entraidconnection-da77650134daaa5bf03cc32f2df44659.webp"},769332:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"activitymonitor/admin/monitoredhosts/add/entraid","title":"Microsoft Entra ID","description":"Understanding Microsoft Entra ID Activity Monitoring","source":"@site/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/entraid.md","sourceDirName":"activitymonitor/admin/monitoredhosts/add","slug":"/activitymonitor/admin/monitoredhosts/add/entraid","permalink":"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/entraid","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/entraid.md","tags":[],"version":"current","frontMatter":{},"sidebar":"activityMonitorSidebar","previous":{"title":"Dell Unity","permalink":"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/dellunity"},"next":{"title":"Exchange Online","permalink":"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/exchangeonline"}}');var r=n(474848),s=n(28453);const o={},d="Microsoft Entra ID",c={},a=[{value:"Add Azure Active Directory / Entra ID Host",id:"add-azure-active-directory--entra-id-host",level:2},{value:"Host Properties for Microsoft Entra ID",id:"host-properties-for-microsoft-entra-id",level:2}];function h(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"microsoft-entra-id",children:"Microsoft Entra ID"})}),"\n",(0,r.jsx)(t.p,{children:"Understanding Microsoft Entra ID Activity Monitoring"}),"\n",(0,r.jsx)(t.p,{children:"The Activity Monitor can be configured to monitor the following Microsoft Entra ID (formerly Azure AD) changes:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Report Sign-In events"}),"\n",(0,r.jsx)(t.li,{children:"Reports over 800 audit events in different categories, including:"}),"\n"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Administrative Unit"}),(0,r.jsx)(t.td,{children:"Application Management"}),(0,r.jsx)(t.td,{children:"Authentication"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Authorization"}),(0,r.jsx)(t.td,{children:"Authorization Policy"}),(0,r.jsx)(t.td,{children:"Contact"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Device"}),(0,r.jsx)(t.td,{children:"Device Configuration"}),(0,r.jsx)(t.td,{children:"Directory Management"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Entitlement Management"}),(0,r.jsx)(t.td,{children:"Group Management"}),(0,r.jsx)(t.td,{children:"Identity Protection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Kerberos Domain"}),(0,r.jsx)(t.td,{children:"Key Management"}),(0,r.jsx)(t.td,{children:"Label"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Permission Grant Policy"}),(0,r.jsx)(t.td,{children:"Policy"}),(0,r.jsx)(t.td,{children:"Policy Management"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Resource Management"}),(0,r.jsx)(t.td,{children:"Role Management"}),(0,r.jsx)(t.td,{children:"User Management"})]})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Reports on audit events across different services, including:"}),"\n"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"AAD Management UX"}),(0,r.jsx)(t.td,{children:"Access Reviews"}),(0,r.jsx)(t.td,{children:"Account Provisioning"}),(0,r.jsx)(t.td,{children:"Application Proxy"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Authentication Methods"}),(0,r.jsx)(t.td,{children:"B2C"}),(0,r.jsx)(t.td,{children:"Conditional Access"}),(0,r.jsx)(t.td,{children:"Core Directory"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Device Registration Service"}),(0,r.jsx)(t.td,{children:"Entitlement Management"}),(0,r.jsx)(t.td,{children:"Hybrid Authentication"}),(0,r.jsx)(t.td,{children:"Identity Protection"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Invited Users"}),(0,r.jsx)(t.td,{children:"MIM Service"}),(0,r.jsx)(t.td,{children:"MyApps"}),(0,r.jsx)(t.td,{children:"PIM"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Self-Service Group Management"}),(0,r.jsx)(t.td,{children:"Self-service Password Management"}),(0,r.jsx)(t.td,{children:"Terms of Use"}),(0,r.jsx)(t.td,{})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"It also provides the ability to feed activity data to other Netwrix products:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Netwrix Access Analyzer (formerly Enterprise Auditor)"}),"\n",(0,r.jsx)(t.li,{children:"Netwrix Threat Prevention"}),"\n",(0,r.jsx)(t.li,{children:"Netwrix Threat Manager"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Prior to adding aMicrosoft Entra ID host to the Activity Monitor, the prerequisites for the target environment must be met. See the ",(0,r.jsx)(t.a,{href:"/docs/activitymonitor/config/entraid/activity",children:"Microsoft Entra ID Activity Auditing Configuration"})," topic for additional information."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"Remember,"})," the Activity Agent must be deployed to a Windows server that acts as a proxy for monitoring the target environment."]}),"\n",(0,r.jsx)(t.h2,{id:"add-azure-active-directory--entra-id-host",children:"Add Azure Active Directory / Entra ID Host"}),"\n",(0,r.jsx)(t.p,{children:"Follow the steps to add a Microsoft Entra ID host to be monitored."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1 \u2013"})," In the Activity Monitor, go to the Monitored Hosts tab and click Add. The Add New Host window opens."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Add Host - Choose Agent",src:n(183080).A+"",width:"955",height:"928"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2 \u2013"})," On the Choose Agent page, select the Agent to monitor the storage device."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Add Host page",src:n(117832).A+"",width:"763",height:"740"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3 \u2013"})," On the Add Host page, select the ",(0,r.jsx)(t.strong,{children:"Azure Active Directory / Entra ID"})," radio button and enter the Primary domain in the ",(0,r.jsx)(t.strong,{children:"Domain name"})," field."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"(Optional)"})," Enter a comment for the Microsoft Entra ID host."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"entraidconnection",src:n(536439).A+"",width:"763",height:"740"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4 \u2013"})," On the Azure AD\xa0/ Entra ID Connection page, enter a Tenant ID, Client ID,\xa0and Client Secret. Optional add a Region. Then click ",(0,r.jsx)(t.strong,{children:"Connect"})," to grant permissions to read the audit log. Click ",(0,r.jsx)(t.strong,{children:"Open Instruction..."})," for steps on registering the Activity Monitor with Microsoft Entra ID. Click ",(0,r.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Add Host - Azure AD Operations page",src:n(211777).A+"",width:"763",height:"740"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 5 \u2013"})," On the Azure AD\xa0/ Entra ID Operations page, select which audit activity to monitor. Click ",(0,r.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"wheretologgeneric",src:n(415667).A+"",width:"951",height:"937"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 6 \u2013"})," On the Where To Log The Activity page, select where to send the activity events:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Log file \u2013 Sends to a TSV or JSON file"}),"\n",(0,r.jsx)(t.li,{children:"Syslog Server \u2013 Sends to a configured SIEM system"}),"\n",(0,r.jsx)(t.li,{children:"Netwrix Threat Manager (StealthDEFEND) \u2013 Sends to Netwrix Threat Manager"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"fileoutputpage",src:n(36902).A+"",width:"956",height:"923"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 7 \u2013"})," If ",(0,r.jsx)(t.strong,{children:"Log\xa0Files"})," is selected on the ",(0,r.jsx)(t.strong,{children:"Where To Log The Activity"})," page, the ",(0,r.jsx)(t.strong,{children:"File Output"})," page can be configured. The configurable options are:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Specify output file path \u2013 Specify the file path where log files are saved. Click the ellipses button (",(0,r.jsx)(t.strong,{children:"..."}),") to open the Windows\xa0Explorer to navigate to a folder destination. Click ",(0,r.jsx)(t.strong,{children:"Test"})," to test if the path works."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Period to keep Log files \u2013 Log files will be deleted after the period entered number of days entered. The default is 10 days. Use the dropdown to specify whether to keep the Log files for a set amount of Minutes, Hours, or Days."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"This log file is for Netwrix Access Analyzer (formerly Enterprise Auditor) (StealthAUDIT) \u2013 Enable this option to have Netwrix Access Analyzer (formerly Enterprise Auditor) collect this monitored host configuration"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"RECOMMENDED:"})})," Identify the configuration to be read by Netwrix Access Analyzer (formerly Enterprise Auditor) when integration is available."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"While the Activity Monitor can have multiple configurations per host, Netwrix Access Analyzer (formerly Enterprise Auditor) can only read one of them."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"syslogoutputpage",src:n(911789).A+"",width:"956",height:"922"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 8 \u2013"})," If Syslog Server is selected on the ",(0,r.jsx)(t.strong,{children:"Where To Log The Activity"})," page, the Syslog Output page can be configured. The configurable options are:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Syslog server in SERVER[",":PORT","] format \u2013 Type the ",(0,r.jsx)(t.strong,{children:"Syslog server name"})," with a SERVER",":Port"," format in the textbox."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The server name can be short name, fully qualified name (FQDN), or IP Address, as long as the organization\u2019s environment can resolve the name format used. The Event stream is the activity being monitored according to this configuration for the monitored host."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Syslog Protocol \u2013 Identify the ",(0,r.jsx)(t.strong,{children:"Syslog protocol"})," to be used for the Event stream. The drop-down menu includes:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"UDP"}),"\n",(0,r.jsx)(t.li,{children:"TCP"}),"\n",(0,r.jsx)(t.li,{children:"TLS"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["The TCP and TLS protocols add the Message framing drop-down menu. See the ",(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/outputs/syslog",children:"Syslog Tab"})," topic for additional information."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The Test button sends a test message to the Syslog server to check the connection. A green check mark or red will determine whether the test message has been sent or failed to send. Messages vary by Syslog protocol:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"UDP \u2013 Sends a test message and does not verify connection"}),"\n",(0,r.jsx)(t.li,{children:"TCP/TLS \u2013 Sends test message and verifies connection"}),"\n",(0,r.jsx)(t.li,{children:"TLS \u2013 Shows error if TLS handshake fails"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["See the ",(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/outputs/syslog",children:"Syslog Tab"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Finish"}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Azure Active Directory in Activity Monitor",src:n(347267).A+"",width:"1394",height:"739"})}),"\n",(0,r.jsxs)(t.p,{children:["The added Microsoft Entra ID host is displayed in the monitored hosts table. Once a host has been added for monitoring, configure the desired ouptuts. See the ",(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/output",children:"Output for Monitored Hosts"})," topic for additional information."]}),"\n",(0,r.jsx)(t.h2,{id:"host-properties-for-microsoft-entra-id",children:"Host Properties for Microsoft Entra ID"}),"\n",(0,r.jsx)(t.p,{children:"Configuration settings can be edited through the tabs in the host\u2019s Properties window. The configurable host properties are:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/properties/connection",children:"Connection Tab"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/properties/inactivityalerts",children:"Inactivity Alerts Tab"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["See the ",(0,r.jsx)(t.a,{href:"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/properties/overview",children:"Host Properties Window"})," topic for additional information."]})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},911789:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/syslogoutputpage-e3d46735b45256674c22687a999b2944.webp"}}]);