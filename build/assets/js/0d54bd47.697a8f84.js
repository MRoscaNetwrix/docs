"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[260497],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>r});var n=t(296540);const i={},o=n.createContext(i);function a(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(o.Provider,{value:s},e.children)}},281984:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_2_faq-913-02-23d9e9ebd30e861936939806be398c38.jpg"},291e3:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_6_faq-913-06-101c252fb8e46741b7d998de49c80678.jpg"},339734:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_5_faq-913-05-ed30b30dcc67428089e60b0f0a6792e4.jpg"},638878:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_3_faq-913-03-5e46876aeacbaf5960cb7ce8a21ac75e.jpg"},836726:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_1_faq-913-01-597ba6d2cd05c85a50a1b8264e44d5fa.jpg"},887928:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"policypak/troubleshooting/cpuslowdown","title":"How would I verify if Endpoint Policy Manager Client Side Extension is / is not causing high or CPU disk slowdowns?","description":"So there are lots of reasons why you might see 99% disk, and it doesn\'t have to be Netwrix Endpoint Policy Manager (formerly PolicyPak) causing it.","source":"@site/docs/policypak/policypak/troubleshooting/cpuslowdown.md","sourceDirName":"policypak/troubleshooting","slug":"/policypak/troubleshooting/cpuslowdown","permalink":"/docs/policypak/policypak/troubleshooting/cpuslowdown","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/troubleshooting/cpuslowdown.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"What is the processing order of all policies and how are conflicts resolved (and how can I see the final RsOP) of those policies (between GPO, Cloud, XML, etc)?","permalink":"/docs/policypak/policypak/troubleshooting/conflictresolved"},"next":{"title":"How can I present a custom dialog (or no dialog) if Browser Router (or the CSE) stops working or crashes?","permalink":"/docs/policypak/policypak/troubleshooting/customdialog"}}');var i=t(474848),o=t(28453);const a={},r="How would I verify if Endpoint Policy Manager Client Side Extension is / is not causing high or CPU disk slowdowns?",c={},l=[];function h(e){const s={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"how-would-i-verify-if-endpoint-policy-manager-client-side-extension-is--is-not-causing-high-or-cpu-disk-slowdowns",children:"How would I verify if Endpoint Policy Manager Client Side Extension is / is not causing high or CPU disk slowdowns?"})}),"\n",(0,i.jsx)(s.p,{children:"So there are lots of reasons why you might see 99% disk, and it doesn't have to be Netwrix Endpoint Policy Manager (formerly PolicyPak) causing it."}),"\n",(0,i.jsx)(s.p,{children:"Here's an example scenario\u2026"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_1_faq-913-01",src:t(836726).A+"",width:"1479",height:"547"})}),"\n",(0,i.jsxs)(s.p,{children:["First",":There"," are known bugs which push the utilization up to 100% from MS. Example:",(0,i.jsx)(s.a,{href:"https://support.microsoft.com/en-us/help/3083595/task-manager-might-show-100-disk-utilization-on-windows-10-devices-wit",children:"https://support.microsoft.com/en-us/help/3083595/task-manager-might-show-100-disk-utilization-on-windows-10-devices-wit"})]}),"\n",(0,i.jsx)(s.p,{children:"Second: Task Manager isn't the most reliable about actually showing truth. Disk usage demonstrated in Task Manager is not about MB/s. It's about the number of I/O operations (reads and writes) ."}),"\n",(0,i.jsx)(s.p,{children:"Note that Taskman has a way to view the number of I/O operations on the details tab, but that is not in this shot."}),"\n",(0,i.jsx)(s.p,{children:"Regardless, since it shows only CURRENT value, (and the total Disk usage is not shown on that tab), we suggest using perfmon that shows a nice graph with relationships."}),"\n",(0,i.jsx)(s.p,{children:"Doing this allows to see a correlation between process disk usage (# of I/O operations/sec) and total disk usage (100%-%Idle time) (if any exist)."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 1 \u2013"})," So to verify and see if Endpoint Policy Manager is the actual cause for high disk utilization, you can get REAL DATA how to use science to troubleshoot it."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 2 \u2013"})," When you suspect high-disk utilization from Endpoint Policy Manager, use TaskMan, then right-click on the Endpoint Policy Manager Helper Service, click Go to details (this may be important to select the right process), then on the Details tab right-click on the selected process and Create dump file. We can analyze this and it tells us a lot."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 3 \u2013"})," Run ",(0,i.jsx)(s.code,{children:"perfmon.exe"})," to see a relationship graph. Clear out any existing counters."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_2_faq-913-02",src:t(281984).A+"",width:"720",height:"533"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 4 \u2013"})," Next you need to add new counters for PPExtensionSvc disk usage. To do this, find PROCESS then EXPAND."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_3_faq-913-03",src:t(638878).A+"",width:"1429",height:"993"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 5 \u2013"})," Expand the Process item from the top list, select only:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"I/O Data Operations/sec and"}),"\n",(0,i.jsx)(s.li,{children:"I/O Other Operations/sec then from the bottom list select"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_4_faq-913-04",src:t(935572).A+"",width:"1064",height:"799"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 6 \u2013"})," From Logical Disk, you want to add the following items (only ONE of which is shown in the screenshot)."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"%Idle Time"}),"\n",(0,i.jsx)(s.li,{children:"Current Disk Queue Length and"}),"\n",(0,i.jsx)(s.li,{children:"Split IO/Sec"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"NOTE:"})," Ensure _Total selected in the bottom list."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_5_faq-913-05",src:t(339734).A+"",width:"1064",height:"799"})}),"\n",(0,i.jsx)(s.p,{children:"Your total counters should look like this.. when sorted by OBJECT:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"369_6_faq-913-06",src:t(291e3).A+"",width:"1364",height:"170"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 7 \u2013"})," Optionally, add anything else that could be getting in the way or adding to high disk activity, like ",(0,i.jsx)(s.code,{children:"DISM.EXE"})," which was seen in the first screenshot which is known for high disk usage.\xa0"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 8 \u2013"})," This step is the same as adding other processes for disk usage, except that",(0,i.jsx)(s.code,{children:"DISM.EXE"}),"should be selected from the bottom list."]}),"\n",(0,i.jsx)(s.p,{children:"Results / what you're looking for:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 9 \u2013"})," See the correlation between Process and Disk counters if any:"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"For instance, if the Disk %Idle Time is low (so the disk is being actively used)"}),"\n",(0,i.jsx)(s.li,{children:"And PPExtensionService I/O Data Operations/sec is ALSO LOW\u2026"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 10 \u2013"})," \u2026then it's NOT PPExtensionService causing high disk usage and maybe ",(0,i.jsx)(s.code,{children:"DISM.EXE"})," I/O Data Operations/sec is high at the same time."]}),"\n",(0,i.jsx)(s.p,{children:"If you still think Endpoint Policy Manager is causing high disk usage / slowdowns we need:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 1 \u2013"})," ",(0,i.jsx)(s.a,{href:"/docs/policypak/policypak/troubleshooting/fastsupport",children:"What must I send to Endpoint Policy Manager support in order to get the FASTEST support?"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 2 \u2013"})," Screenshot of the perfmon as configured above running for a full minute."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 3 \u2013"})," Dump file created with task manager."]})]})}function d(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},935572:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/369_4_faq-913-04-c5848aa282c524e2714ba4c0616c017c.jpg"}}]);