"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[215465],{28453:(e,r,o)=>{o.d(r,{R:()=>s,x:()=>a});var t=o(296540);const n={},i=t.createContext(n);function s(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),t.createElement(i.Provider,{value:r},e.children)}},255587:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"usercube/integration-guide/workflows/how-to/workflow-create-mono/index","title":"For Resource Creation (Mono Record)","description":"This section guides you through the procedure for the creation of a [","source":"@site/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-create-mono/index.md","sourceDirName":"usercube/integration-guide/workflows/how-to/workflow-create-mono","slug":"/usercube/integration-guide/workflows/how-to/workflow-create-mono/","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-create-mono/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-create-mono/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Configure a Homonym Detection","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/configure-homonym-test/"},"next":{"title":"For Resource Creation (Multi Records)","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-create-multi/"}}');var n=o(474848),i=o(28453);const s={},a="For Resource Creation (Mono Record)",l={},c=[{value:"Declare a Workflow",id:"declare-a-workflow",level:2},{value:"Create Forms",id:"create-forms",level:2},{value:"Link the Forms to the Workflow",id:"link-the-forms-to-the-workflow",level:2},{value:"Add a summary (Optional)",id:"add-a-summary-optional",level:3},{value:"Assign the Right Permissions",id:"assign-the-right-permissions",level:2},{value:"Create Menu Items in the UI",id:"create-menu-items-in-the-ui",level:2},{value:"Add Aspects",id:"add-aspects",level:2},{value:"Homonym Detection (Optional)",id:"homonym-detection-optional",level:2},{value:"Customize the Display Table (Optional)",id:"customize-the-display-table-optional",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"for-resource-creation-mono-record",children:"For Resource Creation (Mono Record)"})}),"\n",(0,n.jsxs)(r.p,{children:["This section guides you through the procedure for the creation of a ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/workflow/",children:"\nWorkflow\n"})," to create a new resource with a unique record."]}),"\n",(0,n.jsx)(r.h2,{id:"declare-a-workflow",children:"Declare a Workflow"}),"\n",(0,n.jsxs)(r.p,{children:["This ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/workflow/",children:"\nWorkflow\n"})," is made of four activities:"]}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Action With Refine"}),": sends the creation request with a possibility of delegation."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Persist Only Resources"}),": saves the collected data to the repository without triggering provisioning."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Review With Feedback"}),": reviews the creation request with the possibility of getting feedback from another user."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Persist"}),": saves the collected data and triggers provisioning."]}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["See the ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/workflows/activity-templates/",children:"\nActivity Templates\n"})," topic for additional information."]}),"\n",(0,n.jsx)(r.p,{children:"The example below creates a workflow to create a new worker."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<Workflow Identifier="Directory_User_NewInternal" DisplayName_L1="User - New Employee" VariablesType="Workflow_Directory_User">  <Activity Identifier="Request" DisplayName_L1="Request" Template="ActionWithRefine" />  <Activity Identifier="PersistDraft" DisplayName_L1="Draft Creation" Template="PersistOnlyResources" />  <Activity Identifier="Review" DisplayName_L1="Review" Template="ReviewWithFeedback" />  <Activity Identifier="Persist" DisplayName_L1="Commit" Template="Persist" /></Workflow>\n\n'})}),"\n",(0,n.jsx)(r.h2,{id:"create-forms",children:"Create Forms"}),"\n",(0,n.jsxs)(r.p,{children:["The XML configuration below represents the creation of a ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/user-interface/form/",children:"Form"})," that defines the elements to display in the workflow."]}),"\n",(0,n.jsx)(r.p,{children:"Here we create two structured forms: the preliminary one is called inside the main one, and the main one is to be called in our final workflow form."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\nPreliminary form for user data:\n<Form Identifier="Workflow_Directory_User_NewInternal_PersonalData" EntityType="Directory_UserRecord">  <Control DisplayName_L1="Personal Data" OutputType="LayoutFieldset">    <Control DisplayName_L1="Full Name" OutputType="LayoutRowset">      <Control Binding="LastName" IsRequired="true" />      <Control Binding="FirstName" IsRequired="true" />    </Control>    <Control DisplayName_L1="Phone Numbers" OutputType="LayoutRowset">      <Control Binding="PhoneNumber" />      <Control Binding="MobileNumber" />    </Control>    <Control DisplayName_L1="Photo" OutputType="LayoutRowset">      <Control Binding="User.Photo" InputType="Image" />    </Control>  </Control>\n\nPreliminary form for user\'s contract data:\n<Form Identifier="Workflow_Directory_UserRecord_NewInternal_Contract" EntityType="Directory_UserRecord">  <Control DisplayName_L1="Contract" OutputType="LayoutFieldset">    <Control Binding="UserType" IsRequired="true" />    <Control Binding="ContractStartDate" IsRequired="true" />    <Control Binding="ContractEndDate" InputType="Date" AddedMinutes="1440" />  </Control></Form>\n\nPreliminary form for user\'s position data:\n<Form Identifier="Workflow_Directory_UserRecord_NewInternal_Position" EntityType="Directory_UserRecord">  <Control DisplayName_L1="Position" OutputType="LayoutFieldset">    <Control Binding="Title" />    <Control Binding="Organization" />    <Control Binding="Site" />    <Control Binding="PositionStartDate" />    <Control Binding="PositionEndDate" />  </Control></Form>\n\nMain form for all data:\n<Form Identifier="Workflow_Directory_User_NewInternal" EntityType="Directory_UserRecord">\n  Section calling the preliminary form for user data:\n  <Control OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_NewInternal_PersonalData" />\n  Section calling the preliminary form for contract data:\n  <Control OutputType="TransformImport" EmbeddedForm="Workflow_Directory_UserRecord_NewInternal_Contract" />\n  Section calling the preliminary form for position data:\n  <Control OutputType="TransformImport" EmbeddedForm="Workflow_Directory_UserRecord_NewInternal_Position" /></Form>\n\n'})}),"\n",(0,n.jsx)(r.h2,{id:"link-the-forms-to-the-workflow",children:"Link the Forms to the Workflow"}),"\n",(0,n.jsxs)(r.p,{children:["After creating a workflow with given activities, it is necessary to create the form to be displayed when launching the workflow. It has the type corresponding to a resource's creation with one record, i.e. ",(0,n.jsx)(r.code,{children:"WorkflowCreateRecordEntityForm"})," and it must specify the workflow's context (the entity type of the involved resources, the main property, the activity when the form is called, etc):"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<WorkflowCreateRecordEntityForm Identifier="Workflow_Directory_User_NewInternal" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_NewInternal:Request" FormTitle_L1="New Employee"/>\n\n'})}),"\n",(0,n.jsxs)(r.p,{children:["A ",(0,n.jsx)(r.code,{children:"WorkflowCreateRecordEntityForm"})," requires the following child elements:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"MainControl"})," that defines user's data;"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<WorkflowCreateRecordEntityForm Identifier="Workflow_Directory_User_NewInternal" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_NewInternal:Request" FormTitle_L1="New Employee"/>\n  <MainControl OutputType="LayoutContainer"></MainControl>\n</WorkflowCreateRecordEntityForm>\n\n'})}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"MainControl"})," attribute is here an empty container because we configure all personal data, contracts and positions as records to be able to anticipate changes for example. The line with the empty ",(0,n.jsx)(r.code,{children:"MainControl"})," is not mandatory. See the ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/identity-management/joiners-movers-leavers/position-change/",children:"\nPosition Change via Records\n"}),"topic for additional information."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"RecordControl"})," that defines record data, and calls the form created previously. See the ",(0,n.jsx)(r.a,{href:"#For-Resource-Creation-Mono-Record",children:"\nFor Resource Creation (Mono Record)\n"}),"topic for additional information."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<WorkflowCreateRecordEntityForm Identifier="Workflow_Directory_User_NewInternal" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_NewInternal:Request" FormTitle_L1="New Employee">  <MainControl OutputType="LayoutContainer" />\n  <RecordControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_NewInternal" />\n</WorkflowCreateRecordEntityForm>\n\n'})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"UI Form",src:o(500868).A+"",width:"2373",height:"2592"})}),"\n",(0,n.jsx)(r.h3,{id:"add-a-summary-optional",children:"Add a summary (Optional)"}),"\n",(0,n.jsxs)(r.p,{children:["Another child element ",(0,n.jsx)(r.code,{children:"RecordSummaryControl"})," can be added to insert a summary part, i.e. the form used after the workflow execution to show some values, most of the time those affected by the workflow, typically the properties editable in the workflow or generated properties. So in our situation, it displays the ",(0,n.jsx)(r.code,{children:"EmployeeId"})," and ",(0,n.jsx)(r.code,{children:"Mail"})," attributes that the workflow just computed:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\nSummary form:\n<Form Identifier="Workflow_Directory_User_New_Summary" EntityType="Directory_UserRecord">  <Control DisplayName_L1="Important Information" OutputType="LayoutFieldset">    <Control Binding="UserIdentifier" />    <Control Binding="Email" />    <Control Binding="Login" />  </Control></Form><WorkflowCreateRecordEntityForm Identifier="Workflow_Directory_User_NewInternal" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_NewInternal:Request" FormTitle_L1="New Employee">  <RecordControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_NewInternal_Base" />\n  <RecordSummaryControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_New_Summary">\n</WorkflowCreateRecordEntityForm>\n\n'})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"UI Summary",src:o(284264).A+"",width:"3018",height:"2337"})}),"\n",(0,n.jsx)(r.h2,{id:"assign-the-right-permissions",children:"Assign the Right Permissions"}),"\n",(0,n.jsxs)(r.p,{children:["Some profiles must get specific permissions so that the workflow is visible and usable by the right users.\nSee the ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/workflows/",children:"Workflows"})," topic for additional information."]}),"\n",(0,n.jsxs)(r.p,{children:["Below is an example of an access control rule where the ",(0,n.jsx)(r.code,{children:"Administrator"})," profile gets the permissions for the whole creation request and review from the previously created workflow:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<AccessControlRule Profile="Administrator" EntityType="Workflow_Directory_User" Identifier="Administrator_Workflows_Directory_User_Internal*" DisplayName_L1="Administrator_Workflows_Directory_User_Internal*">\n\n  Permissions for the Request activity:\n  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Request/ActionPending" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Request/Aborted" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Request/Purged" CanExecute="true" />\n\n  Permissions for the Review activity:\n  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Review/ReviewPending" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Review/RefinePending" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Review/Aborted" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_NewInternal/Review/Purged" CanExecute="true" /></AccessControlRule>\n\n'})}),"\n",(0,n.jsx)(r.h2,{id:"create-menu-items-in-the-ui",children:"Create Menu Items in the UI"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/user-interface/menuitem/",children:"\nMenu Item\n"}),"must be defined to make the workflow accessible in the UI."]}),"\n",(0,n.jsx)(r.p,{children:"Creating a new resource, an interesting location for this workflow could be the users list page."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Workflow Menu Items - Users List",src:o(625292).A+"",width:"2620",height:"871"})}),"\n",(0,n.jsx)(r.p,{children:"To create a menu item here for the new workflow, you can add the following XML configuration to the existing menu items list:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\n<MenuItem Identifier="Menu_Search_Directory_User" DisplayName_L1="Menu">  ...\n  <MenuItem Identifier="Menu_Search_Directory_User_NewInternal" DisplayName_L1="New Employee" IconCode="AddFriend" Workflow="Directory_User_NewInternal" /></MenuItem Identifier="Menu_Search_Directory_User" DisplayName_L1="Menu">\n\n'})}),"\n",(0,n.jsx)(r.h2,{id:"add-aspects",children:"Add Aspects"}),"\n",(0,n.jsx)(r.p,{children:"For each workflow, it is possible to add aspects according to the workflow's purpose."}),"\n",(0,n.jsx)(r.h2,{id:"homonym-detection-optional",children:"Homonym Detection (Optional)"}),"\n",(0,n.jsxs)(r.p,{children:["To perform a homonymy check on a workflow and thus prevent user duplicates see the ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/configure-homonym-test/",children:"\nConfigure a Homonym Detection\n"}),"topic for additional information."]}),"\n",(0,n.jsx)(r.p,{children:"When using records, the homonym detection displays the list of records and not just the list of users."}),"\n",(0,n.jsx)(r.p,{children:"Below is an example where a homonym entity link, based on the user's name, is called in the workflow form:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'\nHomonym detection:  \n<HomonymEntityLink Identifier="Homonym_Directory_UserRecord" FormEntityType="Directory_UserRecord">\n  <Filter\n    Property1="FirstName"\n    Property2="LastName"\n  />  <Filter\n    Property1="FirstName" ComparisonProperty1="LastName"\n    Property2="LastName" ComparisonProperty2="FirstName"\n  />  <Filter\n    Property1="FirstName"\n    Property2="LastName" ComparisonProperty2="BirthName"\n  /></HomonymEntityLink>\n\nPartial form for user data:\n...\n<Control DisplayName_L1="Personal Data" DisplayName_L2="Informations personnelles" OutputType="LayoutFieldset" HomonymEntityLink="Homonym_Directory_UserRecord">  <Control DisplayName_L1="Full Name" DisplayName_L2="Nom complet" OutputType="LayoutRowset">    <Control Binding="LastName" IsRequired="true" />    <Control Binding="FirstName" IsRequired="true" />  </Control></Control>...\n\n'})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"UI Homonym Detection",src:o(614248).A+"",width:"1068",height:"336"})}),"\n",(0,n.jsx)(r.h2,{id:"customize-the-display-table-optional",children:"Customize the Display Table (Optional)"}),"\n",(0,n.jsxs)(r.p,{children:["To configure a display table different from the default one provided by Identity Manager, see the ",(0,n.jsx)(r.a,{href:"/docs/usercube_saas/usercube/integration-guide/ui/how-tos/custom-display-table/",children:"Customize Display Tables"})," topic for additional information."]})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},284264:(e,r,o)=>{o.d(r,{A:()=>t});const t=o.p+"assets/images/howto_resourcecreationmono_summary_v602-8e54950b25c855fdb5f66f159a64d97b.webp"},500868:(e,r,o)=>{o.d(r,{A:()=>t});const t=o.p+"assets/images/howto_resourcecreationmono_form_v602-acf65d2a109dfe118969318701325b91.webp"},614248:(e,r,o)=>{o.d(r,{A:()=>t});const t=o.p+"assets/images/howto_resourcecreationmono_homonym_v603-3d5503dab0918b26e134e2742fe152c4.webp"},625292:(e,r,o)=>{o.d(r,{A:()=>t});const t=o.p+"assets/images/menuitems_userslist_v603-433947ce60acce31400fd351dde122c0.webp"}}]);