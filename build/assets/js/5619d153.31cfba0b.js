"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[557181],{28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var i=r(296540);const n={},s=i.createContext(n);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(s.Provider,{value:t},e.children)}},107750:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"auditor/admin/monitoringplans/vmware/overview","title":"VMware","description":"NOTE","source":"@site/docs/auditor/auditor/admin/monitoringplans/vmware/overview.md","sourceDirName":"auditor/admin/monitoringplans/vmware","slug":"/auditor/admin/monitoringplans/vmware/overview","permalink":"/docs/auditor/auditor/admin/monitoringplans/vmware/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/admin/monitoringplans/vmware/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"User Activity","permalink":"/docs/auditor/auditor/admin/monitoringplans/useractivity/overview"},"next":{"title":"VMware Monitoring Scope","permalink":"/docs/auditor/auditor/admin/monitoringplans/vmware/scope"}}');var n=r(474848),s=r(28453);const o={},a="VMware",c={},d=[{value:"Data Collection from VMware Servers",id:"data-collection-from-vmware-servers",level:2},{value:"VMware ESX/ESXi/vCenter",id:"vmware-esxesxivcenter",level:2}];function l(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"vmware",children:"VMware"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"NOTE:"})," Prior to configuring your monitoring plan, please read and complete the instructions in the following topics:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/requirements/ports",children:"Protocols and Ports Required"})," \u2013 To ensure successful data collection and activity monitoring configure necessary protocols and ports for inbound and outbound connections"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/dataaccounts",children:"Data Collecting Account"})," \u2013 Configure data collecting accounts as required to audit your IT systems"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/configuration/vmware/overview",children:"VMware"})," \u2013 Configure data source as required to be monitored"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"For this data source, specify the options you need:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitor this data source and collect activity data"}),(0,n.jsx)(t.td,{children:"Enable monitoring of the selected data source and configure Auditor to collect and store audit data."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitor VMware configuration changes"}),(0,n.jsxs)(t.td,{children:["Configuration changes are always monitored for VMware data source. See the ",(0,n.jsx)(t.a,{href:"#Data-Collection-from-VMware-Servers",children:"Data Collection from VMware Servers"})," topic\xa0 for additional information."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitor VMware logon activity"}),(0,n.jsx)(t.td,{children:"Specify what types of logon events you want to monitor for VMware infrastructure."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitor SSO users/groups on vCenter and Local users on ESXi sever"}),(0,n.jsxs)(t.td,{children:["Select Enable monitoring if you want to audit the following users and groups:   - vCenter Single Sign-On (SSO) Users. The product collects data from vCenter. - Localos users. For these users, the product collects data from ESXi and vCenter. - VMware groups. The product collects data from vCenter.   To audit users and groups, vCenter 6.5 and above required. Check that your data collecting account has all required rights and permissions. See the ",(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/configuration/vmware/permissions",children:"Permissions for VMware Server Auditing "})," topic for additional information."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Collect data for state-in-time reports"}),(0,n.jsxs)(t.td,{children:["Configure Auditor to store daily snapshots of your VMware system configuration required for further state-in-time reports generation.  The product updates the latest snapshot on the regular basis to keep users up-to-date on actual system state. Only the latest snapshot is available for reporting in Auditor.  If you want to generate reports based on different snapshots, you must import snapshots to the Audit Database.  To import snapshots, you must be assigned the Global administrator or the Global reviewer role .  Follow the steps to import snapshots.  ",(0,n.jsx)(t.strong,{children:"Step 1 \u2013"})," In the Manage historical snapshots section, click Manage.  ",(0,n.jsx)(t.strong,{children:"Step 2 \u2013"})," Select the snapshots that you want to import.  ",(0,n.jsx)(t.strong,{children:"Step 3 \u2013"})," Move the selected snapshots to the Snapshots available for reporting list using the arrow button.  ",(0,n.jsx)(t.strong,{children:"Step 4 \u2013"})," When finished, click OK."]})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Review your data source settings and click ",(0,n.jsx)(t.strong,{children:"Add"})," to go back to your plan. The newly created data source will appear in the ",(0,n.jsx)(t.strong,{children:"Data source"})," list. As a next step, click ",(0,n.jsx)(t.strong,{children:"Add item"})," to specify an object for monitoring. See the ",(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/datasources#add-items-for-monitoring",children:"Add Items for Monitoring"})," topic for additional information."]}),"\n",(0,n.jsx)(t.h2,{id:"data-collection-from-vmware-servers",children:"Data Collection from VMware Servers"}),"\n",(0,n.jsx)(t.p,{children:"On a high level, data collection process for VMware servers works as follows:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"hiw_diagram_vma_thumb_0_0",src:r(372569).A+"",width:"1280",height:"720"})}),"\n",(0,n.jsxs)(t.p,{children:["VMware administrator prepares a dedicated service account with sufficient permissions to collect data from VMware servers. This account must have at least\xa0",(0,n.jsx)(t.strong,{children:"Read Only\xa0role"})," on those servers. For more information on VMware vSphere roles and permissions assignment, refer to ",(0,n.jsx)(t.a,{href:"https://docs.vmware.com/en/VMware-vSphere/6.5/com.vmware.vsphere.security.doc/GUID-18071E9A-EED1-4968-8D51-E0B4F526FDA3.html",children:"this VMware article"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Netwrix administrator does the following:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Creates a monitoring plan in Netwrix Auditor, specifying the service account (prepared at step 1) as a data collecting account in the ",(0,n.jsx)(t.strong,{children:"Monitoring Plan wizard"}),". Then s/he adds items to the monitoring plan \u2013 these are VMware servers to collect data from."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Configures alerts related to VMware data source. Current version does not include predefined alerts for that data source, so follow the ",(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/admin/alertsettings/create",children:"Create Alerts"})," to create and configure the necessary alerts."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Remember to set the filter to \u201c",(0,n.jsx)(t.strong,{children:"Data Source___equals___VMware"}),"\u201d."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"__Netwrix Auditor Data Collection Service__starts periodic (every 15 min) data collection sessions. The results of each session include:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"VMware infrastructure snapshot collected from the monitored items, i.e. VMware vCenter or ESX(i) host"}),"\n",(0,n.jsxs)(t.li,{children:["VMware events that occurred since the previous data collection. Data is retrieved via ",(0,n.jsx)(t.strong,{children:"VMware web services API"})," using HTTPS protocol."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Netwrix Auditor Data Collection Service"})," processes collected data into the proprietary format (Activity Records). Each Activity Record contains initiator\u2019s account, time, action, and other details."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"To determine what has changed in the configuration, it compares a state snapshot from VMware server with the previously taken."}),"\n",(0,n.jsxs)(t.li,{children:["To get \u2018",(0,n.jsx)(t.em,{children:"Who"}),"\u2019 (initiator) and \u2018",(0,n.jsx)(t.em,{children:"When"}),"\u2019 (date and time) information for the detected changes, the product uses VMware events data."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Netwrix Auditor Server then writes the Activity Records to the audit database (default retention \u2013 180 days) and long-term archive (default retention \u2013 120 months)."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Users can work with collected data in Netwrix Auditor client UI: run search, view reports, and so on. If you have configured alerting in Netwrix Auditor, then the activities that match the certain criteria will trigger the alerts. Recipients will be notified by email, and response actions will be taken, if configured."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Netwrix Auditor also generates an Activity Summary once a day (by default, at 3 AM) and sends it to the specified recipients. This email lists VMware infrastructure changes and activities collected by Netwrix Auditor during the last 24 hours."}),"\n",(0,n.jsx)(t.h2,{id:"vmware-esxesxivcenter",children:"VMware ESX/ESXi/vCenter"}),"\n",(0,n.jsx)(t.p,{children:"Complete the following fields:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"General"})}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Specify VMware ESX, ESXi, or vCenter for monitoring"}),(0,n.jsx)(t.td,{children:"Specify the ESX or ESXi host URL, or vCenter Server URL."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Specify the account for collecting data"}),(0,n.jsxs)(t.td,{children:["Select the account that will be used to collect data for this item. If you want to use a specific account (other than the one you specified during monitoring plan creation), select ",(0,n.jsx)(t.strong,{children:"Custom account"})," and enter credentials. The credentials are case sensitive. A custom account must be granted the same permissions and access rights as the default account used for data collection. See ",(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/configuration/vmware/permissions",children:"Permissions for VMware Server Auditing "}),"topic for more information."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Virtual Machines"})}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Specify monitoring restrictions"}),(0,n.jsxs)(t.td,{children:['Select the virtual machines to be excluded from search results, reports and Activity Summaries. To add VMs to the list, click Add. Then provide the full path of the machine to exclude. Consider the following:   - To exclude a single VM, provide its full path as shown in the "',(0,n.jsx)(t.em,{children:"What"}),'" column of reports and Activity Summary, for example: ',(0,n.jsx)(t.em,{children:"Vcenters\\VCenterServer021\\VMs\\vm01"}),". - To exclude several VMs, you can define a mask using a wildcard, for example:    - ",(0,n.jsx)(t.em,{children:"*\\TestVM*"})," \u2014 exclude VMs with names starting with ",(0,n.jsx)(t.em,{children:"TestVM"})," (e.g., ",(0,n.jsx)(t.em,{children:"TestVM01, TestVM_new"}),"), located anywhere.   - ",(0,n.jsx)(t.em,{children:"*TestVM*"})," \u2014 exclude VMs with names containing ",(0,n.jsx)(t.em,{children:"TestVM"})," (e.g., ",(0,n.jsx)(t.em,{children:"MyTestVM02"}),").   In addition to the restrictions for a monitoring plan, you can use the *.txt files to collect more granular audit data. Note that the new monitoring scope restrictions apply together with previous exclusion settings configured in the *.txt files. See the ",(0,n.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/overview",children:"Monitoring Plans"}),"topic for additional information."]})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},372569:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/hiw_diagram_vma_thumb_0_0-b028b639729793fa238ee36104aeaee4.webp"}}]);