"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[250162],{28453:(t,i,e)=>{e.d(i,{R:()=>s,x:()=>a});var n=e(296540);const o={},r=n.createContext(o);function s(t){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof t?t(i):{...i,...t}}),[i,t])}function a(t){let i;return i=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:s(t.components),n.createElement(r.Provider,{value:i},t.children)}},586781:(t,i,e)=>{e.r(i),e.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"auditor/configuration/microsoft365/microsoftentraid/permissions","title":"Permissions for Microsoft Entra ID Auditing","description":"Auditor allows you to audit Office 365 organizations that have established modern authentication as their identity management approach, including support for multi-factor authentication (MFA). To learn more about modern authentication, refer to the following Microsoft article: What is modern authentication.","source":"@site/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/permissions.md","sourceDirName":"auditor/configuration/microsoft365/microsoftentraid","slug":"/auditor/configuration/microsoft365/microsoftentraid/permissions","permalink":"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/permissions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/permissions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Microsoft Entra ID","permalink":"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/overview"},"next":{"title":"Microsoft Entra ID Ports","permalink":"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/ports"}}');var o=e(474848),r=e(28453);const s={},a="Permissions for Microsoft Entra ID Auditing",c={},d=[{value:"For Microsoft Entra ID Auditing",id:"for-microsoft-entra-id-auditing",level:2},{value:"Grant Admin Consent to a Tenant",id:"grant-admin-consent-to-a-tenant",level:3},{value:"Configure Client Secret",id:"configure-client-secret",level:3},{value:"Obtain Tenant Name",id:"obtain-tenant-name",level:3}];function l(t){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"permissions-for-microsoft-entra-id-auditing",children:"Permissions for Microsoft Entra ID Auditing"})}),"\n",(0,o.jsxs)(i.p,{children:["Auditor allows you to audit Office 365 organizations that have established modern authentication as their identity management approach, including support for ",(0,o.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/azure/active-directory/authentication/concept-mfa-howitworks",children:"multi-factor authentication (MFA)"}),". To learn more about modern authentication, refer to the following Microsoft article: ",(0,o.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/office365/enterprise/hybrid-modern-auth-overview#what-is-modern-authentication",children:"What is modern authentication"}),"."]}),"\n",(0,o.jsx)(i.p,{children:"In this scenario, Netwrix Auditor will access the cloud-based infrastructure via Microsoft Graph and other modern APIs, being authenticated through a pre-configured Microsoft Entra ID (formerly Azure AD) application with appropriate access permissions. So, you should register an Microsoft Entra ID app and provide its settings to Auditor\xa0 when configuring a monitored item."}),"\n",(0,o.jsx)(i.h2,{id:"for-microsoft-entra-id-auditing",children:"For Microsoft Entra ID Auditing"}),"\n",(0,o.jsx)(i.p,{children:"To collect audit data in your cloud-based environment, Netwrix uses a dedicated Microsoft Entra ID application and leverages APIs access permissions granted to that app. To register such application and assign required permissions, a Microsoft Entra ID account with an administrative role will be required:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["If Basic Authentication is used:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["A Microsoft Entra ID application named ",(0,o.jsx)(i.strong,{children:"Netwrix Auditor for Microsoft Entra ID"})," will be created automatically when Netwrix Auditor connects to the monitored item (Office 365 tenant) for the first time. Thus, you will need to prepare a Microsoft Entra ID user account with an administrative role in Microsoft Entra ID \u2014to create an app and perform initial data collection."]}),"\n",(0,o.jsxs)(i.li,{children:["Provide this user name and password in the monitored item properties. See the ",(0,o.jsx)(i.a,{href:"/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/overview",children:"Microsoft Entra ID"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["See the ",(0,o.jsx)(i.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/basicauth",children:"Using Basic Authentication with Microsoft Entra ID"})," topic for additional information."]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["If Modern Authentication is used:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Microsoft Entra ID application should be created manually by user with administrative role and assigned required permissions. See the ",(0,o.jsx)(i.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/modernauth#configuring-microsoft-entra-id-app-for-auditing-microsoft-entra-id",children:"Configuring Microsoft Entra ID App for Auditing Microsoft Entra ID"})," topic for additional information."]}),"\n",(0,o.jsxs)(i.li,{children:["You will need to provide the Microsoft Entra ID app settings in the monitored item (Office 365 tenant) properties. See the ",(0,o.jsx)(i.a,{href:"/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/overview",children:"Microsoft Entra ID"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["See the ",(0,o.jsx)(i.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/modernauth",children:"Using Modern Authentication with Microsoft Entra ID"})," topic for additional information."]}),"\n",(0,o.jsx)(i.p,{children:"Permissions for ongoing data collection will depend on data you plan to collect:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"To collect activity (event-based) data including logon attempts, the administrative role will be needed."}),"\n",(0,o.jsx)(i.li,{children:"To collect activity data without logons, the privileged role can be revoked from the specified account after the initial data collection."}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"grant-admin-consent-to-a-tenant",children:"Grant Admin Consent to a Tenant"}),"\n",(0,o.jsxs)(i.p,{children:["Go back to the ",(0,o.jsx)(i.strong,{children:"Microsoft Entra ID admin center"})," > ",(0,o.jsx)(i.strong,{children:"Applications"})," > ",(0,o.jsx)(i.strong,{children:"App registrations"})," >  ",(0,o.jsx)(i.strong,{children:"API permissions"})," and click ",(0,o.jsx)(i.strong,{children:"Grant admin consent for"}),"\xa0",(0,o.jsx)(i.em,{children:(0,o.jsx)(i.code,{children:"<tenant name>"})}),".\nWhen prompted to confirm, click ",(0,o.jsx)(i.strong,{children:"Yes"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"NOTE:"})," For Office 365 permissions, go to ",(0,o.jsx)(i.strong,{children:"Request API Permissions"})," > ",(0,o.jsx)(i.strong,{children:"APIs my organization users"}),' and type "Office 365" in the search bar.']}),"\n",(0,o.jsxs)(i.p,{children:["See the following Microsoft article for additional information on how to create an application and service principal using Microsoft Entra ID Admin portal: ",(0,o.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal",children:"Create an Microsoft Entra application and service principal that can access resources"}),"."]}),"\n",(0,o.jsx)(i.h3,{id:"configure-client-secret",children:"Configure Client Secret"}),"\n",(0,o.jsx)(i.p,{children:"Follow the steps to create a new client secret to be used by the app."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 1 \u2013"})," Go to ",(0,o.jsx)(i.strong,{children:"Manage"})," > ",(0,o.jsx)(i.strong,{children:"Certificates & secrets"})," and click ",(0,o.jsx)(i.strong,{children:"New client secret"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 2 \u2013"})," Enter the description. From the expiration options select ",(0,o.jsx)(i.strong,{children:"24 months"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 3 \u2013"})," Click ",(0,o.jsx)(i.strong,{children:"Add"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 4 \u2013"})," The new secret will be displayed in the list. Click ",(0,o.jsx)(i.strong,{children:"Copy to clipboard"}),' icon on the "Value" parameter on the right side of the screen.']}),"\n",(0,o.jsxs)(i.p,{children:["See the following Microsoft article for more information on how to add a client secret: ",(0,o.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#add-a-client-secret",children:"Add a client secret"}),"."]}),"\n",(0,o.jsx)(i.h3,{id:"obtain-tenant-name",children:"Obtain Tenant Name"}),"\n",(0,o.jsx)(i.p,{children:"Follow the steps to obtain the tenant name."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 1 \u2013"})," Go to ",(0,o.jsx)(i.strong,{children:"Microsoft Entra ID"})," > ",(0,o.jsx)(i.strong,{children:"Overview"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Step 2 \u2013"})," In the Tenant Information section, locate the ",(0,o.jsx)(i.strong,{children:"Primary domain"})," field, copy its value and store to a safe location."]})]})}function h(t={}){const{wrapper:i}={...(0,r.R)(),...t.components};return i?(0,o.jsx)(i,{...t,children:(0,o.jsx)(l,{...t})}):l(t)}}}]);