"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[709451],{28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>a});var i=o(296540);const t={},r=i.createContext(t);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},37486:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"auditor/configuration/activedirectory/permissions","title":"Permissions for Active Directory Auditing","description":"Before you start creating a monitoring plan to audit your Active Directory, plan for the account that will be used for data collection \u2013 it should meet the requirements listed in this topic. Then you will provide this account in the monitoring plan wizard (or in the monitored item settings).","source":"@site/docs/auditor/auditor/configuration/activedirectory/permissions.md","sourceDirName":"auditor/configuration/activedirectory","slug":"/auditor/configuration/activedirectory/permissions","permalink":"/docs/auditor/auditor/configuration/activedirectory/permissions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/activedirectory/permissions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Active Directory","permalink":"/docs/auditor/auditor/configuration/activedirectory/overview"},"next":{"title":"Assign Permission To Read the Registry Key","permalink":"/docs/auditor/auditor/configuration/activedirectory/permissionsregistrykeys"}}');var t=o(474848),r=o(28453);const s={},a="Permissions for Active Directory Auditing",c={},l=[{value:"Account Requirements",id:"account-requirements",level:2},{value:"Additional Configuration to Review Changes Made via Exchange Server",id:"additional-configuration-to-review-changes-made-via-exchange-server",level:2},{value:"Additional Configuration for Domain Controller&#39;s Event Logs Auto-backup",id:"additional-configuration-for-domain-controllers-event-logs-auto-backup",level:2},{value:"Considerations for gMSA\xa0Account",id:"considerations-for-gmsaaccount",level:2},{value:"Target Domain",id:"target-domain",level:3},{value:"Configure the Manage Auditing and Security Log Policy",id:"configure-the-manage-auditing-and-security-log-policy",level:2},{value:"Grant Permissions for the Deleted Objects Container",id:"grant-permissions-for-the-deleted-objects-container",level:2},{value:"Define the Log On As a Service Policy",id:"define-the-log-on-as-a-service-policy",level:2},{value:"Define the Log On As a Batch Job Policy",id:"define-the-log-on-as-a-batch-job-policy",level:2},{value:"Configure the Log On As a Batch Job policy via Local Security Policy Snap-in",id:"configure-the-log-on-as-a-batch-job-policy-via-local-security-policy-snap-in",level:3},{value:"Configure the Log On As a Batch Job Policy Using the Group Policy Management Console",id:"configure-the-log-on-as-a-batch-job-policy-using-the-group-policy-management-console",level:3}];function d(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"permissions-for-active-directory-auditing",children:"Permissions for Active Directory Auditing"})}),"\n",(0,t.jsx)(n.p,{children:"Before you start creating a monitoring plan to audit your Active Directory, plan for the account that will be used for data collection \u2013 it should meet the requirements listed in this topic. Then you will provide this account in the monitoring plan wizard (or in the monitored item settings)."}),"\n",(0,t.jsx)(n.h2,{id:"account-requirements",children:"Account Requirements"}),"\n",(0,t.jsx)(n.p,{children:"The account used for data collection must meet the following requirements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Member of the Domain Admins group on the target server."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"NOTE:"})," This covers all the required permissions below and is a mandatory setting if you want to use network traffic compression for data collection."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Local Admin on the Netwrix Auditor server."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The combination of the following rights and permissions if you plan to disable network traffic compression for your monitoring plan or, for some reasons, do not want to add this account to the Domain Admins group:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['The "Manage auditing and security log" policy must be defined for this account.',(0,t.jsx)(n.br,{}),"\n","See the ",(0,t.jsx)(n.a,{href:"#Configure-the-Manage-Auditing-and-Security-Log-Policy",children:"Configure the Manage Auditing and Security Log Policy"})," topic for additional information."]}),"\n",(0,t.jsxs)(n.li,{children:["If you plan to process the Active Directory Deleted Objects container, Read permission on\nthis container are required. See the ",(0,t.jsx)(n.a,{href:"#Grant-Permissions-for-the-Deleted-Objects-Container",children:"Grant Permissions for the Deleted Objects Container"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If the account selected for data collection is not a member of the Domain Admins group, see the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/windowsserver/permissions",children:"Assign Permission To Read the Registry Key"})," topic."]}),"\n",(0,t.jsx)(n.h2,{id:"additional-configuration-to-review-changes-made-via-exchange-server",children:"Additional Configuration to Review Changes Made via Exchange Server"}),"\n",(0,t.jsx)(n.p,{children:"If you have an on-premises Exchange server in your Active Directory domain, consider that some changes can be made via that Exchange server. To be able to audit and report who made those changes, you should make sure that the account used for data collection has any of the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Membership in the ",(0,t.jsx)(n.strong,{children:"Organization Management"})," or ",(0,t.jsx)(n.strong,{children:"Records Management"})," group."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Audit Logs"})," management role (see the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/exchange/permissions#assign-management-roles",children:"Assigning Management Roles"})," topic for additional information)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You will also need to configure Exchange Administrator Audit Logging (AAL) settings. See the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/exchange/auditlog",children:"Exchange Administrator Audit Logging Settings"})," topic for additional information."]}),"\n",(0,t.jsx)(n.h2,{id:"additional-configuration-for-domain-controllers-event-logs-auto-backup",children:"Additional Configuration for Domain Controller's Event Logs Auto-backup"}),"\n",(0,t.jsx)(n.p,{children:"The following is required if auto-backup is enabled for the domain controller event logs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Permissions to access the HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\EventLog\\Security registry key on the domain controllers in the target domain. See the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/windowsserver/permissions",children:"Assign Permission To Read the Registry Key"})," topic for additional information."]}),"\n",(0,t.jsxs)(n.li,{children:["Membership in one of the following groups: ",(0,t.jsx)(n.strong,{children:"Administrators"}),", ",(0,t.jsx)(n.strong,{children:"Print Operators"}),", ",(0,t.jsx)(n.strong,{children:"Server Operators"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Read/Write share permission and Full control security permission on the logs backup folder."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"considerations-for-gmsaaccount",children:"Considerations for gMSA\xa0Account"}),"\n",(0,t.jsx)(n.p,{children:"If you are using gMSA for data collection, consider that AAL event data collection from your on-premise Exchange server will not be possible."}),"\n",(0,t.jsxs)(n.p,{children:["Thus, changes made to your Active Directory domain via that Exchange server will be reported with ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.code,{children:"domain\\Exchange_server_name$"})}),' instead of the initiator (user) name in the "',(0,t.jsx)(n.em,{children:"Who"}),'" field of reports, search results and activity summaries.']}),"\n",(0,t.jsx)(n.h3,{id:"target-domain",children:"Target Domain"}),"\n",(0,t.jsx)(n.p,{children:"If you plan to use network traffic compression for data processing, consider the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If network traffic compression will be ",(0,t.jsx)(n.em,{children:"enabled"}),", then the account must belong to the Domain Admins group."]}),"\n",(0,t.jsxs)(n.li,{children:["If network traffic compression will be ",(0,t.jsx)(n.em,{children:"disabled"}),", and the account you plan to use for data collection is not a member of the Domain Admins group, then the  ",(0,t.jsx)(n.strong,{children:"Manage auditing and security log"})," policy must be defined for this account.",(0,t.jsx)(n.br,{}),"\n","See the ",(0,t.jsx)(n.a,{href:"#Configure-the-Manage-Auditing-and-Security-Log-Policy",children:"Configure the Manage Auditing and Security Log Policy"})," topic for more information."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If you need to process Active Directory ",(0,t.jsx)(n.strong,{children:"Deleted Objects"})," container, consider the following:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read permission on\nthis container is required. See the ",(0,t.jsx)(n.a,{href:"#Grant-Permissions-for-the-Deleted-Objects-Container",children:"Grant Permissions for the Deleted Objects Container"})," topic for additional information."]}),"\n",(0,t.jsx)(n.li,{children:"Grant this permission only if the account you plan to use for data collection is not a member of the Domain Admins group."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If auto-backup is ",(0,t.jsx)(n.em,{children:"enabled"})," for the domain controller event logs:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Permissions to access the ",(0,t.jsx)(n.em,{children:"HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\EventLog\\Security"})," registry key on the domain controllers in the target domain. See the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/windowsserver/permissions",children:"Assign Permission To Read the Registry Key"})," topic for additional information."]}),"\n",(0,t.jsx)(n.li,{children:"Membership in any of the following groups: Administrators, Print Operators, Server Operators"}),"\n",(0,t.jsx)(n.li,{children:"Read/Write share permission and Full control security permission on the logs backup folder."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"NOTE:"})," Grant these permissions only if the account you plan to use for data collection is not a member of the ",(0,t.jsx)(n.strong,{children:"Domain Admins"})," group."]}),"\n",(0,t.jsx)(n.p,{children:"If you have an on-premises Exchange server in your Active Directory domain, consider that some changes can be made via that Exchange server. To be able to audit and report who made those changes, you should make sure that the account used for data collection has any of the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Membership in the ",(0,t.jsx)(n.strong,{children:"Organization Management"})," or ",(0,t.jsx)(n.strong,{children:"Records Management"})," group."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"Audit Logs"})," management role (see the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/exchange/permissions#assign-management-roles",children:"Assigning Management Roles"})," topic for additional information)."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You will also need to configure Exchange Administrator Audit Logging (AAL) settings. See the ",(0,t.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/exchange/auditlog",children:"Exchange Administrator Audit Logging Settings"})," topic for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"If you are using gMSA for data collection, consider that AAL event data collection from your on-premise Exchange server will not be possible."}),"\n",(0,t.jsxs)(n.p,{children:["Thus, changes made to your Active Directory domain via that Exchange server will be reported with ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.code,{children:"domain\\Exchange_server_name$"})}),' instead of the initiator (user) name in the "',(0,t.jsx)(n.em,{children:"Who"}),'" field of reports, search results and activity summaries.']}),"\n",(0,t.jsx)(n.h2,{id:"configure-the-manage-auditing-and-security-log-policy",children:"Configure the Manage Auditing and Security Log Policy"}),"\n",(0,t.jsx)(n.p,{children:"Perform this procedure only if the account selected for data collection is not a member of the Domain Admins group."}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps to configure the Manage Auditing and Security Log Policy."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," Open the ",(0,t.jsx)(n.strong,{children:"Group Policy Management"})," console on any domain controller in the target domain: navigate to Start > Windows Administrative Tools (Windows Server 2016 and higher) or Administrative Tools (Windows 2012) ",(0,t.jsx)(n.strong,{children:"Group Policy Management."})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," In the left pane, navigate to ",(0,t.jsxs)(n.strong,{children:["Forest: ",(0,t.jsx)(n.code,{children:"<forest_name>"})," > Domains > ",(0,t.jsx)(n.code,{children:"<domain_name>"})]})," ",(0,t.jsx)(n.strong,{children:"> Domain Controllers"}),". Right-click the effective domain controllers policy (by default, it is the ",(0,t.jsx)(n.strong,{children:"Default Domain Controllers Policy"}),"), and select ",(0,t.jsx)(n.strong,{children:"Edit"})," from the pop-up menu."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," In the ",(0,t.jsx)(n.strong,{children:"Group Policy Management Editor"})," dialog, expand the ",(0,t.jsx)(n.strong,{children:"Computer Configuration"})," node on the left and navigate to ",(0,t.jsx)(n.strong,{children:"Policies > Windows Settings > Security Settings > Local Policies."})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," On the right, double-click the ",(0,t.jsx)(n.strong,{children:"User Rights Assignment"})," policy."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 5 \u2013"})," Locate the ",(0,t.jsx)(n.strong,{children:"Manage auditing and security log"})," policy and double-click it."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 6 \u2013"})," In the ",(0,t.jsx)(n.strong,{children:"Manage auditing and security log Properties"})," dialog, click ",(0,t.jsx)(n.strong,{children:"Add User or Group"}),", specify the user that you want to define this policy for."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 7 \u2013"})," Run the following command to update group policy: ",(0,t.jsx)(n.code,{children:"gpupdate /force"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 8 \u2013"})," Type ",(0,t.jsx)(n.code,{children:"repadmin /syncall"})," command and press Enter for replicate GPO changes to other domain controllers."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 9 \u2013"})," Ensure that new GPO settings applied on any audited domain controller."]}),"\n",(0,t.jsx)(n.h2,{id:"grant-permissions-for-the-deleted-objects-container",children:"Grant Permissions for the Deleted Objects Container"}),"\n",(0,t.jsx)(n.p,{children:"Perform this procedure only if the account selected for data collection is not a member of the Domain Admins group."}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps to grant permissions for the Deleted Objects Container."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," Log on to any domain controller in the target domain with a user account that is a member of the ",(0,t.jsx)(n.strong,{children:"Domain Admins"})," group."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," Navigate to ",(0,t.jsx)(n.strong,{children:"Start > Run"})," and type ",(0,t.jsx)(n.em,{children:'"cmd"'}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," Input the following command: ",(0,t.jsx)(n.code,{children:"dsacls <deleted_object_dn> /takeownership"})]}),"\n",(0,t.jsxs)(n.p,{children:["where ",(0,t.jsx)(n.code,{children:"deleted_object_dn"})," is the distinguished name of the deleted directory object."]}),"\n",(0,t.jsxs)(n.p,{children:["For example: ",(0,t.jsx)(n.code,{children:'dsacls "CN=Deleted Objects,DC=Corp,DC=local" /takeownership'})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," To grant permission to view objects in the ",(0,t.jsx)(n.strong,{children:"Deleted Objects"})," container to a user or a group, type the following command:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"dsacls <deleted_object_dn> /G <user_or_group>:<Permissions>"})}),"\n",(0,t.jsxs)(n.p,{children:["where ",(0,t.jsx)(n.code,{children:"deleted_object_dn"})," is the distinguished name of the deleted directory object and",(0,t.jsx)(n.code,{children:" user_or_group"})," is the user or group for whom the permission applies, and ",(0,t.jsx)(n.code,{children:"Permissions"})," is the permission to grant."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, ",(0,t.jsx)(n.code,{children:'dsacls "CN=Deleted Objects,DC=Corp,DC=local" /G Corp\\jsmith:LCRP'})]}),"\n",(0,t.jsxs)(n.p,{children:["In this example, the user CORP\\jsmith has been granted ",(0,t.jsx)(n.strong,{children:"List Contents"})," and ",(0,t.jsx)(n.strong,{children:"Read Property"})," permissions for the ",(0,t.jsx)(n.strong,{children:"Deleted Objects"})," container in the ",(0,t.jsx)(n.strong,{children:"corp.local"})," domain. These permissions let this user view the contents of the ",(0,t.jsx)(n.strong,{children:"Deleted Objects"})," container, but do not let this user make any changes to objects in this container. These permissions are equivalent to the default permissions that are granted to the ",(0,t.jsx)(n.strong,{children:"Domain Admins"})," group."]}),"\n",(0,t.jsx)(n.h2,{id:"define-the-log-on-as-a-service-policy",children:"Define the Log On As a Service Policy"}),"\n",(0,t.jsx)(n.p,{children:"On the Logon Activity monitoring plan creation, the Log on as a service policy is automatically defined for the Data Processing Account as a local security policy. However, if you have the Deny log on as a service policy defined locally or on the domain level, the local Log on as a service policy will be reset. In this case, redefine the Deny log on as a service policy through the Local Security Policy console on your computer or on the domain level through the Group Policy Management console."}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps to define the Log On As a Service policy."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," On the computer where Auditor Server is installed, open the ",(0,t.jsx)(n.strong,{children:"Local Security Policy"})," snap-in: navigate to Start > Windows Administrative Tools and select Local Security Policy."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," Navigate to ",(0,t.jsx)(n.strong,{children:"Security Settings > Local Policies > User Rights Assignment"})," and locate the ",(0,t.jsx)(n.strong,{children:"Log on as a service"})," policy."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," Double-click the ",(0,t.jsx)(n.strong,{children:"Log on as a service"})," policy, and click ",(0,t.jsx)(n.strong,{children:"Add User or Group"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," Specify the account that you want to define this policy for."]}),"\n",(0,t.jsx)(n.h2,{id:"define-the-log-on-as-a-batch-job-policy",children:"Define the Log On As a Batch Job Policy"}),"\n",(0,t.jsx)(n.p,{children:"When you create a Logon Activity monitoring plan, the Log on as a batch job policy is automatically defined for the Data Processing Account as a local security policy. However, if you have the Deny log on as a batch job policy defined locally or on the domain level, the local Log on as a batch job policy will be reset. In this case, redefine the Deny log on as a batch job policy through the Local Security Policy console on your computer or on the domain level through the Group Policy Management console."}),"\n",(0,t.jsxs)(n.p,{children:["You can configure this policy via the ",(0,t.jsx)(n.strong,{children:"Local Security Policy"})," snap-in or using the Group Policy Management console."]}),"\n",(0,t.jsx)(n.h3,{id:"configure-the-log-on-as-a-batch-job-policy-via-local-security-policy-snap-in",children:"Configure the Log On As a Batch Job policy via Local Security Policy Snap-in"}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps to configure the Log On As a Batch Job policy via Local Security Policy snap-in."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," On any domain controller in the target domain, open the ",(0,t.jsx)(n.strong,{children:"Local Security Policy"})," snap-in: navigate to Start > Windows Administrative Tools and select Local Security Policy."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," In the ",(0,t.jsx)(n.strong,{children:"Local Security Policy"})," snap-in, navigate to ",(0,t.jsx)(n.strong,{children:"Security Settings"})," > ",(0,t.jsx)(n.strong,{children:"Local Policies > User Rights Assignment"})," and locate the ",(0,t.jsx)(n.strong,{children:"Log on as a batch job"})," policy."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"manualconfig_ws_logonasbatch",src:o(964190).A+"",width:"783",height:"340"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," Double-click the ",(0,t.jsx)(n.strong,{children:"Log on as a batch job"})," policy, and click ",(0,t.jsx)(n.strong,{children:"Add User or Group"}),". Specify the account that you want to define this policy for."]}),"\n",(0,t.jsx)(n.h3,{id:"configure-the-log-on-as-a-batch-job-policy-using-the-group-policy-management-console",children:"Configure the Log On As a Batch Job Policy Using the Group Policy Management Console"}),"\n",(0,t.jsx)(n.p,{children:"Perform this procedure only if the account selected for data collection is not a member of the Domain Admins group."}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps to configure the Log On As a Batch Job policy using the Group Policy Management Console."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," Open the Group Policy Management console on any domain controller in the target domain: navigate to Start > Windows Administrative Tools (Windows Server 2016/2019) or Administrative Tools (Windows 2012 R2 and below) > Group Policy Management."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," In the left pane, navigate to Forest: ",(0,t.jsx)(n.code,{children:"<forest name>"})," > Domains > ",(0,t.jsx)(n.code,{children:"<domain name>"})," > Domain Controllers. Right-click the effective domain controllers policy (by default, it is the Default Domain Controllers Policy), and select Edit."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," In the Group Policy Management Editor dialog, expand the Computer Configuration node on the left and navigate to Policies > Windows Settings > Security Settings > Local Policies."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," On the right, double-click the User Rights Assignment policy."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 5 \u2013"})," Locate the Log on as a batch job policy and double-click it."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 6 \u2013"})," In the Log on as a batch job Properties dialog, click Add User or Group and specify the user that you want to define this policy for."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 7 \u2013"})," Navigate to Start > Run and type ",(0,t.jsx)(n.code,{children:"cmd"}),". Input the ",(0,t.jsx)(n.code,{children:"gpupdate /force"})," command and press Enter. The group policy will be updated."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 8 \u2013"})," Type ",(0,t.jsx)(n.code,{children:"repadmin /syncall"})," command and press Enter for replicate GPO changes to other domain controllers."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 9 \u2013"})," Ensure that new GPO settings applied on any audited domain controller."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},964190:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/manualconfig_ws_logonasbatch-52ef68fd75ca803f6e96e2de4ef86898.webp"}}]);