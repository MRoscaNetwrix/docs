"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[958019],{28453:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>a});var r=i(296540);const n={},t=r.createContext(n);function o(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(t.Provider,{value:s},e.children)}},891833:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"enterpriseauditor/requirements/solutions/filesystem/proxymodeservicepermissions","title":"Proxy Mode as a Service Permissions","description":"When File System scans are run in proxy mode as a service, there are two methods available for deploying the service:","source":"@site/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeservicepermissions.md","sourceDirName":"enterpriseauditor/requirements/solutions/filesystem","slug":"/enterpriseauditor/requirements/solutions/filesystem/proxymodeservicepermissions","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeservicepermissions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeservicepermissions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Proxy Mode Server Requirements","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeserver"},"next":{"title":"Proxy Mode as a Service Port Requirements","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeserviceports"}}');var n=i(474848),t=i(28453);const o={},a="Proxy Mode as a Service Permissions",c={},l=[];function d(e){const s={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"proxy-mode-as-a-service-permissions",children:"Proxy Mode as a Service Permissions"})}),"\n",(0,n.jsx)(s.p,{children:"When File System scans are run in proxy mode as a service, there are two methods available for deploying the service:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Pre-Installed File System Proxy Service \u2013 File System Proxy Service installation package must be installed on the Windows proxy servers prior to executing the scans. This is the recommended method."}),"\n",(0,n.jsx)(s.li,{children:"Ad Hoc File System Proxy Service Deployment \u2013 File System Proxy Service is installed on the Windows proxy server when the job is executed"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"The data collection processing is conducted by the proxy server where the service is running and leverages a local mode-type scan to each of the target hosts. The final step in data collection is to compress and transfer the data collected in the SQLite databases, or Tier 2 databases, back to the Access Analyzer Console server."}),"\n",(0,n.jsx)(s.p,{children:"The secure communication is configured during the installation of the service on the proxy server. The credential provided for the secure communications in the installation wizard is also added to the Access Analyzer Connection Profile assigned to the File System Solution."}),"\n",(0,n.jsx)(s.p,{children:"File System Proxy Service Credentials"}),"\n",(0,n.jsx)(s.p,{children:"The service can be run either as LocalSystem or with a domain account supplied during the installation of the File System Proxy Service with the following permission on the proxy server:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Membership in the local Administrators group"}),"\n",(0,n.jsxs)(s.li,{children:["Granted the Log on as a service privilege (",(0,n.jsx)(s.strong,{children:"Local Security Policies"})," > ",(0,n.jsx)(s.strong,{children:"Local Policies"})," > ",(0,n.jsx)(s.strong,{children:"User Rights Assignment"})," > ",(0,n.jsx)(s.strong,{children:"Log on as a service"}),")"]}),"\n",(0,n.jsxs)(s.li,{children:["If running FSAC, the service account in the credential profile requires access to the admin share (for example, ",(0,n.jsx)(s.code,{children:"C$"}),") where the ",(0,n.jsx)(s.code,{children:"sbtfilemon.ini"})," file exists"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Additionally, the credential must have ",(0,n.jsx)(s.code,{children:"WRITE"})," access to the ",(0,n.jsx)(s.code,{children:"\u2026\\StealthAUDIT\\FSAA"})," folder in the installation directory."]}),"\n",(0,n.jsx)(s.p,{children:"Windows File Server Target Host Credentials"}),"\n",(0,n.jsx)(s.p,{children:"Configure the credential(s) with the following rights on the Windows host(s):"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Group membership in both of the following local groups:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Power Users"}),"\n",(0,n.jsx)(s.li,{children:"Backup Operators"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"Granted the \u201cBackup files and directories\u201d local policy privilege"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"For Windows Server target hosts, the credential also requires:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:'Granted the "Network access: Restrict clients allowed to make remote calls to SAM" Local Policies > Security Options privilege'}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"In order to collect data on administrative shares and local policies (logon policies) for a Windows target, the credential must have group membership in the local Administrators group."}),"\n",(0,n.jsx)(s.p,{children:"Sensitive Data Discovery Auditing Consideration"}),"\n",(0,n.jsx)(s.p,{children:"Sensitive Data Discovery Auditing scans require .NET Framework 4.7.2 or later. If running Sensitive Data Discovery (SDD) scans, it will be necessary to increase the minimum amount of RAM. Each thread requires a minimum of 2 additional GB of RAM per host.. By default, SDD scans are configured to run two concurrent threads. For example, if the job is configured to scan 8 hosts at a time with two concurrent SDD threads, then an extra 32 GB of RAM are required (8x2x2=32)."}),"\n",(0,n.jsx)(s.p,{children:"Secure Proxy Communication Considerations"}),"\n",(0,n.jsx)(s.p,{children:"For secure proxy communication via https, a credential is supplied during installation to provide secure communications between the Access Analyzer server and the proxy server. This credential must be a domain account, but no additional permissions are required. It is recommended to use the same domain account configured to run the proxy service as a credential in the Connection Profile to be used by the File System Solution"}),"\n",(0,n.jsx)(s.p,{children:"Secure Proxy Communication and Certificate Exchange"}),"\n",(0,n.jsxs)(s.p,{children:["For Proxy Mode as a Service Scans, the certificate exchange mechanism and certificate exchange port must be configured via the File System Access Auditing Data Collector Wizard prior to executing a scan. See the ",(0,n.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/fsaa/certificatemanagement",children:"FSAA Applet Certificate Management Overview"})," topic for additional information."]}),"\n",(0,n.jsx)(s.p,{children:"Access Analyzer Connection Profile"}),"\n",(0,n.jsx)(s.p,{children:"When running Access Auditing (FSAA) and/or Sensitive Data Discovery Auditing scans, the credentials within the Connection Profile assigned to the File System scans must be properly configured as explained above. Also the firewall rules must be configured to allow for communication between the applicable servers."}),"\n",(0,n.jsxs)(s.p,{children:["See the ",(0,n.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/proxymodeserviceports",children:"Proxy Mode as a Service Port Requirements"})," topic for firewall rule information."]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);