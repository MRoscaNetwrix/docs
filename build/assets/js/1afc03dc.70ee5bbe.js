"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[46788],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var s=n(296540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}},283866:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scandcwizardoptions-a64b0c7f7822a4e820124fc5280c6683.webp"},289122:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scandcwizardcustomattributes-012d86170c89fe24cc4f31d3154fe810.webp"},753582:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scanqueries-9a2d0494ff408b89b3308d9a915029d8.webp"},753592:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"enterpriseauditor/solutions/activedirectoryinventory/ad_scan","title":"1-AD\\\\_Scan Job","description":"The 1-AD\\\\_Scan Job collects data from Active Directory. In most environments, this job requires no additional customizations before running it. Optionally, the job can be configured to scope scan options and to collect custom attributes. For enable SSL encryption for communication with Active Directory, see the Enable SSL\xa0Option topic for additional information.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/activedirectoryinventory/1-ad_scan.md","sourceDirName":"enterpriseauditor/solutions/activedirectoryinventory","slug":"/enterpriseauditor/solutions/activedirectoryinventory/ad_scan","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectoryinventory/ad_scan","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/activedirectoryinventory/1-ad_scan.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Recommended Configurations for the 2.Users Job Group","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/recommended"},"next":{"title":"2-AD\\\\_Changes Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectoryinventory/ad_changes"}}');var i=n(474848),r=n(28453);const o={},c="1-AD_Scan Job",a={},d=[{value:"Queries for the 1-AD Scan Job",id:"queries-for-the-1-ad-scan-job",level:2},{value:"Customize the 1-AD_Scan Query",id:"customize-the-1-ad_scan-query",level:3},{value:"Analysis Tasks for the 1-AD_Scan Job",id:"analysis-tasks-for-the-1-ad_scan-job",level:2},{value:"NFS Permissions for the AIC",id:"nfs-permissions-for-the-aic",level:2},{value:"Enable SSL\xa0Option",id:"enable-ssloption",level:2}];function l(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"1-ad_scan-job",children:"1-AD_Scan Job"})}),"\n",(0,i.jsxs)(t.p,{children:["The 1-AD_Scan Job collects data from Active Directory. In most environments, this job requires no additional customizations before running it. Optionally, the job can be configured to scope scan options and to collect custom attributes. For enable SSL encryption for communication with Active Directory, see the ",(0,i.jsx)(t.a,{href:"#enable-ssloption",children:"Enable SSL\xa0Option"})," topic for additional information."]}),"\n",(0,i.jsx)(t.h2,{id:"queries-for-the-1-ad-scan-job",children:"Queries for the 1-AD Scan Job"}),"\n",(0,i.jsx)(t.p,{children:"The 1-AD_Scan Job uses the ADInventory Data Collector for the following query:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Queries for the 1-AD Scan Job",src:n(753582).A+"",width:"783",height:"235"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"AD Inventory \u2013 Targets a domain controller to collect inventory data for user, group, and computer objects"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["This query can be modified. See the ",(0,i.jsx)(t.a,{href:"#customize-the-1-ad_scan-query",children:"Customize the 1-AD_Scan Query"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"customize-the-1-ad_scan-query",children:"Customize the 1-AD_Scan Query"}),"\n",(0,i.jsx)(t.p,{children:"The 1-AD_Scan Job has been preconfigured to run with the default settings with the category of Scan Active Directory. Follow the steps to set any desired customizations to scan options or to collect custom attributes."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to the ",(0,i.jsx)(t.strong,{children:".Active Directory Inventory"})," > ",(0,i.jsx)(t.strong,{children:"1-AD_Scan"})," > ",(0,i.jsx)(t.strong,{children:"Configure"})," node and select ",(0,i.jsx)(t.strong,{children:"Queries"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 2 \u2013"})," In the Query Selection view, click ",(0,i.jsx)(t.strong,{children:"Query Properties"}),". The Query Properties window opens."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 3 \u2013"})," Select the ",(0,i.jsx)(t.strong,{children:"Data Source"})," tab, and click ",(0,i.jsx)(t.strong,{children:"Configure"}),". The Active Directory Inventory DC Wizard opens."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"CAUTION:"})," Do not make changes to other wizard pages as they have been pre-configured for the purpose of this job."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Active Directory Inventory DC Wizard Options page",src:n(283866).A+"",width:"606",height:"487"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 4 \u2013"})," (Optional) On the Options page, you can:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Enable encrypted communication with Active Directory (SSL)"}),"\n",(0,i.jsxs)(t.li,{children:["Configure the differential scan settings using the ",(0,i.jsx)(t.strong,{children:"Collect only updates since last scan"}),"\xa0settings"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["See the ",(0,i.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/adinventory/options",children:"ADInventory:\xa0Options"})," topic for more information."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Active Directory Inventory DC Wizard Custom Attributes page",src:n(289122).A+"",width:"605",height:"487"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 5 \u2013"})," (Optional) On the Custom Attributes page, add any desired custom attributes to be used in the Active Directory scan. See the ",(0,i.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/adinventory/customattributes",children:"ADInventory:\xa0Custom Attributes"})," topic\xa0for additional information."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 6 \u2013"})," Navigate to the Summary page. Click ",(0,i.jsx)(t.strong,{children:"Finish"})," to save any setting modifications or click ",(0,i.jsx)(t.strong,{children:"Cancel"})," if no changes were made. Then click ",(0,i.jsx)(t.strong,{children:"OK"})," to close the Query Properties window."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"NOTE:"})," In order for the Access Information Center to populate NFS permissions within File System reports, the .Active Directory Inventory Job Group must be configured to collect the ",(0,i.jsx)(t.strong,{children:"uid"})," and ",(0,i.jsx)(t.strong,{children:"uidNumber"})," attributes for Users. See the ",(0,i.jsx)(t.a,{href:"#nfs-permissions-for-the-aic",children:"NFS Permissions for the AIC "})," topic for additional information."]}),"\n",(0,i.jsxs)(t.p,{children:["The 1-AD_Scan Job is now ready to run with the customized settings. If any custom attributes are added to the data collection, the ",(0,i.jsx)(t.strong,{children:"Create Extended Attributes View"})," analysis task can be enabled in order to have visibility into the collected data."]}),"\n",(0,i.jsx)(t.h2,{id:"analysis-tasks-for-the-1-ad_scan-job",children:"Analysis Tasks for the 1-AD_Scan Job"}),"\n",(0,i.jsxs)(t.p,{children:["View the analysis tasks by navigating to the ",(0,i.jsx)(t.strong,{children:".Active Directory Inventory"})," > ",(0,i.jsx)(t.strong,{children:"1-AD_Scan"})," > ",(0,i.jsx)(t.strong,{children:"Configure"})," node and select ",(0,i.jsx)(t.strong,{children:"Analysis"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"CAUTION:"})," Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Analysis Tasks for the 1-AD_Scan Job",src:n(846012).A+"",width:"589",height:"323"})}),"\n",(0,i.jsx)(t.p,{children:"The following analysis tasks are selected by default:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Import functions \u2013 Imports effective group membership function into the database"}),"\n",(0,i.jsx)(t.li,{children:"Create Extended Attributes View \u2013 Creates the SA_ADInventory_ExtendedAttributesView for Custom Attributes that have been added to the query"}),"\n",(0,i.jsx)(t.li,{children:"Summarize Domains \u2013 Creates the SA_ADInventory_Report_DomainSummary table"}),"\n",(0,i.jsx)(t.li,{children:"Summarize Stats \u2013 Creates the SA_ADInventory_Summary table"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The following analysis tasks never need to be selected as they are only needed to restore views that have been accidentally hidden:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Bring User View To Console \u2013 Restores the SA_ADInventory_UsersView to be visible within the Access Analyzer Console if it is hidden"}),"\n",(0,i.jsx)(t.li,{children:"Bring Group Members View To Console \u2013 Restores the SA_ADInventory_GroupMembersView to be visible within the Access Analyzer Console if it is hidden"}),"\n",(0,i.jsx)(t.li,{children:"Bring Group View To Console \u2013 Restores the SA_ADInventory_GroupsView to be visible within the Access Analyzer Console if it is hidden"}),"\n",(0,i.jsx)(t.li,{children:"Bring Computers View to Console \u2013 Restores the SA_ADInventory_ComputersView to be visible within the Access Analyzer Console if it is hidden"}),"\n",(0,i.jsx)(t.li,{children:"Remove ADI Stored Procedures \u2013 Removes the built-in ADI stored procedures"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["In addition to the tables and views explained in the ",(0,i.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/adinventory/standardtables",children:"Standard Reference Tables & Views for the ADInventory Data Collector"})," topic, the 1-AD_Scan Job produces the following pre-configured report:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Report"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Default Tags"}),(0,i.jsx)(t.th,{children:"Report Elements"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Active Directory Summary"}),(0,i.jsx)(t.td,{children:"This report provides a summary of all audited domains and objects."}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This report is comprised of four elements:   - Table \u2013 Displays general statistics in the Users, Groups, and Computers in All Audited Domains - Pie Chart \u2013 Displays Principals by Object Class - Pie Chart \u2013 Displays Principals by Audited Domain - Table \u2013 Displays detailed statistical information for each of the AD objects"})]})})]}),"\n",(0,i.jsx)(t.h2,{id:"nfs-permissions-for-the-aic",children:"NFS Permissions for the AIC"}),"\n",(0,i.jsx)(t.p,{children:"In order for the Access Information Center to populate NFS resources within all File System permissions and resource audit reports, the .Active Directory Inventory Job Group must be configured to collect the following custom attributes for Users:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"uid"}),"\n",(0,i.jsx)(t.li,{children:"uidNumber"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Follow the steps to add the custom attributes."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to the Active Directory Inventory DC Wizard for the AD Inventory Query within the 1-AD_Scan Job."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Active Directory Inventory DC Wizard Options page",src:n(941371).A+"",width:"605",height:"487"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 2 \u2013"})," Navigate to the Options page. Ensure the ",(0,i.jsx)(t.strong,{children:"Collect only updates since last scan"})," option is deselected."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"NOTE:"})," Whenever query configurations are modified, it is necessary to do a full scan. After the first full scan, differential scanning can be re-enabled."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Active Directory Inventory DC Wizard Custom Attributes page",src:n(978435).A+"",width:"605",height:"487"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 3 \u2013"})," Use the ",(0,i.jsx)(t.strong,{children:"Next"})," button to navigate to the Custom Attributes page. Add both ",(0,i.jsx)(t.strong,{children:"uid"})," and ",(0,i.jsx)(t.strong,{children:"uidNumber"})," attributes to the existing list of custom attributes. See the ",(0,i.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/adinventory/customattributes",children:"ADInventory:\xa0Custom Attributes"})," topic\xa0for additional information."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"uid"})," attribute:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Domain Filter \u2013 *"}),"\n",(0,i.jsx)(t.li,{children:"Object Class \u2013 User"}),"\n",(0,i.jsx)(t.li,{children:"Attribute Name \u2013 uid"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"uidNumber"})," attribute:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Domain Filter \u2013 *"}),"\n",(0,i.jsx)(t.li,{children:"Object Class \u2013 User"}),"\n",(0,i.jsx)(t.li,{children:"Attribute Name \u2013 uidNumber"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 4 \u2013"})," Use the ",(0,i.jsx)(t.strong,{children:"Next"}),"\xa0button to navigate to the Summary page and click ",(0,i.jsx)(t.strong,{children:"Finish"}),". The Active Directory Inventory DC Wizard closes. Click ",(0,i.jsx)(t.strong,{children:"OK"})," to close the Query Properties window."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 5 \u2013"})," Run the .Active Directory Inventory Job Group either manually or through a scheduled task."]}),"\n",(0,i.jsx)(t.p,{children:"The .Active Directory Inventory Job Group is now collecting attributes required for NFS data to be visible within the Access Information Center."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.em,{children:"Remember,"}),"  it is necessary to re-enable differential scanning after Step 5 if desired."]}),"\n",(0,i.jsxs)(t.p,{children:["See the Resource Audit topics in the ",(0,i.jsx)(t.a,{href:"https://helpcenter.netwrix.com/category/accessinformationcenter",children:"Netwrix Access Information Center Documentation"})," for additional information."]}),"\n",(0,i.jsx)(t.h2,{id:"enable-ssloption",children:"Enable SSL\xa0Option"}),"\n",(0,i.jsx)(t.p,{children:"Follow the steps to enable SSL encryption for communications with Active Directory:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to the ",(0,i.jsx)(t.strong,{children:"1-AD_Scan >\xa0Configure"})," node and select ",(0,i.jsx)(t.strong,{children:"Queries"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 2 \u2013"})," In the Query Selection view, select the query and click ",(0,i.jsx)(t.strong,{children:"Query Properties"}),". The Query Properties window opens."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 3 \u2013"})," Go to the Options page and select the ",(0,i.jsx)(t.strong,{children:"Encrypt communication with Active Directory (SSL)"}),"\xa0checkbox. Click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Step 4 \u2013"})," Navigate to the Summary page, click ",(0,i.jsx)(t.strong,{children:"Finish"})," to save any setting modifications or click ",(0,i.jsx)(t.strong,{children:"Cancel"})," if no changes were made. Then click ",(0,i.jsx)(t.strong,{children:"OK"})," to close the Query Properties window."]}),"\n",(0,i.jsx)(t.p,{children:"The job will now use SSL\xa0encryption to query Active Directory."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},846012:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scananalysis-e6a1f4eae8a206a790fbea6d33dba30a.webp"},941371:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scandcwizardoptionsnfs-39cbf89778aa5f517b130a1dfe528039.webp"},978435:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scandcwizardcustomattributesnfs-872a0f5bdee2bebf240fe91a819687f9.webp"}}]);