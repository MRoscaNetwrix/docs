"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[215835],{28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var n=r(296540);const i={},s=n.createContext(i);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:t},e.children)}},86833:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust","title":"Configure Relaying Party Trust in AD FS","description":"In AD FS, you have to configure the Directory Manager client with which you want to set up AD FS. You also have to specify the claim rules for authentication.","source":"@site/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust.md","sourceDirName":"groupid/authenticate/asserviceprovider/adfs","slug":"/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust","permalink":"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust.md","tags":[],"version":"current","frontMatter":{},"sidebar":"groupIdSidebar","previous":{"title":"Configure the AD FS Provider In Directory Manager","permalink":"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid"},"next":{"title":"Generate URLs","permalink":"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/generateurls"}}');var i=r(474848),s=r(28453);const o={},a="Configure Relaying Party Trust in AD FS",c={},l=[{value:"Configure Relaying Party Trust in AD FS",id:"configure-relaying-party-trust-in-ad-fs-1",level:2}];function d(e){const t={a:"a",br:"br",h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"configure-relaying-party-trust-in-ad-fs",children:"Configure Relaying Party Trust in AD FS"})}),"\n",(0,i.jsx)(t.p,{children:"In AD FS, you have to configure the Directory Manager client with which you want to set up AD FS. You also have to specify the claim rules for authentication."}),"\n",(0,i.jsx)(t.h2,{id:"configure-relaying-party-trust-in-ad-fs-1",children:"Configure Relaying Party Trust in AD FS"}),"\n",(0,i.jsx)(t.p,{children:"Follow the steps to configure relaying party trust in AD FS."}),"\n",(0,i.jsxs)(t.p,{children:["Step 1 \u2013 Launch the AD FS console. In the left pane, select ",(0,i.jsx)(t.strong,{children:"AD FS > Trust Relationships"}),". Right-click ",(0,i.jsx)(t.strong,{children:"Relying Party Trusts"})," and click ",(0,i.jsx)(t.strong,{children:"Add Relying Party Trust"})," on the shortcut menu.",(0,i.jsx)(t.br,{}),"\n","The Add Relying Party Trust wizard opens to the Welcome page."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 2 \u2013 Read the welcome message and click ",(0,i.jsx)(t.strong,{children:"Start"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 3 \u2013 Use the options on the Select Data Source page to either import relying party trust data from a file, such as a metadata file, or enter the information manually.",(0,i.jsx)(t.br,{}),"\n","To enter information manually, select the ",(0,i.jsx)(t.strong,{children:"Enter data about the relying party manually"})," option and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 4 \u2013 On the Specify Display Name page, specify a friendly display name for this configuration in the Display name box. Then enter any additional notes in the Notes box and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 5 \u2013 To use the SAML 2.0 protocol as profile, select the ",(0,i.jsx)(t.strong,{children:"AD FS profile"})," option button on the Choose Profile page and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 6 \u2013 On the Configure Certificate page, click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 7 \u2013 On the Configure URL page, select the ",(0,i.jsx)(t.strong,{children:"Enable support for the SAML 2.0 Web SSO protocol"})," option button. Then in the Relying party SAML 2.0 SSL service URL box, provide the consumer URL you generated for the Directory Manager client. See the ",(0,i.jsx)(t.a,{href:"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/generateurls#generate-the-consumer-url-for-a-directory-manager-client",children:"Generate the Consumer URL for a Directory Manager Client"})," topic.",(0,i.jsx)(t.br,{}),"\n","The consumer URL is the relying party trust URL, used by AD FS to authenticate. Click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 8 \u2013 On the Configure Identifiers page, use the Relying party trust identifier box to provide the audience URL you generated for the Directory Manager client. Click ",(0,i.jsx)(t.strong,{children:"Add"})," next to this box and then click ",(0,i.jsx)(t.strong,{children:"Next"}),".",(0,i.jsx)(t.br,{}),"\n","See the ",(0,i.jsx)(t.a,{href:"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/generateurls#generate-entity-idaudience-url",children:"Generate Entity ID/Audience URL"})," topic."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 9 \u2013 Use the Configure Multi-factor Authentication Now? page to configure multi-factor authentication. At present, we will not configure it, so select the ",(0,i.jsx)(t.strong,{children:"I do not want to configure multi-factor authentications settings for this relying party trust at this time"})," option button and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 10 \u2013 Use the Choose Issuance Authorization Rules page to permit all users to get authenticated on the relying party trust using AD FS. User credentials will be parsed with Active Directory.",(0,i.jsx)(t.br,{}),"\n","Select the ",(0,i.jsx)(t.strong,{children:"Permit all users to access this relying party"})," option button and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 11 \u2013 Use the tabs on the Ready to Add Trust page to review some preconfigured settings; then click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 12 \u2013 Click ",(0,i.jsx)(t.strong,{children:"Close"})," on the Finish page to complete the wizard. The wizard closes and the Edit Claim Rules dialog box is displayed, where you have to specify claim rules for authentication."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 13 \u2013 On the Edit Claim Rules dialog box, the Issuance Transform Rules option correlates to the option of authenticating using an Active Directory attribute. Click ",(0,i.jsx)(t.strong,{children:"Add Rule"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 14 \u2013 To add a rule, select ",(0,i.jsx)(t.strong,{children:"Transform an Incoming Claim"})," from the Claim rule template drop-down list on the Select Rule Template page and click ",(0,i.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Step 15 \u2013 On the Configure Rule page, specify a rule name in the Claim rule name box."}),"\n",(0,i.jsx)(t.p,{children:"Step 16 \u2013 In the Incoming claim type and Outgoing claim type boxes, select an Active Directory attribute for authentication, such as the UPN attribute. The incoming and outgoing claim types should be the same as we will not specify a different text or different data for the logon process. It will be the exact user principal name for authentication."}),"\n",(0,i.jsxs)(t.p,{children:["Step 17 \u2013 Make sure that the ",(0,i.jsx)(t.strong,{children:"Pass through all claim values"})," option is selected; then click ",(0,i.jsx)(t.strong,{children:"Finish"}),". The new rule is configured and displayed on the Issuance Transform Rules tab."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 18 \u2013 Click the ",(0,i.jsx)(t.strong,{children:"Issuance Authorization Rules"})," tab and notice that the issuance authorization rule is already completed."]}),"\n",(0,i.jsxs)(t.p,{children:["Step 19 \u2013 Click the ",(0,i.jsx)(t.strong,{children:"Delegation Authorization Rules"})," tab. We do not need to delegate, so click ",(0,i.jsx)(t.strong,{children:"Apply"})," and then ",(0,i.jsx)(t.strong,{children:"OK"}),". The AD FS console is displayed with the new relying party trust added."]}),"\n",(0,i.jsxs)(t.p,{children:["The next step is to configure the AD FS provider in Directory Manager. See the ",(0,i.jsx)(t.a,{href:"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid",children:"Configure the AD FS Provider In Directory Manager"})," topic."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);