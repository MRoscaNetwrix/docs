"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[592835],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(296540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},364694:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"usercube/integration-guide/toolkit/xml-configuration/jobs/job/index","title":"Job","description":"A job is a succession of tasks, to be launched and potentially scheduled.","source":"@site/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/job/index.md","sourceDirName":"usercube/integration-guide/toolkit/xml-configuration/jobs/job","slug":"/usercube/integration-guide/toolkit/xml-configuration/jobs/job/","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/job/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/job/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Jobs","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/"},"next":{"title":"Tasks","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/"}}');var o=t(474848),r=t(28453);const s={},a="Job",l={},c=[{value:"Examples",id:"examples",level:2},{value:"Task override",id:"task-override",level:3},{value:"Dependent tasks",id:"dependent-tasks",level:3},{value:"Complete job",id:"complete-job",level:3},{value:"Properties",id:"properties",level:2},{value:"Child Element: Step",id:"child-element-step",level:2},{value:"Examples",id:"examples-1",level:3},{value:"Properties",id:"properties-1",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"job",children:"Job"})}),"\n",(0,o.jsx)(n.p,{children:"A job is a succession of tasks, to be launched and potentially scheduled."}),"\n",(0,o.jsx)(n.p,{children:"After launching a job, its progress information will be inserted in the UJ_Job Instances table."}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.p,{children:"The following example creates a job made of two tasks that apply role mappings, the first for the AD connector, the second for SAP. Launching this job means launching both tasks successively."}),"\n",(0,o.jsx)(n.p,{children:"The launch order is induced by the reading from top to bottom of all tasks in the job."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\n<Job Identifier="ApplyRoleMappings" DisplayName_L1="10: Generate Roles/Rules" >  <BuildRoleModelTask Identifier="AD_ApplyRoleMappings" Connector="AD" DisplayName_L1="AD - Generate Roles/Rules" />  <BuildRoleModelTask Identifier="SAP_ApplyRoleMappings" Connector="SAP" DisplayName_L1="SAP - Generate Roles/Rules" /></Job>\n\n'})}),"\n",(0,o.jsx)(n.h3,{id:"task-override",children:"Task override"}),"\n",(0,o.jsxs)(n.p,{children:["An existing task can be called with an ",(0,o.jsx)(n.code,{children:"Override"})," suffix in order to launch the task, but with slight changes in its properties. Then the override task must be configured with the identifier of the original task and the properties that differ from the original task."]}),"\n",(0,o.jsx)(n.p,{children:"Suppose that after configuring a synchronization job in complete mode, we want to configure the exact same one in incremental mode."}),"\n",(0,o.jsxs)(n.p,{children:["As the incremental mode is configured via ",(0,o.jsx)(n.code,{children:"Dirty"})," set to ",(0,o.jsx)(n.code,{children:"1"}),", this property is the only one to change to switch from complete mode to incremental mode."]}),"\n",(0,o.jsxs)(n.p,{children:["The following example creates a task ",(0,o.jsx)(n.code,{children:"UpdateClassification"})," to be used in the AD synchronization job in complete mode. Then, instead of creating a second task for the incremental mode, we choose to configure the incremental job as follows."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\n<UpdateClassificationTask Identifier="UpdateClassification" DisplayName_L1="AD - Users Classification">  <TaskEntityType EntityType="AD_Entry"/></UpdateClassificationTask><Job Identifier="AD_Synchronization_Delta" DisplayName_L1="10: AD - Synchronization (delta)" Agent="Local">  ...\n<UpdateClassificationTaskOverride Identifier="UpdateClassification" Dirty="1">\n</Job>\n\n'})}),"\n",(0,o.jsx)(n.h3,{id:"dependent-tasks",children:"Dependent tasks"}),"\n",(0,o.jsxs)(n.p,{children:["The following example creates a job where the task ",(0,o.jsx)(n.code,{children:"Microsoft Entra ID - Data Collect"})," is launched after ",(0,o.jsx)(n.code,{children:"Microsoft Entra ID - Extraction"})," only if ",(0,o.jsx)(n.code,{children:"Microsoft Entra ID - Extraction"})," produces an output and does not end up blocked or in an error state."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\n<Job Identifier="AzureAD_Synchronization" DisplayName_L1="10: Microsoft Entra ID (formerly Microsoft Azure AD) - Synchronization" Agent="Local">  <ExportTask Identifier="AzureAD_Synchro" Agent="Local" Connection="AzureAD_Export_Fulfillment" OpenIdClient="Job" DisplayName_L1="Microsoft Entra ID - Extraction" ContinueOnError="1"/>  <PrepareSynchronizationTask Type="Changes" DisplayName_L1="Microsoft Entra ID - Data Collect" Connector="AzureAD" Agent="Local" OpenIdClient="Job">\n<TaskDependsOnTask ParentTask="AzureAD_Synchro"/>\n</PrepareSynchronizationTask>  ...\n</Job>\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"Most synchronization tasks are dependant on one another like this. This way, an error in a synchronization task will cut short the rest of the synchronization tasks. But it does not stop the other tasks in the job, for example the synchronization of another connector, or tasks that are independent from synchronization."}),"\n",(0,o.jsx)(n.h3,{id:"complete-job",children:"Complete job"}),"\n",(0,o.jsx)(n.p,{children:"The following example shows a typical configuration of the complete job."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\n<Job Identifier="SynchroAllConnectorComplete" DisplayName_L1="Synchronization Daily (Complete Mode)" Agent="Local">  <Step Identifier="ExportADWithIgnoreCookie"/>  <Step Identifier="AD_PrepareSynchronizationComplete"/>  <Step Identifier="AD_Synchronization"/>  <Step Identifier="Export_MicrosoftEntraIDWithIgnoreCookie"/>  <Step Identifier="MicrosoftEntraID_PrepareSynchronization"/>  <Step Identifier="MicrosoftEntraID_Synchronization"/>  <Step Identifier="Export_LDAPEntry"/>  <Step Identifier="Export_LDAPMember"/>  <Step Identifier="LDAP_PrepareSynchronization"/>  <Step Identifier="LDAP_Synchronization"/>  <Step Identifier="SAB_PrepareSynchronization"/>  <Step Identifier="SAB_Synchronization"/>  <Step Identifier="HR_PrepareSynchronization"/>  <Step Identifier="HR_Synchronization"/>  <Step Identifier="Directory_PrepareSynchronizationChange"/>  <Step Identifier="Directory_SynchronizationChange"/>  <Step Identifier="Job_Recertification_Start"/>  <Step Identifier="Recertification_MarkDirty"/>  <Step Identifier="ComputeRoleModelSynchroDaily"/>  <Step Identifier="LDAP_Provisioning"/>  <Step Identifier="MicrosoftEntraID_Provisioning"/>  <Step Identifier="AD_Fulfill"/>  <Step Identifier="LDAP_Fulfill"/>  <Step Identifier="MicrosoftEntraID_Fulfill"/>  <Step Identifier="AD_Fulfill"/>  <Step Identifier="Fulfill_Workflow_Directory"/>  <Step Identifier="All_ComputeAllAssignedProfiles"/></Job>\n\n'})}),"\n",(0,o.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Property"}),(0,o.jsx)(n.th,{children:"Details"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Agent   optional"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Int64   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Identifier of the agent on which the job will be launched.   ",(0,o.jsx)(n.strong,{children:"Note:"})," when not specified, the job is to be launched on the server.    ",(0,o.jsx)(n.strong,{children:"Warning:"})," all tasks in the job must be launched on the same agent or on the server."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"CronTabExpression   optional"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    String   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Scheduling expressed using the ",(0,o.jsx)(n.a,{href:"https://docs.microsoft.com/azure/azure-functions/functions-bindings-timer?tabs=csharp#crontab-syntax",children:"crontab syntax"}),"."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"CronTimeZone   default value: 0"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    CronTimeZone   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Time zone used to compute the next occurrences according to the given cron expression.   ",(0,o.jsx)(n.code,{children:"0"})," - UTC   ",(0,o.jsx)(n.code,{children:"1"})," - ServerTime"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DisplayName_L1   required"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    String   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Display name of the job in language 1 (up to 16)."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Identifier   required"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    String   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Unique identifier of the job."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"IsConnectorJob   default value: false"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Boolean   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Indicates that the job is specific to the connector configuration screen."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"IsIncremental   default value: false"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Boolean   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Defines if a job is in incremental mode."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"IsInitializationJob   default value: false"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Boolean   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Indicates that the job is an initialization job."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"LogLevel   default value: None"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    LogLevel   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Level of details that will be displayed in the logger. Possible values are:   ",(0,o.jsx)(n.code,{children:"0"})," - Trace   ",(0,o.jsx)(n.code,{children:"1"})," - Debug   ",(0,o.jsx)(n.code,{children:"2"})," - Information   ",(0,o.jsx)(n.code,{children:"3"})," - Warning   ",(0,o.jsx)(n.code,{children:"4"})," - Error   ",(0,o.jsx)(n.code,{children:"5"})," - Critical   ",(0,o.jsx)(n.code,{children:"6"})," - None"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"UserStartDenied   default value: false"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Boolean   ",(0,o.jsx)(n.strong,{children:"Description"}),"   ",(0,o.jsx)(n.code,{children:"true"})," to deny the manual launch of the job."]})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"child-element-step",children:"Child Element: Step"}),"\n",(0,o.jsx)(n.p,{children:"A step is simply an easy way to use an existing task in a job."}),"\n",(0,o.jsx)(n.p,{children:"A job can be configured with as many steps as needed."}),"\n",(0,o.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,o.jsx)(n.p,{children:"The basic example of a job is equivalent to the following:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\n<BuildRoleModelTask Identifier="AD_ApplyRoleMappings" Connector="AD" DisplayName_L1="AD - Generate Roles/Rules" /><BuildRoleModelTask Identifier="SAP_ApplyRoleMappings" Connector="SAP" DisplayName_L1="SAP - Generate Roles/Rules" /><Job Identifier="AD_Synchronization_Delta" DisplayName_L1="10: AD - Syncronization (delta)" Agent="Local">    <Step Identifier="AD_ApplyRoleMappings">    <Step Identifier="SAP_ApplyRoleMappings"></Job>\n\n'})}),"\n",(0,o.jsx)(n.h3,{id:"properties-1",children:"Properties"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Property"}),(0,o.jsx)(n.th,{children:"Details"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Level   default value: -1"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Int32   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Grouping level of the tasks within the job. When executing a job, Identity Manager will launch simultaneously the tasks of a same ",(0,o.jsx)(n.code,{children:"Level"}),". Level-2 tasks are not launched before all level-1 tasks are achieved."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Task   required"}),(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.strong,{children:"Type"}),"    Int64   ",(0,o.jsx)(n.strong,{children:"Description"}),"   Id of the task"]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);