"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[453697],{28453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>s});var a=o(296540);const n={},i=a.createContext(n);function r(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(i.Provider,{value:t},e.children)}},197513:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"policypak/video/gpocompilancereporter/modepush","title":"Setting up Client-less Endpoint Auditing (Push Mode with Server)","description":"Netwrix Endpoint Policy Manager (formerly PolicyPak)GP Compliance Reporter Server: Setting up Client-less Endpoint Auditing","source":"@site/docs/policypak/policypak/video/gpocompilancereporter/modepush.md","sourceDirName":"policypak/video/gpocompilancereporter","slug":"/policypak/video/gpocompilancereporter/modepush","permalink":"/docs/policypak/policypak/video/gpocompilancereporter/modepush","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/video/gpocompilancereporter/modepush.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"Using Pull Mode (with or without PPGPCR server)","permalink":"/docs/policypak/policypak/video/gpocompilancereporter/modepull"},"next":{"title":"Server Mode","permalink":"/docs/policypak/policypak/video/gpocompilancereporter/modeserver"}}');var n=o(474848),i=o(28453);const r={},s="Setting up Client-less Endpoint Auditing (Push Mode with Server)",h={},d=[{value:"Endpoint Policy Manager GP Compliance Reporter Server: Setting up Client-less Endpoint Auditing",id:"endpoint-policy-manager-gp-compliance-reporter-server-setting-up-client-less-endpoint-auditing",level:3}];function l(e){const t={a:"a",h1:"h1",h3:"h3",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"setting-up-client-less-endpoint-auditing-push-mode-with-server",children:"Setting up Client-less Endpoint Auditing (Push Mode with Server)"})}),"\n",(0,n.jsx)(t.p,{children:"Netwrix Endpoint Policy Manager (formerly PolicyPak)GP Compliance Reporter Server: Setting up Client-less Endpoint Auditing"}),"\n",(0,n.jsx)(t.p,{children:"Use this video to set up PPGPCR Server\u2019s Client-less endpoint Push-based auditing. Once set up, all clients will send GP data to the server in real time."}),"\n",(0,n.jsx)(t.h3,{id:"endpoint-policy-manager-gp-compliance-reporter-server-setting-up-client-less-endpoint-auditing",children:"Endpoint Policy Manager GP Compliance Reporter Server: Setting up Client-less Endpoint Auditing"}),"\n",(0,n.jsx)(t.p,{children:"Hi. This is Jeremy Moskowitz, former Group Policy MVP and Founder of PolicyPak Software. In this video, I\u2019m going to show you how to use the Compliance Reporter to set up auditing on all of your client systems without installing anything on your client systems."}),"\n",(0,n.jsx)(t.p,{children:"The Group Policy Compliance Reporter (Server) edition has a feature called Group Policy Auditing, and you don\u2019t have to \u201cinstall\u201d anything on the target machines. You don\u2019t even need our PolicyPak client side extension if all you were interested in was monitoring and auditing for Microsoft Group Policy settings."}),"\n",(0,n.jsx)(t.p,{children:"In order to get started here, you might have made your way here, which is the \u201cAudit Setup Wizard.\u201d Let me show you how you would find this anyway in case you didn\u2019t. Again, you\u2019d first install the Group Policy Compliance Reporter (Server). Let me go ahead and get this linked up here. In the download, you\u2019ll see the \u201cPolicyPak Group Policy Compliance Reporter.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"I\u2019ve already installed \u201cServer\u201d on a server and the \u201cAdmin Console\u201d on \u2013 well, this machine also happens to be a server \u2013 but you would load the \u201cAdmin Console\u201d on your machine and that\u2019s what gets you this. Once you\u2019re here, you would click on \u201cSettings.\u201d Make sure you\u2019re in \u201cMulti user mode,\u201d which attaches to the server. You\u2019d click on \u201cAudit Setup,\u201d and here you are in the \u201cAudit Setup Wizard.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"The first thing you\u2019re going to do is to \u201cCreate and deploy a scheduled task to run the auditor executable and submit audit data.\u201d That\u2019s how we do this. We don\u2019t have to install anything on each of our target machines. We simply have to teach our target machines to run a scheduled task, which will then send the data to the server."}),"\n",(0,n.jsx)(t.p,{children:"The other thing you need to do is to set what\u2019s called \u201cAudited computers.\u201d Now you don\u2019t have to audit every computer. You could audit a specific group. If, by way of example, you had a group predefined somewhere in Active Directory that made sense to you \u2013 not an OU. We\u2019re talking about an actual security group."}),"\n",(0,n.jsx)(t.p,{children:"If you had a group called \u201cNew/Group\u201d and you wanted to call this \u201cAuditMeGroup\u201d and you wanted to click in the \u201cAuditMeGroup\u201d and \u201cAdd\u201d \u201cMembers,\u201d you could actually add not \u201cUsers\u201d but you could add \u201cComputers\u201d to this group. If I were to click here and \u201cFind Now,\u201d I could add a bunch of my client computers or whatever these are and add them to a group."}),"\n",(0,n.jsx)(t.p,{children:"This is one choice. You can have a group that you make, add computers to that group, and decide these are the only computers you want to collect auditing from. That\u2019s perfectly valid. But if you want to get your way through this fast, I\u2019m going to suggest that you \u201cChoose\u201d a group that\u2019s called \u201cDomain Computers.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"Make sure you put \u201cdomain computers\u201d and not \u201cdomain admins\u201d in there because we are auditing computers not users, so you\u2019re going to audit \u201cDomain Computers.\u201d By default, any computer that\u2019s in \u201cDomain Computers,\u201d which is every computer, we will accept auditing data from. That\u2019s what this is. This is a filter that will decide who we will accept audit data from."}),"\n",(0,n.jsx)(t.p,{children:"If we click \u201cNext\u201d here, we then have to \u201cSpecify Auditor Path.\u201d What is the auditor path? When you install the Group Policy Compliance Reporter server on this machine, if you were to go to \u201cProgram Files (x86)\u201d under \u201cPolicyPak,\u201d there is a folder called the \u201cPolicyPak Group Policy Compliance Reporter Server\u201d and then there\u2019s another folder here called \u201cAuditor.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"You need to get this shared out, so I\u2019m going to right click over this folder and \u201cShare with/Advanced sharing\u201d and \u201cShare this folder.\u201d Call it \u201cAuditor,\u201d and I\u2019ll set \u201cPermissions for Everyone\u201d \u201cRead.\u201d Now you could copy these files to another server if you wanted to. It doesn\u2019t really matter. I\u2019m just going to use the ones that we ship right here."}),"\n",(0,n.jsx)(t.p,{children:"Now I\u2019ve shared out this folder, and it\u2019s known as \u201c\\DCAuditor.\u201d Now that\u2019s ready to go because, again, these files are what your client machines are going to reach across the wire and run whenever Group Policy applies, and that\u2019s what\u2019s going to get us the data."}),"\n",(0,n.jsx)(t.p,{children:"Now I\u2019m going to \u201cBrowse\u201d here. I just shared it out, so I\u2019m going to \u201c\\DCAuditor\u201d and pick the \u201cPPGPCR.Auditor\u201d executable. In doing so, we\u2019re ready to go. \u201cSpecify Server\u201d that we want to send the data to. Again, I\u2019ve installed the Compliance Reporter server on this machine. It\u2019s called \u201cDC.\u201d This is our standard \u201cServer port\u201d \u201c50022.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"Then here\u2019s the final thing we need to do. We have to get the directive over to our target machines. I\u2019m going to suggest that you \u201cCreate a new GPO to deliver the scheduled task.\u201d If you wanted to, you could also pick an existing GPO and jam the scheduled task into an existing GPO (\u201cPick an existing GPO to insert the scheduled task into\u201d) or you can create a Group Policy Preferences scheduled task item and you can import it to your own GPO later (\u201cExport the GPPrefs Scheduled Task item as an XML file for manual addition to a GPO later).\u201d"}),"\n",(0,n.jsx)(t.p,{children:"I\u2019m only going to show you this, \u201cCreate a new GPO to deliver the scheduled task.\u201d I\u2019ll call this \u201cDeploy PPGPCR Audit Sched Task.\u201d It will create a brand new Group Policy Object, and we\u2019re done. Now that\u2019s all ready to go. I\u2019ll go ahead and click \u201cOK\u201d here. It says \u201cChanges will apply on next run,\u201d so I\u2019ll go ahead and close out the Compliance Reporter."}),"\n",(0,n.jsx)(t.p,{children:"The thing we didn\u2019t do is we have to go down to the \u201cGroup Policy Objects\u201d node. Let me go ahead and hit refresh here to make sure that we get all of the latest Group Policy Objects that are in the swimming pool here. There is the GPO we just created, \u201cDeploy PPGPCR Audit Sched Task.\u201d Notice how it\u2019s not linked to any location."}),"\n",(0,n.jsx)(t.p,{children:"Before we do what\u2019s next, let\u2019s take a look at the \u201cSettings\u201d so you can see. What\u2019s the goal? We\u2019re going to run a scheduled task any time Group Policy is triggered. We\u2019re going to run \u201c\\dcAuditor\u201d (that\u2019s the share) against the executable and deliver it to the server we just described. That\u2019s the magic. The magic is that we run a scheduled task automatically on all your client machines, and we\u2019ll accept the data from the computers that we specified in the group."}),"\n",(0,n.jsx)(t.p,{children:"But we have to link this GPO over to a place that makes sense. I\u2019m going to link it to the whole domain, and then every computer will request data to be sent. Here we go, \u201cDeploy PPGPCR Audit Sched Task.\u201d There it is. It\u2019s linked. Whenever I do anything at the domain level, I like to right click and check \u201cEnforced\u201d in case there\u2019s a blocked inheritance later. I know that this GPO is going to be enforced through any blocked inheritance."}),"\n",(0,n.jsx)(t.p,{children:"That\u2019s it. Group Policy Compliance Reporter auditing is now set up. Let\u2019s go ahead and see that it\u2019s all working. What we\u2019ll do is we\u2019ll go ahead and run the \u201cPolicyPak Group Policy Compliance Reporter\u201d admin console here. It connects to the server. Let\u2019s go to \u201cSnapshots.\u201d"}),"\n",(0,n.jsx)(t.p,{children:"What\u2019s going to happen now is that I\u2019m going to manually walk over to a particular machine and I\u2019m going to run GP Update twice. You wouldn\u2019t normally have to do this in real life. I\u2019m doing it to accelerate the hands of time. In the course of a couple of hours, you\u2019re going to get Group Policy automatically downloading, applying and then reapplying, and that\u2019s when you\u2019re going to get data."}),"\n",(0,n.jsx)(t.p,{children:"If I go over to a target machine here and I run \u201cGP Update,\u201d the first time is going to get me the scheduled task. I want to show you the scheduled task. I\u2019m going to show you where the scheduled task is so you can see, \u201cDid I get the scheduled task?\u201d You can only see the scheduled task, by the way, when you\u2019re logged in as \u201cAdministrator.\u201d I\u2019m logged in as Administrator, specifically to show you this as a test."}),"\n",(0,n.jsx)(t.p,{children:"If I go to \u201cComputer/Manage\u201d here, I want to look at the scheduled tasks. If I go to \u201cTask Scheduler\u201d and go to \u201cTask Scheduler Library,\u201d what we\u2019ve now done is because you have a Group Policy Object that will create the scheduled task, whenever Group Policy applies, it\u2019s going to, like I said, run \u201c\\dcAuditor\u201d against the executable name and deliver the data to the domain controller. That\u2019s what\u2019s happening here. The goal is to get this scheduled task on all your target machines."}),"\n",(0,n.jsx)(t.p,{children:"Now that we\u2019ve done this, let\u2019s go ahead and run \u201cGP Update\u201d again. At this point, the scheduled task will fire off and send the data to the server, and at that point we should start seeing some magic. Now after GP Update runs, we actually cache that information for about a minute before we send it to the server."}),"\n",(0,n.jsx)(t.p,{children:"So don\u2019t panic if you go back to your admin console here and you click on \u201cSnapshots\u201d here and you click \u2013 well, I actually have no \u201cComputer Sets\u201d to find, so let me right click and \u201cCreate computer set\u201d and then I\u2019ll call this \u201cAll\u201d just to get us started here. I\u2019ll pick the entire \u201cDomain.\u201d Now that I\u2019ve got this all set, I can click \u201cRefresh.\u201d If you don\u2019t see anything right away, don\u2019t panic because again we cache that information for about a minute."}),"\n",(0,n.jsx)(t.p,{children:"What I\u2019ll do is I\u2019ll go to my other client machines here and I\u2019ll run \u201cGP Update\u201d on each of these machines. I\u2019ll get the scheduled task going here on each of these machines. Again, you would not normally have to do this in real life. I\u2019m simply doing it to accelerate the hands of time a little bit just to make things run a little faster here. I\u2019m running \u201cGP Update\u201d on these machines for the first time just to get the scheduled task."}),"\n",(0,n.jsx)(t.p,{children:"Who am I? I am \u201cEastSalesuser3,\u201d so I would not be able to see the scheduled task as this user. So I\u2019m just going to run it again on each of these machines here. Run \u201cGP Update\u201d here again the second time. Run \u201cGP Update\u201d here a second time."}),"\n",(0,n.jsx)(t.p,{children:"If I go back over to our management station for the Compliance Reporter, if I click \u201cRefresh\u201d here, you can see data starts to come in. It starts to trickle in from your machines. You can just double click on any given entry and instantly see the current dataset that\u2019s on the target machine."}),"\n",(0,n.jsx)(t.p,{children:"That gets auditing up and running. At this point now, you\u2019d be able to create your \u201cTests.\u201d You\u2019d be to manipulate \u201cResults\u201d and go from there. But in order to set up auditing, what I did was again I clicked on \u201cSettings.\u201d I went through \u201cAudit Setup,\u201d and you saw me do all the steps to get the \u201cAudit Setup Wizard\u201d ready to go, and now data starts trickling in from our target machines."}),"\n",(0,n.jsxs)(t.p,{children:["I hope this helps. If you have questions about getting the Compliance Reporter set up, please open a support ticket ",(0,n.jsx)(t.a,{href:"https://www.netwrix.com/sign%5C_in.html?rf=tickets.html#/open-a-ticket",children:"https://www.netwrix.com/sign\\_in.html?rf=tickets.html#/open-a-ticket"})]}),"\n",(0,n.jsx)(t.p,{children:"Thanks so much, and we\u2019ll talk to you soon."})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);