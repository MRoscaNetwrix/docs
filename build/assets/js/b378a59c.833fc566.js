"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[310637],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>s});var t=i(296540);const a={},o=t.createContext(a);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},670851:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"policypak/leastprivilege/adminapproval/test","title":"Testing Admin Approval","description":"Now log on as a Standard User and try to run an application that requires admin rights, like PowerPointViewer installer, provided there is not a rule in place that will elevate this application. The user is presented with a Request Code (also called a Challenge Code) as shown here.","source":"@site/docs/policypak/policypak/leastprivilege/adminapproval/test.md","sourceDirName":"policypak/leastprivilege/adminapproval","slug":"/policypak/leastprivilege/adminapproval/test","permalink":"/docs/policypak/policypak/leastprivilege/adminapproval/test","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/leastprivilege/adminapproval/test.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"Securing the Secret Key When Using the Group Policy Method","permalink":"/docs/policypak/policypak/leastprivilege/adminapproval/secretkeysecure"},"next":{"title":"Using Email for Admin Approval","permalink":"/docs/policypak/policypak/leastprivilege/adminapproval/useemail"}}');var a=i(474848),o=i(28453);const r={},s="Testing Admin Approval",l={},p=[];function c(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"testing-admin-approval",children:"Testing Admin Approval"})}),"\n",(0,a.jsxs)(n.p,{children:["Now log on as a Standard User and try to run an application that requires admin rights, like PowerPointViewer installer, provided there is not a rule in place that will elevate this application. The user is presented with a ",(0,a.jsx)(n.strong,{children:"Request Code"})," (also called a Challenge Code) as shown here."]}),"\n",(0,a.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval.webp)"}),"\n",(0,a.jsxs)(n.p,{children:["The user needs to present this ",(0,a.jsx)(n.strong,{children:"Request Code"}),", typically over the phone, to an Admin who can create a ",(0,a.jsx)(n.strong,{children:"Response Code"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"NOTE:"})," If you (the admin) are on the machine, you may use your credentials by clicking the ",(0,a.jsx)(n.strong,{children:"Approve with alternate Admin Credentials"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"The Admin Approval Tool can be run in three ways:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"As a standalone tool in the Extras folder from the Endpoint Policy Manager download (seen below)"}),"\n",(0,a.jsx)(n.li,{children:"Directly from a machine where the Endpoint Policy Manager MMC Admin console is installed"}),"\n",(0,a.jsx)(n.li,{children:"Directly from within a GPO"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Here, you can see the Endpoint Policy Manager Least Privilege Manager Admin Approval Tool being run from the Endpoint Policy Manager Extras folder. Running it for the first time on any Admin\u2019s machine requires you to enter in the same secret key from the GPO you used earlier."}),"\n",(0,a.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval_1.webp)"}),"\n",(0,a.jsxs)(n.p,{children:["You can save the secret key in the Registry of this Admin\u2019s machine, secured with his own encrypted password. You could also require that the key cannot be viewed ever again when this tool is run by choosing ",(0,a.jsx)(n.strong,{children:"Forbidden to view secret key from previous session"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"NOTE:"})," If you ever need to fully reset and start the Endpoint Policy Manager Admin Approval Tool from scratch, simply open the Admin machine from which the tool was run and use regedit.exe to remove the two keys located at ",(0,a.jsx)(n.code,{children:"HKEY_CURRENT_USER\\SOFTWARE\\PolicyPak"})," named ",(0,a.jsx)(n.code,{children:"GlobalSecurityKey"})," and ",(0,a.jsx)(n.code,{children:"GlobalSecurityKeyChecksum"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Once you click ",(0,a.jsx)(n.strong,{children:"OK"}),", you\u2019ll be in the main Admin Approval Tool, seen here. Here is where you can accept the Request (Challenge) Code from the user and return a ",(0,a.jsx)(n.strong,{children:"Response Code"})," back. Simply type in the ",(0,a.jsx)(n.strong,{children:"Request Code"}),", then pick the option that makes sense. The items you can specify are:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Reason - Select the reason code (of which several are hardcoded into PolicyPak)."}),"\n",(0,a.jsx)(n.li,{children:"Uses - Decide if you want the code to be used once, 5 times, 10 times, or an unlimited number of times."}),"\n",(0,a.jsx)(n.li,{children:"Apply to child processes - Decide if you want the application to be able to launch child processes as Admin."}),"\n",(0,a.jsx)(n.li,{children:"Expires - Choose if this code will expire in 10 minutes, 1 hour, 12 hours, or never."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval_2.webp)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"NOTE:"})," The Admin Approval Tool may be branded. See the section ",(0,a.jsx)(n.strong,{children:"Branding and Customization"})," in this guide."]}),"\n",(0,a.jsxs)(n.p,{children:["After filling in these options, assign a value to the ",(0,a.jsx)(n.strong,{children:"Response Code"})," and the application will launch."]}),"\n",(0,a.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval_3.webp)"}),"\n",(0,a.jsx)(n.p,{children:"In our example, we specified that the code could be used one time, so if the user tries to rerun the same application, they are prompted again."}),"\n",(0,a.jsx)(n.p,{children:"Remember that an admin can run the Admin Approval Tool if the Endpoint Policy Manager MMC snap-in is installed."}),"\n",(0,a.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval.jpg)"}),"\n",(0,a.jsx)(n.p,{children:"You can also see and launch the Admin Approval Tool from within a GPO, provided you have the secret key inside the GPO, as seen here."}),"\n",(0,a.jsx)(n.p,{children:"![A computer screen shot of a computer screen"}),"\n",(0,a.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/testing_admin_approval_4.webp)"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);