"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[593379],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var t=i(296540);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}},408496:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"auditor/configuration/fileservers/netappcmode/overview","title":"NetApp Data ONTAP","description":"Netwrix Auditor relies on native logs for collecting audit data. Therefore, successful change and access auditing requires a certain configuration of native audit settings in the audited environment and on the Auditor console computer. Configuring your IT infrastructure may also include enabling certain built-in Windows services, etc. Proper audit configuration is required to ensure audit data integrity, otherwise your change reports may contain warnings, errors or incomplete audit data.","source":"@site/docs/auditor/auditor/configuration/fileservers/netappcmode/overview.md","sourceDirName":"auditor/configuration/fileservers/netappcmode","slug":"/auditor/configuration/fileservers/netappcmode/overview","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/fileservers/netappcmode/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Configure Event Categories and Log","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/eventcategories"},"next":{"title":"Permissions for NetApp Auditing","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/permissions"}}');var r=i(474848),s=i(28453);const d={},o="NetApp Data ONTAP",l={},c=[{value:"Configure NetApp Clustered Data ONTAP 8 and ONTAP 9 for Monitoring",id:"configure-netapp-clustered-data-ontap-8-and-ontap-9-for-monitoring",level:2},{value:"Prerequisites",id:"prerequisites",level:3}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"netapp-data-ontap",children:"NetApp Data ONTAP"})}),"\n",(0,r.jsx)(n.p,{children:"Netwrix Auditor relies on native logs for collecting audit data. Therefore, successful change and access auditing requires a certain configuration of native audit settings in the audited environment and on the Auditor console computer. Configuring your IT infrastructure may also include enabling certain built-in Windows services, etc. Proper audit configuration is required to ensure audit data integrity, otherwise your change reports may contain warnings, errors or incomplete audit data."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CAUTION:"})," Folder associated with Netwrix Auditor must be excluded from antivirus scanning. See the ",(0,r.jsx)(n.a,{href:"https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000HirCAE.html",children:"Antivirus Exclusions for Netwrix Auditor"})," knowledge base article for additional information."]}),"\n",(0,r.jsx)(n.p,{children:"You can configure your\xa0IT Infrastructure for monitoring in one of the following ways:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Automatically through a monitoring plan \u2013 This is a recommended method. If you select to automatically configure audit in the target environment, your current audit settings will be checked on each data collection and adjusted if necessary."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To use this option for NetApp Clustered Data ONTAP 8 or ONTAP 9, make sure that audit configuration has been created (with ",(0,r.jsx)(n.code,{children:"vserver audit create"})," command) for the target system enabling audit configuration is optional."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Manually \u2013 Native audit settings must be adjusted manually to ensure collecting comprehensive and reliable audit data. You can enable Auditor to continually enforce the relevant audit policies or configure them manually:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On the NetApp device:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"CIFS Network Protocol support is required."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Qtree Security must be configured. The volume where the audited file shares are located must be set to the ",(0,r.jsx)(n.em,{children:'"ntfs"'})," or ",(0,r.jsx)(n.em,{children:'"mixed"'})," security style."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On Clustered Data ONTAP 8 and ONTAP 9:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"External Web Services: true"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"RECOMMENDED:"})})," For security reasons, enable only SSL access."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Firewall policy for data interfaces must be configured to allow ONTAPI protocol connections."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Audit settings must be configured as follows:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Audit Setting"}),(0,r.jsx)(n.th,{children:"Configuration"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Auditing State:"}),(0,r.jsx)(n.td,{children:"true"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Log Destination Path"}),(0,r.jsx)(n.td,{children:"/audit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Categories of Events to Audit"}),(0,r.jsx)(n.td,{children:"file-ops, cifs-logon-logoff"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Log Format"}),(0,r.jsx)(n.td,{children:"evtx"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Log File Size Limit"}),(0,r.jsx)(n.td,{children:"300 MB"})]})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On Data ONTAP 7 and Data ONTAP 8 in 7-mode:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"httpd.admin.enable"})," or the ",(0,r.jsx)(n.code,{children:"httpd.admin.ssl.enable"})," option must be set to ",(0,r.jsx)(n.em,{children:'"on"'}),". For security reasons, it is recommended to configure SSL access and enable the ",(0,r.jsx)(n.code,{children:"httpd.admin.ssl.enable"})," option."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"cifs.audit.liveview.enable"})," option must be set to ",(0,r.jsx)(n.em,{children:'"off"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"cifs.audit.enable"})," and the ",(0,r.jsx)(n.code,{children:"cifs.audit.file_access_events.enable"})," options must be set to ",(0,r.jsx)(n.em,{children:'"on"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Unless you are going to audit logon events, the ",(0,r.jsx)(n.code,{children:"cifs.audit.logon_events.enable"})," and the ",(0,r.jsx)(n.code,{children:"cifs.audit.account_mgmt_events.enable"})," options must be set to ",(0,r.jsx)(n.em,{children:'"off"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"The Security log must be configured:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"cifs.audit.logsize 300 000 000 (300 MB)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"cifs.audit.autosave.onsize.enable on"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"cifs.audit.autosave.file.extension timestamp"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Audit settings must be configured for CIFS File Shares. For a security principal (e.g., Everyone), the following options must be set to "Success" and "Fail" in the Advanced Security \u2192 Auditing settings for the audited shared folders:'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"List Folder / Read Data (Files only)"}),"\n",(0,r.jsx)(n.li,{children:"Create Files / Write Data"}),"\n",(0,r.jsx)(n.li,{children:"Create Folders / Append Data"}),"\n",(0,r.jsx)(n.li,{children:"Write Extended Attributes"}),"\n",(0,r.jsx)(n.li,{children:"Delete Subfolders and Files"}),"\n",(0,r.jsx)(n.li,{children:"Delete"}),"\n",(0,r.jsx)(n.li,{children:"Change Permissions"}),"\n",(0,r.jsx)(n.li,{children:"Take Ownership"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On the Auditor console computer:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If your file shares contain symbolic links and you want to collect state-in-time data for these shares, the local-to-local, local-to-remote, remote-to-local, and remote-to-remote symbolic link evaluations must be enabled on the computer that hosts Auditor Server."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"See the following topics for additional information:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#Configure-NetApp-Clustered-Data-ONTAP-8-and-ONTAP-9-for-Monitoring",children:"Configure NetApp Clustered Data ONTAP 8 and ONTAP 9 for Monitoring"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/cifs",children:"Configure Audit Settings for CIFS File Shares"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The following table lists the actions that can be performed on NetApp:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{}),(0,r.jsx)(n.th,{children:"File"}),(0,r.jsx)(n.th,{children:"Folder"}),(0,r.jsx)(n.th,{children:"Share"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Added"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Add (failed attempt)"}),(0,r.jsx)(n.td,{children:"\u2013"}),(0,r.jsx)(n.td,{children:"\u2013"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Modified"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Modify (failed attempt)"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Moved"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Move (failed attempt)"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Read"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Read (failed attempt)"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Renamed"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Renamed (failed attempt)"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"+*"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Removed"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Remove (failed attempt)"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"+"}),(0,r.jsx)(n.td,{children:"\u2013"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Copied"}),(0,r.jsx)(n.td,{children:"\u2013"}),(0,r.jsx)(n.td,{children:"\u2013"}),(0,r.jsx)(n.td,{children:"\u2013"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Actions marked with an asterisks (*) are reported for NetApp Clustered Data ONTAP 8 and ONTAP 9 only."}),"\n",(0,r.jsx)(n.h2,{id:"configure-netapp-clustered-data-ontap-8-and-ontap-9-for-monitoring",children:"Configure NetApp Clustered Data ONTAP 8 and ONTAP 9 for Monitoring"}),"\n",(0,r.jsx)(n.p,{children:"To configure Clustered Data ONTAP 8 and ONTAP 9 for monitoring, perform the following procedures:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#Prerequisites",children:"Prerequisites "})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/webaccess",children:"Configure ONTAPI\\RESTAPI Web Access"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/ports",children:"Configure System Service Firewall Policies"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/servicepolicy",children:"Configure Service Policy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/eventcategories",children:"Configure Event Categories and Log"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Netwrix assumes that you are aware of basic installation and configuration steps. If not, refer to the following administration and management guides."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Version"}),(0,r.jsx)(n.th,{children:"Related documentation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Clustered Data ONTAP 8.2"}),(0,r.jsxs)(n.td,{children:["- ",(0,r.jsx)(n.a,{href:"https://library.netapp.com/ecm/ecm_download_file/ECMP1196891",children:"Clustered Data ONTAP\xae 8.2 File Access and Protocols Management Guide"})," - ",(0,r.jsx)(n.a,{href:"https://library.netapp.com/ecm/ecm_download_file/ECMP1368704",children:"Clustered Data ONTAP\xae 8.2 System Administration Guide for SVM Administrators"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Clustered Data ONTAP 8.3"}),(0,r.jsxs)(n.td,{children:["- ",(0,r.jsx)(n.a,{href:"https://library.netapp.com/ecm/ecm_get_file/ECMP1636037",children:"Clustered Data ONTAP\xae 8.3 System Administration Guide for Cluster Administrators"})," - ",(0,r.jsx)(n.a,{href:"https://library.netapp.com/ecm/ecm_download_file/ECMP1610207",children:"Clustered Data ONTAP\xae 8.3 File Access Management Guide for CIFS"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ONTAP 9.0 - 9.10"}),(0,r.jsxs)(n.td,{children:["- ",(0,r.jsx)(n.a,{href:"http://docs.netapp.com/ontap-9/index.jsp",children:"ONTAP 9 Documentation Center"})]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Perform the following steps before proceeding with the audit configuration."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1 \u2013"})," Configure CIFS\xa0server and make sure it functions properly."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE"}),": NFS file shares are not supported."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2 \u2013"})," Configure System Access Control List (SACL) on your file share. See ",(0,r.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/fileservers/netappcmode/cifs",children:"Configure Audit Settings for CIFS File Shares"})," topic for additional information."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3 \u2013"})," Set the Security Style for Volume or Qtree where the audited file shares are located to the ",(0,r.jsx)(n.em,{children:'"ntfs"'})," or ",(0,r.jsx)(n.em,{children:'"mixed"'}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 4 \u2013"})," Configure audit manually. For 8.3, review the Auditing NAS events on SVMs with FlexVol volumes section in ",(0,r.jsx)(n.a,{href:"https://library.netapp.com/ecm/ecm_download_file/ECMP1610207",children:"Clustered Data ONTAP\xae 8.3 File Access Management Guide for CIFS."})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"})," The current version of Netwrix Auditor does not support auditing of Infinite Volumes."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);