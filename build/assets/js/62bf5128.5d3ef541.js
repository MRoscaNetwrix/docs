"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[156475],{28453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>a});var i=n(296540);const o={},r=i.createContext(o);function s(t){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:s(t.components),i.createElement(r.Provider,{value:e},t.children)}},805275:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"config/panzura/activity","title":"Panzura CloudFS Monitoring","description":"Netwrix Activity Monitor can be configured to monitor file system activity on Panzura CloudFS file-based storage.","source":"@site/docs/activitymonitor/config/panzura/activity.md","sourceDirName":"config/panzura","slug":"/config/panzura/activity","permalink":"/docs/activitymonitor/config/panzura/activity","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/activitymonitor/config/panzura/activity.md","tags":[],"version":"current","frontMatter":{},"sidebar":"activityMonitorSidebar","previous":{"title":"Nutanix Files Activity Auditing Configuration","permalink":"/docs/activitymonitor/config/nutanix/activity"},"next":{"title":"Qumulo Activity Auditing Configuration","permalink":"/docs/activitymonitor/config/qumulo/activity"}}');var o=n(474848),r=n(28453);const s={},a="Panzura CloudFS Monitoring",d={},c=[{value:"Enable Auditing in CloudFS",id:"enable-auditing-in-cloudfs",level:2},{value:"Automatic Configuration",id:"automatic-configuration",level:2},{value:"Manual Configuration",id:"manual-configuration",level:2},{value:"Network Configuration",id:"network-configuration",level:2}];function l(t){const e={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"panzura-cloudfs-monitoring",children:"Panzura CloudFS Monitoring"})}),"\n",(0,o.jsx)(e.p,{children:"Netwrix Activity Monitor can be configured to monitor file system activity on Panzura CloudFS file-based storage."}),"\n",(0,o.jsx)(e.p,{children:"The monitoring process is based on two technologies:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Third Party Vendor Support auditing feature \u2013 Delivers audit events to Activity Monitor Agents"}),"\n",(0,o.jsx)(e.li,{children:"CloudFS API \u2013 Used to register Activity Monitor as a consumer of audit events to query and update auditing settings"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Auditing must be enabled on the master Panzura node and optionally overridden on the subordinate nodes to support different deployment scenarios depending on the expected load and network latency. A single agent monitors several Panzura nodes."}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"panzurasingleagntmonitor",src:n(934673).A+"",width:"869",height:"581"})}),"\n",(0,o.jsx)(e.p,{children:"Audit events are distributed between two agents. Audit settings are overridden on one Panzura node."}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"auditeventstwoagnt_panzura",src:n(912682).A+"",width:"922",height:"627"})}),"\n",(0,o.jsx)(e.p,{children:"The monitoring process relies on the Third Party Vendor Support auditing feature of the Panzura CloudFS platform, which uses the AMQP protocol for event delivery. Unlike typical uses of the AMQP protocol that require messaging middleware, the Panzura master and subordinate nodes connect directly to the Netwrix Activity Monitor Agent, eliminating the need for middleware."}),"\n",(0,o.jsx)(e.p,{children:"Netwrix Activity Monitor uses Panzura API to register itself as a consumer of auditing events. It also uses the API to perform periodic checks to ensure the auditing settings in Panzura are correct. The credentials to access the API must be specified when a Panzura host is added to Activity Monitor for monitoring. Additionally, the IP address of the port is 4497 by default and can be customized in the properties for the Agent."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"NOTE:"})," See the ",(0,o.jsx)(e.a,{href:"/docs/activitymonitor/activitymonitor/admin/monitoredhosts/add/panzura",children:"Panzura"})," topic for additional information on Panzura Host."]}),"\n",(0,o.jsx)(e.p,{children:"To prepare Panzura CloudFS for monitoring, auditing must be enabled."}),"\n",(0,o.jsx)(e.h2,{id:"enable-auditing-in-cloudfs",children:"Enable Auditing in CloudFS"}),"\n",(0,o.jsx)(e.p,{children:"Auditing in CloudFS can be enabled either automatically or manually."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.em,{children:(0,o.jsx)(e.strong,{children:"RECOMMENDED:"})})," Using the automatic option using the CloudFS API streamlines the configuration process and ensures that auditing remains enabled and accurate."]}),"\n",(0,o.jsx)(e.h2,{id:"automatic-configuration",children:"Automatic Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Netwrix Activity Monitor uses the CloudFS API to configure Third Party Vendor Support auditing option."}),"\n",(0,o.jsx)(e.p,{children:"If a master node is targeted, the product will configure the global audit settings and assign to be pushed to subordinate nodes. If a subordinate node is targeted, the product will configure the local audit settings to override the global ones."}),"\n",(0,o.jsx)(e.p,{children:"The product will also ensure the settings are correct with periodic checks."}),"\n",(0,o.jsx)(e.h2,{id:"manual-configuration",children:"Manual Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Follow these steps to enable auditing."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 1 \u2013"})," Navigate to ",(0,o.jsx)(e.strong,{children:"Audit Settings"})," > ",(0,o.jsx)(e.strong,{children:"Third Party Support"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 2 \u2013"})," Enable the ",(0,o.jsx)(e.strong,{children:"Generate Third Party Logs"})," option."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 3 \u2013"})," Enable the ",(0,o.jsx)(e.strong,{children:"Push to Subordinate(s)"})," option."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 4 \u2013"})," Enter ",(0,o.jsx)(e.strong,{children:"other"})," as the Vendor Name."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 5 \u2013"})," Under Actions, specify close, create, delete, delxattr, mkdir, move, open, read, remove, rename, rlclaim, rmdir, setxattr, and writeUnder ."]}),"\n",(0,o.jsx)(e.p,{children:"If you require monitoring of Directory Read/List operations, which typically generate a high volume of data, also include readdir to the list."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 6 \u2013"})," Specify * in Include Files."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 7 \u2013"})," Specify - in Exclude Files."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 8 \u2013"})," Finally, add the Panzura host to be monitored in the Activity Monitor Console."]}),"\n",(0,o.jsx)(e.p,{children:"Auditing is now enabled."}),"\n",(0,o.jsx)(e.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,o.jsx)(e.p,{children:"Activity Monitor agents register themselves as consumers of audit data via the CloudFS API. The agents pass their IP address and port along with other AMQP parameters. Panzura nodes use this information to establish connections with the Activity Monitor agents."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"NOTE:"})," The address and port used for registration can be found or modified in the agent\u2019s settings."]}),"\n",(0,o.jsx)(e.p,{children:"Follow the steps for network configuration."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 1 \u2013"})," Open Activity Monitor Console."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 2 \u2013"})," On the Agents tab, select an agent and click ",(0,o.jsx)(e.strong,{children:"Edit"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 3 \u2013"})," Use the Network tab to select the network interface that will be used for registration."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Step 4 \u2013"})," Use the Panzura tab to modify the port. The default port is 4497."]}),"\n",(0,o.jsx)(e.p,{children:"The agent will configure the Windows Firewall to allow incoming connections to the specified port automatically. Use the following table to configure the firewall."}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"Communication Direction"}),(0,o.jsx)(e.th,{children:"Protocol"}),(0,o.jsx)(e.th,{children:"Ports"}),(0,o.jsx)(e.th,{children:"Description"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Activity Monitor Console to Activity Monitor Agents"}),(0,o.jsx)(e.td,{children:"TCP"}),(0,o.jsx)(e.td,{children:"4498"}),(0,o.jsx)(e.td,{children:"Agent communication"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Activity Monitor Agent to Panzura nodes"}),(0,o.jsx)(e.td,{children:"TCP/HTTPS"}),(0,o.jsx)(e.td,{children:"443"}),(0,o.jsx)(e.td,{children:"CloudFS API"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Panzura nodes to Activity Monitor Agent"}),(0,o.jsx)(e.td,{children:"TCP/AMQP"}),(0,o.jsx)(e.td,{children:"4497"}),(0,o.jsx)(e.td,{children:"Audit events"})]})]})]})]})}function h(t={}){const{wrapper:e}={...(0,r.R)(),...t.components};return e?(0,o.jsx)(e,{...t,children:(0,o.jsx)(l,{...t})}):l(t)}},912682:(t,e,n)=>{n.d(e,{A:()=>i});const i=n.p+"assets/images/auditeventstwoagnt_panzura-f4bc82087a5e9acc33dad1536eb4b713.webp"},934673:(t,e,n)=>{n.d(e,{A:()=>i});const i=n.p+"assets/images/panzurasingleagntmonitor-bca499c4218bb35b64118008b1ecdfd9.webp"}}]);