"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[13881],{28453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>s});var n=t(296540);const r={},o=n.createContext(r);function a(e){const i=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(o.Provider,{value:i},e.children)}},173766:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid","title":"Configure the AD FS Provider In Directory Manager","description":"To configure a SAML provider in Directory Manager, you have to specify the following:","source":"@site/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid.md","sourceDirName":"groupid/authenticate/asserviceprovider/adfs","slug":"/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid","permalink":"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configureadfsingroupid.md","tags":[],"version":"current","frontMatter":{},"sidebar":"groupIdSidebar","previous":{"title":"Sign In Using Directory Manager","permalink":"/docs/groupid/groupid/authenticate/asidentityprovider/signin"},"next":{"title":"Configure Relaying Party Trust in AD FS","permalink":"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust"}}');var r=t(474848),o=t(28453);const a={},s="Configure the AD FS Provider In Directory Manager",d={},c=[{value:"Configure the AD FS Provider in Directory Manager",id:"configure-the-ad-fs-provider-in-directory-manager-1",level:2},{value:"Provide Issuer URL",id:"provide-issuer-url",level:2},{value:"Provide IDP Login URL",id:"provide-idp-login-url",level:3},{value:"Get Token-Signing Certificate",id:"get-token-signing-certificate",level:3},{value:"Upload an Image for the Identity Provider",id:"upload-an-image-for-the-identity-provider",level:3},{value:"Specify Advanced Configurations",id:"specify-advanced-configurations",level:3}];function l(e){const i={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"configure-the-ad-fs-provider-in-directory-manager",children:"Configure the AD FS Provider In Directory Manager"})}),"\n",(0,r.jsx)(i.p,{children:"To configure a SAML provider in Directory Manager, you have to specify the following:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Issuer URL"}),"\n",(0,r.jsx)(i.li,{children:"IDP Login URL"}),"\n",(0,r.jsx)(i.li,{children:"Token signing certificate"}),"\n",(0,r.jsx)(i.li,{children:"An image for the identity provider"}),"\n",(0,r.jsx)(i.li,{children:"Advanced configurations"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configure-the-ad-fs-provider-in-directory-manager-1",children:"Configure the AD FS Provider in Directory Manager"}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to configure the AD FS provider in Directory Manager."}),"\n",(0,r.jsxs)(i.p,{children:["Step 1 \u2013 In Directory Manager Authenticate, click the ",(0,r.jsx)(i.strong,{children:"SAML Providers"})," tab."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 2 \u2013 On the SAML Providers page, click ",(0,r.jsx)(i.strong,{children:"New Provider"}),"."]}),"\n",(0,r.jsx)(i.p,{children:"Step 3 \u2013 On the Create New Provider page, enter a name for the provider."}),"\n",(0,r.jsxs)(i.p,{children:["Step 4 \u2013 Make sure the Client box displays the name of the Directory Manager client for which you generated the Entity ID/Audience URL and provided that in AD FS.",(0,r.jsx)(i.br,{}),"\n","Keep this page open while we copy configurations from AD FS and provide them here."]}),"\n",(0,r.jsx)(i.h2,{id:"provide-issuer-url",children:"Provide Issuer URL"}),"\n",(0,r.jsx)(i.p,{children:"The issuer URL is provided by the federation service, i.e., AD FS. Copy this URL from AD FS and provide it in Directory Manager."}),"\n",(0,r.jsxs)(i.p,{children:["Step 1 \u2013 In the AD FS console, right-click ",(0,r.jsx)(i.strong,{children:"Service"})," and select ",(0,r.jsx)(i.strong,{children:"Edit Federation Service Properties"}),"."]}),"\n",(0,r.jsx)(i.p,{children:"Step 2 \u2013 On the Federation Service Properties dialog box, copy the URL displayed in the Federation Service Identifier box and paste it in the Issuer box on the Create New Provider page in Directory Manager."}),"\n",(0,r.jsx)(i.h3,{id:"provide-idp-login-url",children:"Provide IDP Login URL"}),"\n",(0,r.jsx)(i.p,{children:"The IDP Login URL is the URL of the AD FS sign-in page. Follow the steps to fetch and enter IDP Login URL."}),"\n",(0,r.jsx)(i.p,{children:"Step 1 \u2013 Launch the AD FS login page and copy the URL displayed in the address bar."}),"\n",(0,r.jsxs)(i.p,{children:["Step 2 \u2013 We only need the initial part of the URL, up to ",(0,r.jsx)(i.em,{children:"ls"}),". Copy it and paste it in the IDP Login URL box on the Create New Provider page."]}),"\n",(0,r.jsx)(i.h3,{id:"get-token-signing-certificate",children:"Get Token-Signing Certificate"}),"\n",(0,r.jsx)(i.p,{children:"The next step is to get the token-signing certificate from AD FS and provide it in Directory Manager. Follow the steps to do so."}),"\n",(0,r.jsxs)(i.p,{children:["Step 1 \u2013 Go to the AD FS console and click ",(0,r.jsx)(i.strong,{children:"Certificates"}),". The certificates are displayed."]}),"\n",(0,r.jsx)(i.p,{children:"Step 2 \u2013 Double-click the token-signing certificate to open its properties."}),"\n",(0,r.jsxs)(i.p,{children:["Step 3 \u2013 On the Certificate Properties dialog box, go to the Details tab and click the ",(0,r.jsx)(i.strong,{children:"Copy to File"})," button to launch the Certificate Export Wizard."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 4 \u2013 Read the welcome message and click ",(0,r.jsx)(i.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 5 \u2013 On the Export File Format page, select the ",(0,r.jsx)(i.strong,{children:"Base-64 encoded X.509 (.CER)"})," option button and click ",(0,r.jsx)(i.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 6 \u2013 On the File to Export page, specify a name for the certificate file and click ",(0,r.jsx)(i.strong,{children:"Browse"})," to specify a location to save it. Then click ",(0,r.jsx)(i.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 7 \u2013 On the next page, click ",(0,r.jsx)(i.strong,{children:"Finish"})," to complete the wizard."]}),"\n",(0,r.jsx)(i.p,{children:"Step 8 \u2013 Open the certificate file in Notepad and select the entire content. Copy this certificate and paste it in the IDP Certificate box on the Create New Provider page in Directory Manager. Make sure there is no trailing space after the dashes that mark the end of the certificate."}),"\n",(0,r.jsx)(i.h3,{id:"upload-an-image-for-the-identity-provider",children:"Upload an Image for the Identity Provider"}),"\n",(0,r.jsxs)(i.p,{children:["When AD FS is configured with a Directory Manager client, say the Directory Manager portal ",(0,r.jsx)(i.em,{children:"Wizard"}),", it will be available on ",(0,r.jsx)(i.em,{children:"Wizard\u2019s"})," login page for single sign-on. You can choose to display the AD FS option as an image or as a button."]}),"\n",(0,r.jsx)(i.p,{children:"To display the AD FS option as an image, you have to upload an image for it. On the Create New Provider page, use the Browse button under Identity Provider Image to upload an image for AD FS."}),"\n",(0,r.jsxs)(i.p,{children:["NOTE: Supported image formats: .jpg, .bmp, .webp, .gif",(0,r.jsx)(i.br,{}),"\n","Required image file dimensions: 210 x 60 pixels"]}),"\n",(0,r.jsx)(i.p,{children:"If you do not upload an image, AD FS authentication will be shown as a button. This button would have the same name as you entered in the Name box on the Create New Provider page."}),"\n",(0,r.jsxs)(i.p,{children:["Users can click the AD FS image or the button on the login page of the Directory Manager portal ",(0,r.jsx)(i.em,{children:"Wizard"})," for single sign-on."]}),"\n",(0,r.jsx)(i.h3,{id:"specify-advanced-configurations",children:"Specify Advanced Configurations"}),"\n",(0,r.jsx)(i.p,{children:"Next, specify some advanced configurations for the identity provider. Expand the Advanced section on the Create New Provider page and provide the information as follows:"}),"\n",(0,r.jsxs)(i.p,{children:["Step 1 \u2013 Make sure that ",(0,r.jsx)(i.em,{children:"RSA-SHA-256"})," is selected in the Response Signing Method box."]}),"\n",(0,r.jsx)(i.p,{children:"Step 2 \u2013 The Disable GroupID Authentication option indicates whether to display the Directory Manager authentication login on the Directory Manager client's login page ( i.e., Wizard portal\u2019s login page in our example)."}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"By default, \u2018No\u2019 is selected, which means that when users access the Directory Manager client's login page, they will be shown the Directory Manager login and password option along with the identity provider\u2019s button."}),"\n",(0,r.jsx)(i.li,{children:"Selecting \u2018Yes\u2019 means that the Directory Manager login and password option will not be available on the Directory Manager client's login page. Moreover, when a single identity store and a single SAML provider is configured, the login page for the provider is displayed rather than the Directory Manager client's login page."}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Step 3 \u2013 Select ",(0,r.jsx)(i.em,{children:"Post"})," in the Request Binding drop-down list.",(0,r.jsx)(i.br,{}),"\n","To verify that you have selected the correct binding type, do the following:"]}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["In the AD FS console click ",(0,r.jsx)(i.strong,{children:"Relying Party Trust"})," in the left pane; the middle pane displays the relying party trusts already configured."]}),"\n",(0,r.jsxs)(i.li,{children:["Double-click the relying party trust that you created for the Directory Manager portal ",(0,r.jsx)(i.em,{children:"Wizard"}),". This launches the Properties dialog box for the relying party trust."]}),"\n",(0,r.jsxs)(i.li,{children:["Click the ",(0,r.jsx)(i.strong,{children:"Endpoints"})," tab and confirm that the binding type is ",(0,r.jsx)(i.em,{children:"POST"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Step 4 \u2013 In AD FS, we configured an Active Directory attribute that the identity provider will use for authenticating users (see step 16 in the ",(0,r.jsx)(i.a,{href:"/docs/groupid/groupid/authenticate/asserviceprovider/adfs/configurerelayingpartytrust",children:"Configure Relaying Party Trust in AD FS"})," topic). In our example, we used the UPN attribute that stores the user principal name. Now in the Advanced section, we have to refer to this attribute.",(0,r.jsx)(i.br,{}),"\n","In the Identity Location list, select the ",(0,r.jsx)(i.em,{children:"Identity is an attribute element"})," option."]}),"\n",(0,r.jsxs)(i.p,{children:["Step 5 \u2013 On selecting it, the Identity Location Attribute box is displayed.",(0,r.jsx)(i.br,{}),"\n","The attribute location will be in the form of a URL. Get this URL from AD FS."]}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["In the AD FS console, click ",(0,r.jsx)(i.strong,{children:"Claim Descriptions"})," in the left pane and then select the Active Directory attribute you specified for authentication. In our example, it is the UPN attribute."]}),"\n",(0,r.jsx)(i.li,{children:"Double-click the attribute to open its properties."}),"\n",(0,r.jsx)(i.li,{children:"On the Attribute Properties dialog box, copy the URL displayed in the Claim type box and paste it in the Identity Location Attribute box."}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Step 6 \u2013 With all configurations completed, click the ",(0,r.jsx)(i.strong,{children:"Create Provider"})," button. The identity provider, i.e., AD FS, is created and displayed on the SAML Providers page."]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);