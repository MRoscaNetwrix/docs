"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[13739],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(296540);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}},46527:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"config/dellpowerscale/manualconfiguration","title":"Manually Configure Auditing in OneFS","description":"Manual configuration for auditing is optional for newer versions as the Activity Agent can configure the auditing automatically using the OneFS API. Follow the steps through the OneFS Storage Administration Console.","source":"@site/docs/accessanalyzer/config/dellpowerscale/manualconfiguration.md","sourceDirName":"config/dellpowerscale","slug":"/config/dellpowerscale/manualconfiguration","permalink":"/docs/accessanalyzer/config/dellpowerscale/manualconfiguration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/config/dellpowerscale/manualconfiguration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Install Dell CEE","permalink":"/docs/accessanalyzer/config/dellpowerscale/installcee"},"next":{"title":"Dell Isilon/PowerScale Target Requirements","permalink":"/docs/accessanalyzer/config/dellpowerscale/overview"}}');var s=n(474848),o=n(28453);const r={},a="Manually Configure Auditing in OneFS",c={},l=[];function d(e){const t={code:"code",em:"em",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"manually-configure-auditing-in-onefs",children:"Manually Configure Auditing in OneFS"})}),"\n",(0,s.jsx)(t.p,{children:"Manual configuration for auditing is optional for newer versions as the Activity Agent can configure the auditing automatically using the OneFS API. Follow the steps through the OneFS Storage Administration Console."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to the ",(0,s.jsx)(t.strong,{children:"Cluster Management"})," tab, and select ",(0,s.jsx)(t.strong,{children:"Auditing"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"settings",src:n(902134).A+"",width:"1152",height:"739"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the Settings section, check the Enable Protocol Access Auditing box."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," In the Audited Zones section, add at least one zone to be audited. The ",(0,s.jsx)(t.strong,{children:"System"})," zone is typically used. If the CIFS or NFS shares are accessible through different zones on the OneFS cluster, include all relevant zones."]}),"\n",(0,s.jsx)(t.p,{children:"Ensure that OneFS collects only events you are interested in. By default, OneFS may monitor things like directory reads, which can take up a large amount of space. Configuring the OneFS events that need monitoring is not done through the Activity Monitor console. Configure OneFS event monitoring using OneFS CLI with the isi audit modify command for each access zone. Enabling monitoring for only what is needed for the environment will reduce the data load to the agent."}),"\n",(0,s.jsxs)(t.p,{children:["Activity Monitor monitors the following events: ",(0,s.jsx)(t.code,{children:"close_file_modified"}),", ",(0,s.jsx)(t.code,{children:"close_file_unmodified"}),", ",(0,s.jsx)(t.code,{children:"create_file"}),", ",(0,s.jsx)(t.code,{children:"create_directory"}),", ",(0,s.jsx)(t.code,{children:"delete_file"}),", ",(0,s.jsx)(t.code,{children:"delete_directory"}),", ",(0,s.jsx)(t.code,{children:"rename_file"}),", ",(0,s.jsx)(t.code,{children:"rename_directory"}),", ",(0,s.jsx)(t.code,{children:"set_security_file"}),", ",(0,s.jsx)(t.code,{children:"set_security_directory"}),", and ",(0,s.jsx)(t.code,{children:"open_directory"})," (if you want to monitor Directory List/Read events)."]}),"\n",(0,s.jsx)(t.p,{children:"For each monitored access zone:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Use isi audit settings view ",(0,s.jsx)(t.code,{children:"isi --zone ZONENAME"})," to check current settings."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Disable reporting of failure and syslog audit events with:"}),"\n",(0,s.jsx)(t.p,{children:"isi audit settings modify --zone ZONENAME --clear-audit-failure --clear-syslog-audit-events"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Set the success audit events with:"}),"\n",(0,s.jsx)(t.p,{children:"isi audit settings modify --zone ZONENAME --audit-success=close_file_modified,close_file_unmodified,create_file,create_directory,delete_file,delete_directory,rename_file,rename_directory,set_security_file,set_security_directory"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"eventforwarding",src:n(709730).A+"",width:"1151",height:"540"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"})," In the Event Forwarding section, add the CEE Server URI value for the Windows or Linux server hosting CEE. Use either of the following format:"]}),"\n",(0,s.jsx)(t.p,{children:"http://[IP ADDRESS]:[PORT]/cee"}),"\n",(0,s.jsx)(t.p,{children:"http://[SERVER Name]:[PORT]/cee"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"RECOMMENDED:"})})," When deploying multiple Dell CEE instances at scale, it is recommended that an accommodating agent must be configured with each CEE instance. If multiple CEE instances send events to just one agent, it may create an overflow of data and overload the agent. Distributing the activity stream into pairs will be the most efficient way of monitoring large data sets at scale."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 5 \u2013"})," Also in the Event Forwarding section, set the ",(0,s.jsx)(t.strong,{children:"Storage Cluster Name"})," value. It must be an exact match to the name which is entered in the Activity Monitor for the ",(0,s.jsx)(t.strong,{children:"Monitored Host"})," list."]}),"\n",(0,s.jsx)(t.p,{children:"This name is used as a \u2018tag\u2019 on all events coming through the CEE. This name must exactly match what is in the Activity Monitor or it does not recognize the events."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"RECOMMENDED:"})})," Use the CIFS DNS name for Dell OneFS."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE:"})," To use the Activity Monitor with Access Analyzer for Activity Auditing (FSAC) scans, the name entered here must exactly match what is used for Access Analyzer as a target host."]}),"\n",(0,s.jsx)(t.p,{children:"If the Storage Cluster Name cannot be modified (for example, another third-party depends on it), you need to set the Host Aliases parameter in the Activity Monitor Console:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If the Storage Cluster Name is not empty, set the Host Aliases parameter to its value"}),"\n",(0,s.jsx)(t.li,{children:"If the Storage Cluster Name is empty, set the Host Aliases to a semicolon-separated list of OneFS node names"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Next, it is time to configure the monitoring agent on the Windows server to monitor the Isilon/PowerScale device."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},709730:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/eventforwarding-b3b8615aef3e8dd22d0745cbe25b6dff.webp"},902134:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/settings-d1d5c9c3607fa91cbc88f3476cde8e45.webp"}}]);