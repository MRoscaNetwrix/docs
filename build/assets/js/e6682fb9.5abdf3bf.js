"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[176227],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var t=n(296540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}},269623:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/exceptionsanalysisconfiguration-fa27b68db2a8f93d85406a52d5bf31d9.webp"},540177:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/exceptionssqlscripteditor-e3ffdcd19f8609007bb56e711f48aa7a.webp"},809135:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/exceptionsanalysistasks-4936130ed6bc7734572aea25f328e8fd.webp"},833681:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"enterpriseauditor/solutions/entraidinventory/aad_exceptions","title":"2-AAD\\\\_Exceptions Job","description":"The 2-AAD\\\\_Exceptions Job identifies toxic conditions that exist within Microsoft Entra ID which may leave environments at risk or add unnecessary administrative overhead.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/entraidinventory/2-aad_exceptions.md","sourceDirName":"enterpriseauditor/solutions/entraidinventory","slug":"/enterpriseauditor/solutions/entraidinventory/aad_exceptions","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/entraidinventory/aad_exceptions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/entraidinventory/2-aad_exceptions.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"1-AAD\\\\_Scan Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/entraidinventory/aad_scan"},"next":{"title":".Entra ID Inventory Solution","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/entraidinventory/overview"}}');var i=n(474848),r=n(28453);const a={},o="2-AAD_Exceptions Job",l={},d=[{value:"Analysis Tasks for the 2-AAD_Exceptions Job",id:"analysis-tasks-for-the-2-aad_exceptions-job",level:2},{value:"Customize Analysis Parameters for the 2-AAD_Exceptions Job",id:"customize-analysis-parameters-for-the-2-aad_exceptions-job",level:3},{value:"Configure the Analysis Tasks for the 2-AAD_Exceptions Job",id:"configure-the-analysis-tasks-for-the-2-aad_exceptions-job",level:3}];function c(e){const s={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"2-aad_exceptions-job",children:"2-AAD_Exceptions Job"})}),"\n",(0,i.jsx)(s.p,{children:"The 2-AAD_Exceptions Job identifies toxic conditions that exist within Microsoft Entra ID which may leave environments at risk or add unnecessary administrative overhead."}),"\n",(0,i.jsx)(s.h2,{id:"analysis-tasks-for-the-2-aad_exceptions-job",children:"Analysis Tasks for the 2-AAD_Exceptions Job"}),"\n",(0,i.jsxs)(s.p,{children:["Navigate to the ",(0,i.jsx)(s.strong,{children:".Entra ID Inventory"})," > ",(0,i.jsx)(s.strong,{children:"2-AAD_Exceptions"})," > ",(0,i.jsx)(s.strong,{children:"Configure"})," node and select ",(0,i.jsx)(s.strong,{children:"Analysis"}),". Analysis tasks with configuration parameters that define security concerns can be modified."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"CAUTION:"})," Most of these analysis tasks are preconfigured and should not be modified and not be deselected. There are a few which are deselected by default, as they are for troubleshooting purposes."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Analysis Tasks for 2-AAD_Exceptions Job",src:n(809135).A+"",width:"509",height:"310"})}),"\n",(0,i.jsx)(s.p,{children:"The default analysis tasks are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Create Exception Type Table \u2013 Creates a processing table in the database for use by downstream analysis and report generation"}),"\n",(0,i.jsxs)(s.li,{children:["Large Groups","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups that exceed the defined threshold for effective group membership"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n",(0,i.jsxs)(s.li,{children:["This analysis task has configurable parameters","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Definition of a larger group can be customized"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Deeply Nested Groups","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups that exceed the defined threshold of deep levels of membership nesting"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n",(0,i.jsxs)(s.li,{children:["This analysis task has configurable parameters","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Definition of a deeply nested group can be customized"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Circular Nesting","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups with circular references in their effective membership"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Empty Groups","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups with no membership"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Single Member Groups","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups with a single direct member"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Stale Users","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies user accounts that are disabled or exceed the defined threshold of inactivity"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n",(0,i.jsxs)(s.li,{children:["This analysis task has configurable parameters","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Definition of a stale user can be customized"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Stale Membership","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Identifies groups with a high percentage of effective members that are stale users"}),"\n",(0,i.jsx)(s.li,{children:"Populates processing tables in the database for use by downstream analysis and report generation"}),"\n",(0,i.jsxs)(s.li,{children:["This analysis task has configurable parameters","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Definition of a stale membership can be customized"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Display Exceptions View \u2013 Creates the SA_AzureADInventory_ExceptionsView accessible under the job\u2019s Results node"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"customize-analysis-parameters-for-the-2-aad_exceptions-job",children:"Customize Analysis Parameters for the 2-AAD_Exceptions Job"}),"\n",(0,i.jsx)(s.p,{children:"The default values for parameters that can be customized are:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Analysis Task"}),(0,i.jsx)(s.th,{children:"Customizable Parameter Name"}),(0,i.jsx)(s.th,{children:"Default Value"}),(0,i.jsx)(s.th,{children:"Value Indicates"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Large Groups"}),(0,i.jsx)(s.td,{children:"@LARGE_THRESHOLD"}),(0,i.jsx)(s.td,{children:"1000"}),(0,i.jsx)(s.td,{children:"A group object with 1000 members or more"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Deeply Nested Groups"}),(0,i.jsx)(s.td,{children:"@NESTING_THRESHOLD"}),(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"A group object nested 10 levels or deeper within another group object"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Stale Users"}),(0,i.jsx)(s.td,{children:"@STALE_THRESHOLD"}),(0,i.jsx)(s.td,{children:"30"}),(0,i.jsx)(s.td,{children:"A user object that has been inactive for 30 days or more"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"@INCLUDE_DISABLED"}),(0,i.jsx)(s.td,{children:"True"}),(0,i.jsx)(s.td,{children:"A user object that has been disabled"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Stale Membership"}),(0,i.jsx)(s.td,{children:"@STALE_THRESHOLD"}),(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"A group where 10% of its effective members are stale users"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"#configure-the-analysis-tasks-for-the-2-aad_exceptions-job",children:"Configure the Analysis Tasks for the 2-AAD_Exceptions Job"})," section for instructions to modify parameters. See the ",(0,i.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/azureadinventory/standardtables#azureadinventory-exception-types-translated",children:"AzureADInventory Exception Types Translated"})," topic for an explanation of Exception Types."]}),"\n",(0,i.jsx)(s.h3,{id:"configure-the-analysis-tasks-for-the-2-aad_exceptions-job",children:"Configure the Analysis Tasks for the 2-AAD_Exceptions Job"}),"\n",(0,i.jsx)(s.p,{children:"Customizable parameters enable Access Analyzer users to set the values used to classify user and group objects during this job\u2019s analysis. The parameters can be customized and are listed in a section at the bottom of the SQL Script Editor. Follow the steps to customize an analysis task\u2019s parameters."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"CAUTION:"})," Modifying these parameters affects solutions with .Entra ID Inventory Job Group dependency."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 1 \u2013"})," Navigate to the ",(0,i.jsx)(s.strong,{children:".Entra ID Inventory"})," > ",(0,i.jsx)(s.strong,{children:"2-AAD_Exceptions"})," > ",(0,i.jsx)(s.strong,{children:"Configure"})," node and select ",(0,i.jsx)(s.strong,{children:"Analysis"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Analysis Configuration option on Analysis Selection page",src:n(269623).A+"",width:"509",height:"310"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 2 \u2013"})," In the Analysis Selection view, select an analysis task and click ",(0,i.jsx)(s.strong,{children:"Analysis Configuration"}),". The SQL Script Editor opens."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 3 \u2013"})," Click Parameters to open the Parameters section."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Change Parameter Value in SQL Script Editor",src:n(540177).A+"",width:"708",height:"595"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 4 \u2013"})," Double-click in a field in the Value column and enter a custom value."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"CAUTION:"})," Do not change any parameters where the Value states ",(0,i.jsx)(s.strong,{children:"Created during execution"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Step 5 \u2013"})," Click ",(0,i.jsx)(s.strong,{children:"Save and Close"})," to finalize the customization and close the SQL Script Editor."]}),"\n",(0,i.jsx)(s.p,{children:"Repeat these steps to customize other analysis tasks for this job."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);