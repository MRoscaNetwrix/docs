"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[580496],{28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>a});var t=n(296540);const r={},s=t.createContext(r);function o(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:i},e.children)}},970498:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"auditor/configuration/sharepoint/overview","title":"SharePoint","description":"Netwrix Auditor relies on native logs for collecting audit data. Therefore, successful change and access auditing requires a certain configuration of native audit settings in the audited environment and on the Auditor console computer. Configuring your IT infrastructure may also include enabling certain built-in Windows services, etc. Proper audit configuration is required to ensure audit data integrity, otherwise your change reports may contain warnings, errors or incomplete audit data.","source":"@site/docs/auditor/auditor/configuration/sharepoint/overview.md","sourceDirName":"auditor/configuration/sharepoint","slug":"/auditor/configuration/sharepoint/overview","permalink":"/docs/auditor/auditor/configuration/sharepoint/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/sharepoint/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Data Source Configuration","permalink":"/docs/auditor/auditor/configuration/overview"},"next":{"title":"Permissions for SharePoint Auditing","permalink":"/docs/auditor/auditor/configuration/sharepoint/permissions"}}');var r=n(474848),s=n(28453);const o={},a="SharePoint",c={},l=[{value:"Configure Audit Log Trimming",id:"configure-audit-log-trimming",level:2},{value:"Configure Events Auditing Settings",id:"configure-events-auditing-settings",level:2},{value:"Enable SharePoint Administration Service",id:"enable-sharepoint-administration-service",level:2},{value:"SharePoint objects",id:"sharepoint-objects",level:2},{value:"Means Granted",id:"means-granted",level:3}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"sharepoint",children:"SharePoint"})}),"\n",(0,r.jsx)(i.p,{children:"Netwrix Auditor relies on native logs for collecting audit data. Therefore, successful change and access auditing requires a certain configuration of native audit settings in the audited environment and on the Auditor console computer. Configuring your IT infrastructure may also include enabling certain built-in Windows services, etc. Proper audit configuration is required to ensure audit data integrity, otherwise your change reports may contain warnings, errors or incomplete audit data."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"CAUTION:"})," Folder associated with Netwrix Auditor must be excluded from antivirus scanning. See the ",(0,r.jsx)(i.a,{href:"https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000HirCAE.html",children:"Antivirus Exclusions for Netwrix Auditor"})," knowledge base article for additional information."]}),"\n",(0,r.jsx)(i.p,{children:"You can configure your\xa0IT Infrastructure for monitoring in one of the following ways:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Automatically through a monitoring plan \u2013 This is a recommended method. If you select to automatically configure audit in the target environment, your current audit settings will be checked on each data collection and adjusted if necessary."}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"In this case, Auditor will enable automatic audit log trimming for all monitored site collections; log retention period will be set to 7 days. Also, consider that after a site collection is processed, Auditor will automatically delete the events older than 1 day from its audit log."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Manually \u2013 Native audit settings must be adjusted manually to ensure collecting comprehensive and reliable audit data. You can enable Auditor to continually enforce the relevant audit policies or configure them manually:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#Configure-Audit-Log-Trimming",children:"Configure Audit Log Trimming"})," on your SharePoint farm."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#Configure-Events-Auditing-Settings",children:"Configure Events Auditing Settings"})," on your SharePoint farm."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"#Enable-SharePoint-Administration-Service",children:"Enable SharePoint Administration Service"})," on the computer where SharePoint Central Administration is installed and where you intend to deploy Netwrix Auditor for SharePoint Core Service."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configure-audit-log-trimming",children:"Configure Audit Log Trimming"}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to configure Audit Log Trimming on your SharePoint farm."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 1 \u2013"})," Log in as an administrator to the audited SharePoint site collection."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 2 \u2013"})," In the upper-left of your site collection, go to ",(0,r.jsx)(i.strong,{children:"Site Actions"})," > ",(0,r.jsx)(i.strong,{children:"Site Settings"})," and\xa0select one of the following:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"SharePoint 2010"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2013"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2016"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2019"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint Subscription Edition"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 3 \u2013"})," Under the Site Collection Administration section, select Site collection audit settings."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 4 \u2013"})," In the Audit Log Trimming section, do the following:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:'Set "Automatically trim the audit log for this site" to "Yes".'}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:'In "Specify the number of days of audit log data to retain" set "retention" to 7 days.'}),"\n",(0,r.jsx)(i.p,{children:"You may keep the existing audit log retention provided that it is set to 7 days or less."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configure-events-auditing-settings",children:"Configure Events Auditing Settings"}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to configure event auditing settings."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 1 \u2013"})," Log in as an administrator to the audited SharePoint site collection."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 2 \u2013"})," In the upper-left of your site collection, go to ",(0,r.jsx)(i.strong,{children:"Site Actions"})," > ",(0,r.jsx)(i.strong,{children:"Site Settings"})," and\xa0select one of the following:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"SharePoint 2010"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2013"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2016"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint 2019"}),"\n",(0,r.jsx)(i.li,{children:"SharePoint Subscription Edition"}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 3 \u2013"})," Under the Site Collection Administration section, select Site collection audit settings."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 4 \u2013"}),' In the "List, Libraries, and Sites" section, select Editing users and permissions.']}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"NOTE:"})," Enable Opening or downloading documents, viewing items in lists, or viewing item properties for read access auditing."]}),"\n",(0,r.jsxs)(i.p,{children:["If you are using SharePoint 2019 or SharePoint Subscription Edition, it is recommended to adjust audit settings automatically with Auditor to enable this option. See the ",(0,r.jsx)(i.a,{href:"/docs/auditor/auditor/admin/monitoringplans/create",children:"Create a New Monitoring Plan"})," topic for additional information."]}),"\n",(0,r.jsx)(i.h2,{id:"enable-sharepoint-administration-service",children:"Enable SharePoint Administration Service"}),"\n",(0,r.jsxs)(i.p,{children:["This service is must be started to ensure the Netwrix Auditor for SharePoint Core Service successful installation. Perform the procedure below, prior to the Core Service installation. See the ",(0,r.jsx)(i.a,{href:"/docs/auditor/auditor/install/sharepointcoreservice",children:"Install for SharePoint Core Service"})," topic for additional information."]}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to enable SharePoint Administration Service."}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 1 \u2013"})," On the computer where SharePoint Central Administration is installed and where you intend to deploy Netwrix Auditor for SharePoint Core Service, open the Services Management Console. Navigate to Start > Windows Administrative Tools > Services."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 2 \u2013"})," Locate the SharePoint Administration service (SPAdminV4), right-click it and select Properties."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 3 \u2013"}),' In the General tab, set the Startup type to "Automatic" and click Apply.']}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 4 \u2013"})," Click Start to start the service."]}),"\n",(0,r.jsx)(i.h2,{id:"sharepoint-objects",children:"SharePoint objects"}),"\n",(0,r.jsx)(i.p,{children:"Review a full list of object types and attributes Netwrix Auditor can collect on SharePoint."}),"\n",(0,r.jsx)(i.p,{children:"The attributes marked with * are reported without details, only the fact of change is reported."}),"\n",(0,r.jsx)(i.p,{children:'The changes to object types marked with ** are reported with the "Not applicable" value in the "Who"\xa0and "Workstation" columns.'}),"\n",(0,r.jsx)(i.p,{children:'The changes to object types and attributes marked with *** are reported with the "Not applicable" value in the "Workstation" column.'}),"\n",(0,r.jsx)(i.p,{children:'Read access is reported for documents and lists and displays "Not applicable" in the "Workstation" column.'}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Object type"}),(0,r.jsx)(i.th,{children:"Attributes"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Group***"}),(0,r.jsx)(i.td,{children:"- Membership"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Permission Level***"}),(0,r.jsx)(i.td,{children:"- Permissions"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Site"}),(0,r.jsx)(i.td,{children:"- Site URL  - Permissions*** - Permission Inheritance***"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"List"}),(0,r.jsx)(i.td,{children:"- Permissions*** - Permission Inheritance***"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"List Item"}),(0,r.jsx)(i.td,{children:"- Attachments  - Permissions*** - Permission Inheritance*** - List Item Properties*"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Document"}),(0,r.jsx)(i.td,{children:"- Document URL  - Permissions*** - Permission Inheritance*** - Document Properties* - Content Modifications*"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Farm**"}),(0,r.jsxs)(i.td,{children:['- Configuration Database - Configuration Database Server - Version - Managed Account for "Web Application Pool - ',(0,r.jsx)(i.code,{children:"{name}"}),'" - Managed Account for "Service Application Pool - ',(0,r.jsx)(i.code,{children:"{name}"}),'" - Managed Account for "Windows Service - ',(0,r.jsx)(i.code,{children:"{name}"}),'" - Managed Account for "Farm Account" - Managed Accounts']})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Web Application **"}),(0,r.jsx)(i.td,{children:"- Web Application URL - Name - Port - User Permissions - Alternate Access Mappings - Content Database - Blocked File Extensions"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Site Collection**"}),(0,r.jsx)(i.td,{children:"- Site Collection URL - Content Database - Content Database Server - Site Storage Maximum Limit - Site Storage Warning Limit - Sandboxed Solutions Resource Maximum Quota - Sandboxed Solutions Resource Warning Quota - Quota Template - Lock Status"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Server**"}),(0,r.jsx)(i.td,{children:"- Name"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Service**"}),(0,r.jsx)(i.td,{children:"- Name - Status"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Permission Policy Level**"}),(0,r.jsx)(i.td,{children:"- Name - Grant Permissions - Deny Permissions - Site Collection Permissions"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"User Policy**"}),(0,r.jsx)(i.td,{children:"- Display Name - Permissions"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Anonymous Policy**"}),(0,r.jsx)(i.td,{children:"- Zone - Permissions"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Farm Solution**"}),(0,r.jsx)(i.td,{children:"- Name - Status - Last Operation Time"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Farm Feature**"}),(0,r.jsx)(i.td,{children:"- Name - Status"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:"To collect State-in-Time data from a SharePoint farm, the following is required:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["for site collection processing \u2013 lock status must differ from ",(0,r.jsx)(i.em,{children:"No access"})," for Netwrix Auditor service account"]}),"\n",(0,r.jsxs)(i.li,{children:["for web application processing \u2013 the following permissions must be assigned to Netwrix Auditor service account:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Open items"}),"\n",(0,r.jsx)(i.li,{children:"View items"}),"\n",(0,r.jsx)(i.li,{children:"Browse directories"}),"\n",(0,r.jsx)(i.li,{children:"View pages"}),"\n",(0,r.jsx)(i.li,{children:"Browse user information"}),"\n",(0,r.jsx)(i.li,{children:"Open"}),"\n",(0,r.jsx)(i.li,{children:"Enumerate permissions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"Also, state-in-time data collection is supported for SharePoint farm."}),"\n",(0,r.jsx)(i.h3,{id:"means-granted",children:"Means Granted"}),"\n",(0,r.jsx)(i.p,{children:"The Means granted column in the Account Permissions in SharePoint and SharePoint Object Permissions State-in-Time reports list detailed permissions and permission levels by user account."}),"\n",(0,r.jsx)(i.p,{children:"Review the following for additional information:"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Means granted"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Permission level"}),(0,r.jsxs)(i.td,{children:["Default permission levels are predefined sets of permissions that you can assign to individual users, groups of users, or security groups, based on their functional requirements and on security considerations.  SharePoint Server permission levels are defined at the site collection level; by default, they are inherited from the parent object.  For more information on SharePoint permissions and permission levels read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/sites/user-permissions-and-permission-levels",children:"User permissions and permission levels in SharePoint Server"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Zone: Default (policy)  Zone: Intranet (policy)  Zone: Internet (policy)  Zone: Custom (policy)  Zone: Extranet (policy)"}),(0,r.jsxs)(i.td,{children:["Zone  If you want to expose the same content in a web application to different types of users by using additional URLs or authentication methods, you can extend an existing web application into a new zone. When you extend the web application into a new zone, you create a separate Internet Information Services (IIS) web site to serve the same content, but with a unique URL and authentication type.  For more information on SharePoint zones read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/sharepoint/administration/extend-a-claims-based-web-application",children:"Extend claims-based web applications in SharePoint"}),(0,r.jsx)(i.a,{href:"https://social.technet.microsoft.com/wiki/contents/articles/38031.sharepoint-2016-extend-a-web-application.aspx",children:"\xa0"}),".  Policies  Web application policies represent a concept that allows SharePoint administrators to grant or deny permissions to users and groups for sites under a web application. These granted or denied permissions take preference over the permissions set for the sites in the web application.  For more information on SharePoint web application policies read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/administration/manage-permissions-for-a-web-application",children:"Manage permissions for a web application in SharePoint Server"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Site collection administrator"}),(0,r.jsxs)(i.td,{children:["The ",(0,r.jsx)(i.em,{children:"SharePoint site collection administrator"})," is a permission type that overrides Full Control permission. It cannot be locked out of any subsite, list, library, item, or page on the site. The permissions inheritance for any of these elements can be broken at any time, and permissions can be changed so that even users with Full Control will have lesser permissions or even no permissions at all. In all cases the SharePoint site collection administrator will always have full access to all elements and all data.  For more information, read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/sites/change-site-collection-administrators",children:"Change site collection administrators in SharePoint Server"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Site Collection lock status"}),(0,r.jsxs)(i.td,{children:["Lock statuses apply to a site collection and are used to control the actions allowed on site collection.  For more information on lock statuses, read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/sites/manage-the-lock-status-for-site-collections",children:"Manage the lock status for site collections in SharePoint Server"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Web application user permissions"}),(0,r.jsxs)(i.td,{children:["Sites and site collections have a variety of permissions that can be set, such as adding or editing list items or documents. These permissions are normally given to a user by assigning a particular permission level, such as ",(0,r.jsx)(i.em,{children:"Full Control"}),", ",(0,r.jsx)(i.em,{children:"Contribute"}),", or ",(0,r.jsx)(i.em,{children:"View Only"}),". Each individual permission can be enabled or disabled for entire web application.  For more information on web application user permissions, read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/administration/manage-permissions-for-a-web-application",children:"Manage permissions for a web application in SharePoint Server"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Farm account"}),(0,r.jsxs)(i.td,{children:["Farm account is a service account used to run the Central Administration web site application pool. It has ",(0,r.jsx)(i.em,{children:"dbo"})," access to the configuration database.  For more information on SharePoint service accounts, read the following Microsoft articles:   - ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/security-for-sharepoint-server/plan-for-administrative-and-service-accounts",children:"Plan for administrative and service accounts in SharePoint Server"})," - ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/install/account-permissions-and-security-settings-in-sharepoint-server-2016",children:"Account permissions and security settings in SharePoint Servers 2016 and 2019 Public Preview"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Service account for web application pool"}),(0,r.jsxs)(i.td,{children:["Service account for web application pool is used for internal purposes across a SharePoint farm, except for Central administration.  For more information on application pool account, read the following Microsoft article: ",(0,r.jsx)(i.a,{href:"https://docs.microsoft.com/en-us/sharepoint/install/account-permissions-and-security-settings-in-sharepoint-server-2016#application-pool-account",children:"Application pool account"}),"."]})]})]})]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);