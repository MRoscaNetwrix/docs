"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[631676],{28453:(e,i,t)=>{t.d(i,{R:()=>s,x:()=>l});var n=t(296540);const a={},o=n.createContext(a);function s(e){const i=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(o.Provider,{value:i},e.children)}},260006:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/policypak_application_settings_1_20-457e3838bbc84f1441a509a2068285c5.webp"},506090:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/policypak_application_settings_1_24-680fa633d853d8eeb4ebcab620aa5d8a.webp"},729761:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/policypak_application_settings_1_21-4ba4fea7adab7b2adf581b0ae91c8faa.webp"},795236:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/policypak_application_settings_1_22-b55484f71720a5ec2466ae2969136ba0.webp"},859271:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/policypak_application_settings_1_23-632f95e1bb01e81df8410c83c877d7bb.webp"},963325:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>r});const n=JSON.parse('{"id":"policypak/applicationsettings/modes/settingsdeliveryreinforcementoptions","title":"Settings Delivery and Reinforcement Options","description":"When the client is online and able to make contact with a domain controller, Endpoint Policy Manager Application Settings Manager will automatically utilize the Group Policy background refresh cycle and ensure that any changed settings are reapplied and up to date (if changed by a user). Additionally, users can manually run the built-in Windows command `gpupdate.exe` to kick off a background refresh and get updated settings. But what happens if the client is offline?","source":"@site/docs/policypak/policypak/applicationsettings/modes/settingsdeliveryreinforcementoptions.md","sourceDirName":"policypak/applicationsettings/modes","slug":"/policypak/applicationsettings/modes/settingsdeliveryreinforcementoptions","permalink":"/docs/policypak/policypak/applicationsettings/modes/settingsdeliveryreinforcementoptions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/applicationsettings/modes/settingsdeliveryreinforcementoptions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"Reversion Mode","permalink":"/docs/policypak/policypak/applicationsettings/modes/reversion"},"next":{"title":"Switched Mode","permalink":"/docs/policypak/policypak/applicationsettings/modes/switched"}}');var a=t(474848),o=t(28453);const s={},l="Settings Delivery and Reinforcement Options",c={},r=[{value:"Manual Reapplication of Settings with PPupdate",id:"manual-reapplication-of-settings-with-ppupdate",level:2},{value:"Automatic Reapplication of Settings at Application Launch",id:"automatic-reapplication-of-settings-at-application-launch",level:2},{value:"Automatic Reapplication of Settings with the Reinforcement Timer",id:"automatic-reapplication-of-settings-with-the-reinforcement-timer",level:2}];function p(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"settings-delivery-and-reinforcement-options",children:"Settings Delivery and Reinforcement Options"})}),"\n",(0,a.jsxs)(i.p,{children:["When the client is online and able to make contact with a domain controller, Endpoint Policy Manager Application Settings Manager will automatically utilize the Group Policy background refresh cycle and ensure that any changed settings are reapplied and up to date (if changed by a user). Additionally, users can manually run the built-in Windows command ",(0,a.jsx)(i.code,{children:"gpupdate.exe"})," to kick off a background refresh and get updated settings. But what happens if the client is offline?"]}),"\n",(0,a.jsxs)(i.p,{children:["As seen in Figure 41, a client machine can detect that there is no network connectivity. With no network connectivity, Microsoft's built-in ",(0,a.jsx)(i.code,{children:"gpupdate.exe "}),"will fail when it is run."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"policypak_application_settings_1_20",src:t(260006).A+"",width:"1095",height:"695"})}),"\n",(0,a.jsxs)(i.p,{children:["Figure 41. The error message that is received when ",(0,a.jsx)(i.code,{children:"gpupdate.exe"})," is run while the client machine is offline."]}),"\n",(0,a.jsx)(i.p,{children:"Because the network is disconnected, no updates can come from the server."}),"\n",(0,a.jsx)(i.p,{children:"Additionally, Endpoint Policy Manager Application Settings Manager cannot use AppLock\u2122 for every setting for every application. That is, Endpoint Policy Manager Application Settings Manager cannot gray out or remove the UI from every application."}),"\n",(0,a.jsx)(i.p,{children:"In these cases, Endpoint Policy Manager Application Settings Manager will do the next best thing: it will continually reapply your desired configuration settings to the User and Computer\u2014regardless of whether the computer is online or offline."}),"\n",(0,a.jsx)(i.p,{children:"Endpoint Policy Manager Application Settings Manager will reapply an application's settings manually when"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["the computer is online and the Microsoft ",(0,a.jsx)(i.code,{children:"GPupdate "}),"command is run and"]}),"\n",(0,a.jsxs)(i.li,{children:["the computer is online or offline and the Endpoint Policy Manager ",(0,a.jsx)(i.code,{children:"ppupdate"})," command is run."]}),"\n"]}),"\n",(0,a.jsx)(i.p,{children:"It will reapply automatically when"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"the user logs out and logs back in,"}),"\n",(0,a.jsx)(i.li,{children:"Group Policy refreshes and reapplies in the background,"}),"\n",(0,a.jsx)(i.li,{children:"the application is re-launched, and"}),"\n",(0,a.jsx)(i.li,{children:"the Reinforcement Timer kicks in (it must be turned on)."}),"\n"]}),"\n",(0,a.jsxs)(i.p,{children:["Let's explore the manual command ",(0,a.jsx)(i.code,{children:"ppupdate"})," and the various automatic ways that Endpoint Policy Manager Application Settings Manager will reenforce application settings."]}),"\n",(0,a.jsx)(i.h2,{id:"manual-reapplication-of-settings-with-ppupdate",children:"Manual Reapplication of Settings with PPupdate"}),"\n",(0,a.jsxs)(i.p,{children:["Whether the computer is online or offline, PolicyPak Application Settings Manager can manually reapply settings using",(0,a.jsx)(i.code,{children:" ppupdate.exe"}),". In Figure 42, you can see ",(0,a.jsx)(i.code,{children:"ppupdate.exe"})," being run to reinforce any changed settings."]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"policypak_application_settings_1_21",src:t(729761).A+"",width:"676",height:"184"})}),"\n",(0,a.jsxs)(i.p,{children:["Figure 42. ",(0,a.jsx)(i.code,{children:"Ppupdate.exe"})," being run."]}),"\n",(0,a.jsxs)(i.p,{children:['This command will work when the computer is online or offline, if the settings that are locally cached on the machine are reapplied, or if you use a non-Group Policy method (where XML data files are used) (see section, "Deploying Endpoint Policy Manager Directives without Group Policy," in Appendix A: Using Endpoint Policy Manager with MDM and UEM Tools). The Endpoint Policy Manager Application Settings Manager ',(0,a.jsx)(i.code,{children:"ppupdate"})," command never uses the network to retrieve settings, so network connectivity is not needed to run this command."]}),"\n",(0,a.jsx)(i.h2,{id:"automatic-reapplication-of-settings-at-application-launch",children:"Automatic Reapplication of Settings at Application Launch"}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:"NOTE:"})," For a demonstration of this feature, please see this video: ",(0,a.jsx)(i.a,{href:"/docs/policypak/policypak/video/applicationsettings/superpowers",children:"The Superpowers"}),"."]}),"\n",(0,a.jsx)(i.p,{children:"When an application is run, its settings are automatically reapplied before the application is launched. This feature is turned on for all AppSets by default."}),"\n",(0,a.jsx)(i.p,{children:"If you do not want a particular AppSet's settings to apply automatically when the application is relaunched, it can be disabled when you set up the directives inside the GPMC."}),"\n",(0,a.jsx)(i.p,{children:'Inside the AppSet definition, find the Options button and deselect "Always re-apply settings when application runs." As you can see in Figure 43, all applications are checked by default. You can uncheck the checkbox to stop the reapplication.'}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"policypak_application_settings_1_22",src:t(795236).A+"",width:"614",height:"430"})}),"\n",(0,a.jsx)(i.p,{children:'Figure 43. Select or unselect the "Always re-apply settings when application runs" setting in the Options inside the Pak definition.'}),"\n",(0,a.jsxs)(i.p,{children:["Remember that the applications' settings will still reapply during periodic Group Policy background processing, or if you manually run ",(0,a.jsx)(i.code,{children:"GPupdate "}),"and have that setting enabled."]}),"\n",(0,a.jsxs)(i.p,{children:["The reapplication is provided by a kernel-mode driver, which is actively looking for applications that Endpoint Policy Manager Application Settings Manager is managing. If you wish to fully disable the kernel-mode driver (and, hence, the automatic reapplication of settings), you need to manually configure a Registry setting on the client at ",(0,a.jsx)(i.code,{children:"HKLM\\Software\\PolicyPak\\Config\\Driver"}),", and then set Enabled (REG_DWORD) to 0. This is demonstrated in Figure 44."]}),"\n",(0,a.jsx)(i.p,{children:"Note that you also should either reboot the machine to disable or re-enable the driver."}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"policypak_application_settings_1_23",src:t(859271).A+"",width:"661",height:"800"})}),"\n",(0,a.jsx)(i.p,{children:"Figure 44. Use the following Registry location to fully disable the Endpoint Policy Manager driver, which performs reapplication of settings for applications."}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:"NOTE:"}),"  Log files for the automatic reapplication of settings at launch are found in",(0,a.jsx)(i.code,{children:" %appdata%\\local\\PolicyPak"})," in a file called ppUser_onLaunch.log."]}),"\n",(0,a.jsx)(i.h2,{id:"automatic-reapplication-of-settings-with-the-reinforcement-timer",children:"Automatic Reapplication of Settings with the Reinforcement Timer"}),"\n",(0,a.jsxs)(i.p,{children:["As previously stated, when the client is online and able to make contact with a domain controller, Endpoint Policy Manager Application Settings Manager will automatically utilize the Group Policy background refresh cycle and ensure that any changed settings are reapplied as well as up to date (if changed by a user). And, a user can manually run ",(0,a.jsx)(i.code,{children:"ppupdate.exe"})," for reapplication of settings when online or offline. Also, when the application is next run, the default behavior is set to have Endpoint Policy Manager Application Settings Manager reapply the application's settings."]}),"\n",(0,a.jsxs)(i.p,{children:["Endpoint Policy Manager Application Settings Manager has an optional switch, which must be manually turned on in the client's Registry, that will reapply applications' settings based on a timer. In essence, this runs ",(0,a.jsx)(i.code,{children:"ppupdate"})," on a prescribed timeline. You might want to use this feature if the app is run infrequently or if you suspect that another application is modifying the application's settings."]}),"\n",(0,a.jsxs)(i.p,{children:["Again, the reinforcement timer is not enabled by default on the target machine. If you want to turn it on, edit ",(0,a.jsx)(i.code,{children:"HKLM\\Software\\PolicyPak\\Config\\Scheduler"})," for everyone on the whole computer or ",(0,a.jsx)(i.code,{children:"HKCU\\Software\\PolicyPak\\Config\\Scheduler"})," for a specific user on the machine and set ReapplyPeriod (as a REG_DWORD) to the desired interval in seconds. The allowed range is 30 seconds to 24 hours (86400 seconds). If you'd like to utilize the feature, the recommended reinforcement time is 30 minutes (1800 seconds) to 60 minutes (3600 seconds)."]}),"\n",(0,a.jsx)(i.p,{children:'However, note that if you enable the "Do not re-apply settings with Reinforcement Timer," as seen in Figure 45 (which is at the AppSet level), then the specific AppSet will NOT be reapplied when the timer is supposed to apply it. In short, by setting this option, you bypass reapplication of the settings even when the enforcement timer is set.'}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"policypak_application_settings_1_24",src:t(506090).A+"",width:"618",height:"438"})}),"\n",(0,a.jsx)(i.p,{children:'Figure 45. Enabling the "Do not re-apply settings with Reinforcement Timer" setting.'}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:"NOTE:"}),'  Log files for the "Automatic reapplication of settings using the timer" can be found in',(0,a.jsx)(i.code,{children:" %appdata%\\local\\PolicyPak"})," in a file called ppUser_onSchedule.log."]})]})}function d(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);