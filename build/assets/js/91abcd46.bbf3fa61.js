"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[230975],{28453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>n});var t=r(296540);const o={},a=t.createContext(o);function i(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function n(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(a.Provider,{value:s},e.children)}},187545:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/optionsweakpassword-3e916cf126226846c75e910dca965465.webp"},598776:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>n,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"enterpriseauditor/solutions/activedirectory/users/ad_weakpasswords","title":"AD\\\\_WeakPasswords Job","description":"The AD\\\\_WeakPasswords Job analyzes user account password hashes to determine how easily each could be compromised or the likelihood their passwords are known through comparison with compromised password dictionaries and other exceptions. Exceptions include:","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/ad_weakpasswords.md","sourceDirName":"enterpriseauditor/solutions/activedirectory/users","slug":"/enterpriseauditor/solutions/activedirectory/users/ad_weakpasswords","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/ad_weakpasswords","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/ad_weakpasswords.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"AD\\\\_UserToken Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/ad_usertoken"},"next":{"title":"2.Users Job Group","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/users/overview"}}');var o=r(474848),a=r(28453);const i={},n="AD_WeakPasswords Job",d={},c=[{value:"Queries for the AD_WeakPasswords Job",id:"queries-for-the-ad_weakpasswords-job",level:2},{value:"Configure the Weak Passwords Query",id:"configure-the-weak-passwords-query",level:3},{value:"Analysis Tasks for the AD_WeakPasswords Job",id:"analysis-tasks-for-the-ad_weakpasswords-job",level:2}];function l(e){const s={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"ad_weakpasswords-job",children:"AD_WeakPasswords Job"})}),"\n",(0,o.jsx)(s.p,{children:"The AD_WeakPasswords Job analyzes user account password hashes to determine how easily each could be compromised or the likelihood their passwords are known through comparison with compromised password dictionaries and other exceptions. Exceptions include:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"AES Key Missing \u2013 Account is set up using older functional AD levels, so has no AES key. These accounts use weaker encryption methods susceptible to brute force attacks."}),"\n",(0,o.jsxs)(s.li,{children:["Clear Text Password \u2013 Account has passwords stored with reversible encryption. See the Microsoft ",(0,o.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh994559(v=ws.11)",children:"Store passwords using reversible encryption"})," article for additional information."]}),"\n",(0,o.jsx)(s.li,{children:"Default Computer Password \u2013 Computer has default computer passwords set"}),"\n",(0,o.jsx)(s.li,{children:"Delegable Admins \u2013 Administrator account is allowed to be delegated to a service"}),"\n",(0,o.jsxs)(s.li,{children:["DES Encryption Only \u2013 Account is using Kerberos DES encryption. DES encryption is considered weak as the 56-bit key is prone to brute force attacks. See the Microsoft ",(0,o.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ff646918(v=ws.10)",children:"AD DS: User accounts and trusts in this domain should not be configured for DES only"})," article for additional information."]}),"\n",(0,o.jsx)(s.li,{children:"Empty Password \u2013 Account has an empty password"}),"\n",(0,o.jsxs)(s.li,{children:["Kerberos Pre-authentication is not required \u2013 Account does not require Kerberos pre-authentication. Kerberos pre-authentication can mitigate against brute force attacks. See the Microsoft ",(0,o.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/archive/technet-wiki/23559.kerberos-pre-authentication-why-it-should-not-be-disabled",children:"Kerberos Pre-Authentication: Why It Should Not Be Disabled"})," article for additional information."]}),"\n",(0,o.jsxs)(s.li,{children:["LM Hash \u2013 Account has stored LM hashes. The LM hash is a relatively weak hash that is prone to brute force attacks. See the Microsoft ",(0,o.jsx)(s.a,{href:"https://learn.microsoft.com/en-US/troubleshoot/windows-server/windows-security/prevent-windows-store-lm-hash-password",children:"How to prevent Windows from storing a LAN manager hash of your password in Active Directory and local SAM databases"})," article for additional information."]}),"\n",(0,o.jsx)(s.li,{children:"Password Never Expires \u2013 Account has a password that never expires"}),"\n",(0,o.jsx)(s.li,{children:"Password Not Required \u2013 Account does not require a password"}),"\n",(0,o.jsx)(s.li,{children:"Weak Historical Password \u2013 Account has a historical password that was found in the dictionary"}),"\n",(0,o.jsx)(s.li,{children:"Weak Password \u2013 Account has a password that was found in the dictionary"}),"\n",(0,o.jsx)(s.li,{children:"Shares Common Password \u2013 Account shares a password with another account"}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"queries-for-the-ad_weakpasswords-job",children:"Queries for the AD_WeakPasswords Job"}),"\n",(0,o.jsx)(s.p,{children:"The AD_WeakPasswords Job uses the PasswordSecurity Data Collector."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Query for the AD_WeakPasswords Job",src:r(841456).A+"",width:"878",height:"244"})}),"\n",(0,o.jsx)(s.p,{children:"The query for this job are:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsx)(s.p,{children:"Weak Passwords \u2013 Collects password hashes to identify weak passwords"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["See the ",(0,o.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/passwordsecurity/overview",children:"PasswordSecurity Data Collector"})," topic for additional information"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"configure-the-weak-passwords-query",children:"Configure the Weak Passwords Query"}),"\n",(0,o.jsx)(s.p,{children:"The PasswordSecurity Data Collector can be scoped if desired. Follow the steps to modify the query configuration."}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 1 \u2013"})," Navigate to the job\u2019s Configure node and select Queries."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 2 \u2013"})," In the Query Selection view, select the ",(0,o.jsx)(s.strong,{children:"Weak Passwords"})," query and click__Query Properties__. The Query Properties window opens."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 3 \u2013"})," Select the Data Source tab, and click ",(0,o.jsx)(s.strong,{children:"Configure"}),". The Password Security Data Collector Wizard opens."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Password Security Data Collection Wizard Scan options page",src:r(187545).A+"",width:"746",height:"578"})}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"CAUTION:"})," Read the warning prior to enabling the cleartext password feature."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 4 \u2013"})," On the Options page, configure the scan options by enabling communication with the Active Directory via SSL or returning cleartext password entries."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Password Security Data Collection Wizard Dictionary options page",src:r(630155).A+"",width:"746",height:"578"})}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 5 \u2013"})," On the Dictionaries page, configure the dictionary options by enabling the Netwrix weak password dictionary or click ",(0,o.jsx)(s.strong,{children:"Add\u2026"})," to upload a custom dictionary with NTLM hashes or plaintext passwords to use during the scan."]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["See the ",(0,o.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/passwordsecurity/dictionaries",children:"PasswordSecurity:\xa0Dictionaries"})," topic for additional information"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Step 6 \u2013"})," Navigate to the Summary page, click ",(0,o.jsx)(s.strong,{children:"Finish"})," to save any setting modifications or click ",(0,o.jsx)(s.strong,{children:"Cancel"})," if no changes were made. Then click ",(0,o.jsx)(s.strong,{children:"OK"})," to close the Query Properties window."]}),"\n",(0,o.jsx)(s.p,{children:"The Weak Passwords query is now configured."}),"\n",(0,o.jsx)(s.h2,{id:"analysis-tasks-for-the-ad_weakpasswords-job",children:"Analysis Tasks for the AD_WeakPasswords Job"}),"\n",(0,o.jsxs)(s.p,{children:["Navigate to the ",(0,o.jsx)(s.strong,{children:"Active Directory"})," > ",(0,o.jsx)(s.strong,{children:"2.Users"})," > ",(0,o.jsx)(s.strong,{children:"AD_WeakPasswords"})," > ",(0,o.jsx)(s.strong,{children:"Configure"})," node and select ",(0,o.jsx)(s.strong,{children:"Analysis"}),"."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"CAUTION:"})," Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Analysis Tasks for the AD_WeakPasswords Job",src:r(734986).A+"",width:"524",height:"238"})}),"\n",(0,o.jsx)(s.p,{children:"The default analysis tasks are:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Count of Shared Passwords \u2013 Creates the SA_AD_WeakPasswords_Count table accessible under the job's Results node"}),"\n",(0,o.jsx)(s.li,{children:"Join Active Directory Stats \u2013 Creates the SA_AD_WeakPasswords_Details table accessible under the job\u2019s Results node"}),"\n",(0,o.jsx)(s.li,{children:"Summarize Password Issues \u2013 Creates the SA_SA_AD_WeakPasswords_Summary table accessible under the job's Results node"}),"\n",(0,o.jsx)(s.li,{children:"Add to AD Exceptions \u2013 Creates the SA_AD_UserDelegation_Details table accessible under the job\u2019s Results node"}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"In addition to the tables and views created by the analysis tasks, the AD_UserDelegation Job produces the following pre-configured report:"}),"\n",(0,o.jsxs)(s.table,{children:[(0,o.jsx)(s.thead,{children:(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.th,{children:"Report"}),(0,o.jsx)(s.th,{children:"Description"}),(0,o.jsx)(s.th,{children:"Default Tags"}),(0,o.jsx)(s.th,{children:"Report Elements"})]})}),(0,o.jsx)(s.tbody,{children:(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"Weak Passwords Checks"}),(0,o.jsx)(s.td,{children:"This job identifies accounts in the organization with weak passwords that can be easily decrypted or brute forced."}),(0,o.jsx)(s.td,{children:"None"}),(0,o.jsx)(s.td,{children:"This report is comprised of three elements:   - Bar Chart \u2013 Displays password weaknesses  - Table \u2013 Provides details on password weaknesses  - Table \u2013 Provides details on exceptions and user counts"})]})})]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},630155:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/dictionariesweakpassword-7fa867b2731915e5a0ae694b11a779fd.webp"},734986:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/weakpasswordsanalysis-8901a3726edc4eb00d48e36d58f9def1.webp"},841456:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/weakpasswordsquery-25b54ef64a4d090fe8abdb2bbbfe23c9.webp"}}]);