"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[667979],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(296540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},238166:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/latpreservationoption-9aa8f9192ea0b16b14f647854e7c9542.webp"},323492:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"enterpriseauditor/requirements/target/config/azurefiles","title":"Azure Files Target Requirements","description":"Azure Files is a fully managed, cloud-based file sharing service from Microsoft that allows users to access file shares from anywhere as a virtual network drive. Access Analyzer uses the File System solution to execute Access Auditing (FSAA) and Sensitive Data Discovery Auditing scans on Azure Files.","source":"@site/docs/accessanalyzer/enterpriseauditor/requirements/target/config/azurefiles.md","sourceDirName":"enterpriseauditor/requirements/target/config","slug":"/enterpriseauditor/requirements/target/config/azurefiles","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/azurefiles","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/requirements/target/config/azurefiles.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Configure AWS for Scans","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/aws"},"next":{"title":"Azure Information Protection Target Requirements","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/azureinformationprotection"}}');var i=s(474848),r=s(28453);const o={},a="Azure Files Target Requirements",c={},l=[{value:"Create Host List",id:"create-host-list",level:2},{value:"Configure Connection Profile",id:"configure-connection-profile",level:2},{value:"Job and Query Configuration",id:"job-and-query-configuration",level:2},{value:"Jobs Targeting Azure Files",id:"jobs-targeting-azure-files",level:3},{value:"Query Configuration Considerations",id:"query-configuration-considerations",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"azure-files-target-requirements",children:"Azure Files Target Requirements"})}),"\n",(0,i.jsx)(n.p,{children:"Azure Files is a fully managed, cloud-based file sharing service from Microsoft that allows users to access file shares from anywhere as a virtual network drive. Access Analyzer uses the File System solution to execute Access Auditing (FSAA) and Sensitive Data Discovery Auditing scans on Azure Files."}),"\n",(0,i.jsx)(n.p,{children:"Before the File System solution can perform scans for Azure Files, the following prerequisites are required both in Access Analyzer and the Azure environments:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#create-host-list",children:"Create Host List"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#configure-connection-profile",children:"Configure Connection Profile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#job-and-query-configuration",children:"Job and Query Configuration"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"create-host-list",children:"Create Host List"}),"\n",(0,i.jsx)(n.p,{children:"A host list containing the desired target Azure hosts must be created and assigned to the collection jobs. You can create the host list with either of the following two methods:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Use the FS_AzureTenantScan instant job to create the host list automatically. See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/filesystem/collection/fs_azuretenantscan",children:"FS_AzureTenantScan Job"})," topic for additional information."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Manually add hosts to a host list in the following format:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"<storageaccountname>.file.core.windows.net"})}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/hostmanagement/actions/add",children:"Add Hosts"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configure-connection-profile",children:"Configure Connection Profile"}),"\n",(0,i.jsx)(n.p,{children:"The Access Analyzer connection profile requires two or more credentials depending on the amount of storage accounts being targeted. It requires an active directory account with rights to run the applet, and credentials for each storage account. These should be configured as follows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Account for running applet"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Select Account type \u2013 Active Directory"}),"\n",(0,i.jsxs)(n.li,{children:["Provide the credentials for an account with the privileges to run the FSAA\xa0applet. See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/scanoptions",children:"File System Scan Options"})," topic for additional information on the required permissions."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Accounts for storage accounts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Select Account Type \u2013 Azure Active Directory"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Storage account name and Connection string in Azure",src:s(611302).A+"",width:"934",height:"632"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Client ID \u2013 The name of the storage account"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For example, if the target is ",(0,i.jsx)(n.code,{children:"files.file.core.windows.net"})," then the Client ID should be ",(0,i.jsx)(n.code,{children:"files"}),". It is not case sensitive."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Key \u2013 Connection string value for access keys on the storage account"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If you are targeting multiple storage accounts, a user credential of this type is required for each storage account."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/connection/overview",children:"Connection"})," topic for additional information."]}),"\n",(0,i.jsx)(n.h2,{id:"job-and-query-configuration",children:"Job and Query Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Azure Files scans require the following configuration of the job and query performing the scan."}),"\n",(0,i.jsx)(n.h3,{id:"jobs-targeting-azure-files",children:"Jobs Targeting Azure Files"}),"\n",(0,i.jsxs)(n.p,{children:["For FSAA and SEEK scans targeting Azure Files storage accounts, you must clear the ",(0,i.jsx)(n.strong,{children:"Skip Hosts that do not respond to PING"})," option in the job properties."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Skip Hosts option on Performance tab of the Job Properties window",src:s(554455).A+"",width:"528",height:"537"})}),"\n",(0,i.jsxs)(n.p,{children:["Right-click on the required scan job in the Jobs tree, and select ",(0,i.jsx)(n.strong,{children:"Properties"})," to open the Job Properties window. Navigate to the Performance tab, and ensure the ",(0,i.jsx)(n.strong,{children:"Skip Hosts that do not respond to PING"})," option is not selected. See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/properties/overview",children:"Job Properties"})," and ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/properties/performance",children:"Performance Tab"})," topics for additional information."]}),"\n",(0,i.jsx)(n.h3,{id:"query-configuration-considerations",children:"Query Configuration Considerations"}),"\n",(0,i.jsx)(n.p,{children:"Last Access Time (LAT) preservation is not supported for Azure Files scans. This option must not be selected in the query for the FSAA\xa0or SEEK scan job."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Last Access Time (LAT) preservation option in FSAA DC wizard",src:s(238166).A+"",width:"737",height:"505"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Last Access Time (LAT) preservation"})," option is located on the Default Scoping Options page of the File System Access Auditor Data Collector Wizard. See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/filesystem/collection/fsaa_system_scans#configure-the-fsaa-file-system-scan-query",children:"Configure the (FSAA) File System Scan Query"})," or ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/filesystem/collection/seek_system_scans#configure-the-seek-file-system-scan-query",children:"Configure the (SEEK) File System Scan Query"})," topic for additional information."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},554455:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/skiphostsoption-55e67712dbfed94b91fd0b1ce36e4b40.webp"},611302:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/accesskeys-4f6e368851f84f73976dd0ce26ca06ac.webp"}}]);