"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[547562],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(296540);const i={},a=r.createContext(i);function t(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(a.Provider,{value:n},e.children)}},32702:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"enterpriseauditor/admin/datacollector/sql/overview","title":"SQL Data Collector","description":"The SQL Data Collector provides information on database configuration, permissions, data extraction, application name of the application responsible for activity events, an IP Address or Host name of the client server, and sensitive data reports. This data collector also provides information on Oracle databases including infrastructure and operations.","source":"@site/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/overview.md","sourceDirName":"enterpriseauditor/admin/datacollector/sql","slug":"/enterpriseauditor/admin/datacollector/sql/overview","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"SQL:\xa0Options","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/options"},"next":{"title":"SQL:\xa0Results","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/results"}}');var i=s(474848),a=s(28453);const t={},o="SQL Data Collector",l={},c=[{value:"SQL Query Configuration",id:"sql-query-configuration",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"sql-data-collector",children:"SQL Data Collector"})}),"\n",(0,i.jsx)(n.p,{children:"The SQL Data Collector provides information on database configuration, permissions, data extraction, application name of the application responsible for activity events, an IP Address or Host name of the client server, and sensitive data reports. This data collector also provides information on Oracle databases including infrastructure and operations."}),"\n",(0,i.jsx)(n.p,{children:"The SQL Data Collector has been preconfigured within the Database data collection jobs for Db2, MySQL, Oracle,\xa0PostgreSQL, Redshift, and SQL\xa0Server databases. Both this data collector and the Database Solution are available with a special Access Analyzer license. See the following topics for additional information:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/db2/overview",children:"Db2 Solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/mysql/overview",children:"MySQL Solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/postgresql/overview",children:"PostgreSQL Solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/oracle/overview",children:"Oracle Solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/redshift/overview",children:"Redshift Solution"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/overview",children:"SQL Job Group"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Protocols"}),"\n",(0,i.jsx)(n.p,{children:"TCP"}),"\n",(0,i.jsx)(n.p,{children:"Ports"}),"\n",(0,i.jsx)(n.p,{children:"For Db2:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specified by Instances table (default is 5000)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For MySQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specified by Instances table (default is 3306)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Oracle:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specified by Instances table (default is 1521)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For PostgreSQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specified by Instances table (default is 5432)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For SQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specified by Instances table (default is 1433)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Permissions"}),"\n",(0,i.jsx)(n.p,{children:"For MySQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read access to MySQL\xa0instance to include all databases contained within each instance"}),"\n",(0,i.jsx)(n.li,{children:"Windows Only \u2014 Domain Admin or Local Admin privilege"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Oracle:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"User with SYSDBA role"}),"\n",(0,i.jsx)(n.li,{children:"Local Administrator on the target servers \u2013 Only applies to Windows Servers and not on Linux or Unix operating systems"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For PostgreSQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read access to all the databases in PostgreSQL cluster or instance"}),"\n",(0,i.jsx)(n.li,{children:"Windows Only \u2014 Domain Admin or Local Admin privilege"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Redshift:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Read-access to the following tables:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"pg_tables"}),"\n",(0,i.jsx)(n.li,{children:"pg_user"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For SQL:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For Instance Discovery, local rights on the target SQL Servers:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Local group membership to Remote Management Users"}),"\n",(0,i.jsxs)(n.li,{children:["Permissions on the following WMI NameSpaces: ",(0,i.jsx)(n.code,{children:"root\\Microsoft\\SQLServer, root\\interop"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For permissions for data collection:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read access to SQL instance"}),"\n",(0,i.jsxs)(n.li,{children:["Requires SQL Full-Text and Semantic Extractions for Search feature to be installed on the target SQL instance(s) when using the ",(0,i.jsx)(n.strong,{children:"Scan full rows for sensitive data"})," option on the Options wizard page"]}),"\n",(0,i.jsx)(n.li,{children:"Grant Authenticate Server to [DOMAIN\\USER]"}),"\n",(0,i.jsx)(n.li,{children:"Grant Connect SQL to [DOMAIN\\USER]"}),"\n",(0,i.jsx)(n.li,{children:"Grant View any database to [DOMAIN\\USER]"}),"\n",(0,i.jsx)(n.li,{children:"Grant View any definition to [DOMAIN\\USER]"}),"\n",(0,i.jsx)(n.li,{children:"Grant View server state to [DOMAIN\\USER]"}),"\n",(0,i.jsx)(n.li,{children:"Grant Control Server to [DOMAIN\\USER] (specifically required for the Weak Passwords Job)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/azuresqlaccess",children:"Azure SQL Auditing Configuration"})," topic and the ",(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/databaseazuresql",children:"AzureSQL Target Least Privilege Model"})," topic for additional information."]}),"\n",(0,i.jsx)(n.p,{children:"Sensitive Data Discovery Considerations"}),"\n",(0,i.jsx)(n.p,{children:"If running Sensitive Data Discovery (SDD) scans, it will be necessary to increase the minimum amount of RAM. Each thread requires a minimum of 2 additional GB of RAM per host. For example, if the job is configured to scan 8 hosts at a time , then an extra 16 GB of RAM are required (8x2=16)."}),"\n",(0,i.jsx)(n.h2,{id:"sql-query-configuration",children:"SQL Query Configuration"}),"\n",(0,i.jsx)(n.p,{children:"The SQL Data Collector is configured through the SQL Data Collector Wizard. The wizard contains the following pages, which change based upon the query category selected:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE:"})," The SQL\xa0Data Collector is used in multiple Access Analyzer\xa0Solutions, and the query categories used are dependent on the solution."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/category",children:"SQL:\xa0Category"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/options",children:"SQL:\xa0Options"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/criteria",children:"SQL:\xa0Criteria"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/filter",children:"SQL:\xa0Filter"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/settings",children:"SQL:\xa0Settings"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/customquerysql",children:"SQL:\xa0Custom SQL Query"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/customqueryoracle",children:"SQL:\xa0Custom Oracle Query"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/results",children:"SQL:\xa0Results"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/rowkey",children:"SQL:\xa0Rowkey"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/summary",children:"SQL:\xa0Summary"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);