"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[799986],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>s});var n=i(296540);const r={},a=n.createContext(r);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:t},e.children)}},350354:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/diagram_thumb_0_0-d0c0ac9e9bcec5a62ddc021b4855dfda.webp"},590669:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"auditor/addon/nutanixahv/overview","title":"Nutanix AHV","description":"Netwrix Auditor is a visibility platform for user behavior analysis and risk mitigation that enables control over changes, configurations and access in hybrid IT environments to protect data regardless of its location. The platform provides security analytics to detect anomalies in user behavior and investigate threat patterns before a data breach occurs.","source":"@site/docs/auditor/auditor/addon/nutanixahv/overview.md","sourceDirName":"auditor/addon/nutanixahv","slug":"/auditor/addon/nutanixahv/overview","permalink":"/docs/auditor/auditor/addon/nutanixahv/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/addon/nutanixahv/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Monitoring Scope","permalink":"/docs/auditor/auditor/addon/nutanixahv/monitoredevents"},"next":{"title":"Maintenance and Troubleshooting","permalink":"/docs/auditor/auditor/addon/nutanixahv/troubleshooting"}}');var r=i(474848),a=i(28453);const o={},s="Nutanix AHV",d={},l=[{value:"How it works",id:"how-it-works",level:2},{value:"Add-on Delivery Package",id:"add-on-delivery-package",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Accounts and rights",id:"accounts-and-rights",level:3},{value:"Considerations and limitations",id:"considerations-and-limitations",level:3},{value:"Upgrade Path",id:"upgrade-path",level:3},{value:"Compatibility notice",id:"compatibility-notice",level:2}];function c(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"nutanix-ahv",children:"Nutanix AHV"})}),"\n",(0,r.jsx)(t.p,{children:"Netwrix Auditor is a visibility platform for user behavior analysis and risk mitigation that enables control over changes, configurations and access in hybrid IT environments to protect data regardless of its location. The platform provides security analytics to detect anomalies in user behavior and investigate threat patterns before a data breach occurs."}),"\n",(0,r.jsx)(t.p,{children:"Nutanix AHV is a virtualization platform within the Nutanix Enterprise Cloud architecture. It provides facilities for VM deployment, operation and centralized management. Nutanix AHV is a fully integrated component of the Nutanix Enterprise Cloud."}),"\n",(0,r.jsx)(t.p,{children:"Virtualization teams, Managed Service Providers and other IT professionals need to detect who does what in the Nutanix Hyperconverged infrastructure. For that, a unified audit trail is required, supporting detailed Nutanix monitoring and effective response to changes."}),"\n",(0,r.jsx)(t.p,{children:"For that purpose, you can use a specially designed add-on that supports audit for Nutanix AHV and Nutanix Prism/Element. The add-on works in collaboration with Auditor, supplying data about operations on your Nutanix AHV to Netwrix database. Aggregating data into a single audit trail simplifies analysis, makes activity monitoring more cost-effective, and helps you keep tabs on your IT infrastructure."}),"\n",(0,r.jsx)(t.p,{children:"Major benefits:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Gain a high-level view of the data you store"}),"\n",(0,r.jsx)(t.li,{children:"Detect unauthorized activity that might threaten your data"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,r.jsx)(t.p,{children:"The add-on is implemented as a Syslog service that collects activity data from Nutanix infrastructure and sends it to Netwrix Auditor using the Integration API."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"HIW_diagram_new",src:i(350354).A+"",width:"1280",height:"720"})}),"\n",(0,r.jsx)(t.p,{children:"On a high level, the solution works as follows:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"An IT administrator configures the Integration API settings to enable data collection and storage to Netwrix database for further reporting, search, etc."}),"\n",(0,r.jsxs)(t.p,{children:["It is recommended to create a dedicated monitoring plan in Netwrix Auditor and add a dedicated item of ",(0,r.jsx)(t.strong,{children:"Integration"})," type to it \u2014 then you will be able to filter data in reports and search results by monitoring plan/item name."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"On Nutanix side, the IT administrator prepares a dedicated user account for accessing Nutanix Prism Central/Element and configures Syslog server (IP, port, etc.)."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The administrator opens the Settings.xml configuration file and specifies the necessary parameters for add-on operation, Netwrix Auditor settings, etc. The add-on will operate as a Syslog listener for Nutanix server."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The administrator runs the Netwrix.IntegrationConfiguration.exe file and provides credentials to connect to Prism Central server."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The administrator selects the deployment scenario and runs the ",(0,r.jsx)(t.strong,{children:"install.ps1"})," PowerShell script file to deploy and configure the add-on components on the target server."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In particular, the script deploys and starts ",(0,r.jsx)(t.strong,{children:"Netwrix Auditor Add-on for Nutanix AHV"})," Windows Service\u2014 this is the main add-on component, responsible for audit data collection and forwarding."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The add-on starts collecting and forwarding activity data from Nutanix Prism server: it listens to the specified UDP port and captures designated Syslog event messages and also collects activity data using Nutanix REST API."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Syslog event data communication is performed using UDP version of Syslog protocol. See the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/addon/nutanixahv/monitoredevents",children:"Monitoring Scope"})," topic for additional information on the default list of events supported out-of-the box."]}),"\n",(0,r.jsxs)(t.ol,{start:"8",children:["\n",(0,r.jsx)(t.li,{children:"The add-on processes the incoming Syslog messages and activity data collected using Nutanix REST API into NAuditor -compatible format (Activity Records). Each Activity Record contains the Who-What-When-Where-Action information (that is, initiator's account, time, action, and other details)."}),"\n",(0,r.jsx)(t.li,{children:"Using the Integration API, the add-on sends the activity records to Auditor Server that writes them to the Audit Database and Long-Term Archive. Data is sent periodically, by default every second."}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["See the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/api/overview",children:"Integration API"})," topic for additional information on the Activity Record structure and capabilities of the Integration API."]}),"\n",(0,r.jsxs)(t.ol,{start:"10",children:["\n",(0,r.jsxs)(t.li,{children:["Users open Auditor Client to work with collected data:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Search for file changes using certain criteria"}),"\n",(0,r.jsx)(t.li,{children:"Export data to PDF or CSV files"}),"\n",(0,r.jsx)(t.li,{children:"Save search results as reports"}),"\n",(0,r.jsx)(t.li,{children:"Subscribe to search results"}),"\n",(0,r.jsx)(t.li,{children:"Configure and receive alerts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"add-on-delivery-package",children:"Add-on Delivery Package"}),"\n",(0,r.jsx)(t.p,{children:"The add-on delivery package is a ZIP archive that includes the following files:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"File name"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Install.ps1"}),(0,r.jsx)(t.td,{children:"PowerShell script that creates windows service to execute add-on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Settings.xml"}),(0,r.jsx)(t.td,{children:"Contains parameters for the add-on service operation."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Netwrix.IntegrationConfiguration.exe"}),(0,r.jsx)(t.td,{children:"Add-on component responsible for accessing Prism Central server."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Netwrix.Nutanix.IntegrationService.exe"}),(0,r.jsx)(t.td,{children:"Main add-on component, responsible for audit data collection from Nutanix AHV."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(t.p,{children:"Before running the add-on, ensure that all the necessary components and policies are configured as follows:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Where"}),(0,r.jsx)(t.th,{children:"Prerequisite to check"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Auditor Server side"}),(0,r.jsxs)(t.td,{children:["- Auditor version 9.9 or later. - Netwrix Integration API and Audit Database settings are configured properly in Netwrix Auditor. See the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/api/prerequisites",children:"Prerequisites"})," and ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/admin/settings/auditdatabase",children:"Audit Database"})," topics for additional information. - The  ",(0,r.jsx)(t.strong,{children:"TCP 9699"})," port must be open on Windows firewall for inbound connections. - User account under which data will be written to the Audit Database requires the ",(0,r.jsx)(t.strong,{children:"Contributor"})," role in Auditor. See the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/delegation",children:"Role-Based Access and Delegation"})," topic for additional information.   Alternatively, you can grant it the ",(0,r.jsx)(t.strong,{children:"Global administrator"})," role, or add that account to the ",(0,r.jsx)(t.strong,{children:"Netwrix Auditor Administrators"})," group."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"The machine where the add-on will be installed"}),(0,r.jsxs)(t.td,{children:["- Any of the following Windows OS versions:    - Windows Server 2012 R2 (or later)   - Windows 8.1 (or later) - The ",(0,r.jsx)(t.strong,{children:"UDP"})," port must be open on Windows firewall for inbound connections. - .NET Framework versions 4.5 or later"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Nutanix Prism server"}),(0,r.jsx)(t.td,{children:"Nutanix AOS 5.11, 5.15, or 5.20"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"accounts-and-rights",children:"Accounts and rights"}),"\n",(0,r.jsxs)(t.p,{children:["It is recommended to create a dedicated account for running ",(0,r.jsx)(t.strong,{children:"install.ps1"})," and ",(0,r.jsx)(t.strong,{children:"Netwrix Auditor Add-on for Nutanix AHV"})," (main service of the solution). The service will connect to Auditor Server using this account, so at least the ",(0,r.jsx)(t.strong,{children:"Contributor"})," role in Auditor is required for it. See the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/admin/monitoringplans/delegation",children:"Role-Based Access and Delegation"})," topic for additional information."]}),"\n",(0,r.jsxs)(t.p,{children:["This service account requires the ",(0,r.jsx)(t.strong,{children:"User Admin"})," role in Nutanix Prism. You will be prompted for the corresponding set of credentials when you run the ",(0,r.jsx)(t.strong,{children:"install.ps1"})," script (see Steps 4 and 5 of the ",(0,r.jsx)(t.a,{href:"/docs/auditor/auditor/addon/nutanixahv/install",children:"Deploy the Add-On"}),"). User name and password for connection to Nutanix Prism server will be then encrypted and stored in the solution configuration."]}),"\n",(0,r.jsx)(t.h3,{id:"considerations-and-limitations",children:"Considerations and limitations"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"By default, the add-on is targeted at a single Nutanix Prism Central/Element server."}),"\n",(0,r.jsx)(t.li,{children:"Netwrix add-on must be deployed in the same subnet as Nutanix Prism Central/Element server."}),"\n",(0,r.jsx)(t.li,{children:"Please be aware that monitoring of actions performed on the add-on installation server is not supported."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"upgrade-path",children:"Upgrade Path"}),"\n",(0,r.jsx)(t.p,{children:"To upgrade from versions released earlier than August 2020, do the following:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Stop and remove the ",(0,r.jsx)(t.strong,{children:"Netwrix Auditor Add-on for Nutanix AHV"})," service."]}),"\n",(0,r.jsx)(t.li,{children:"Download and unpack the new add-on package to the same location as the earlier version."}),"\n",(0,r.jsxs)(t.li,{children:["Run the ",(0,r.jsx)(t.strong,{children:"install.ps1"})," PowerShell script file from the new add-on version on the target server."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"compatibility-notice",children:"Compatibility notice"}),"\n",(0,r.jsx)(t.p,{children:"The add-on is compatible with Nutanix AOS 5.15 and Nutanix AOS 5.20, and with Auditor 10.0 and later."})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);