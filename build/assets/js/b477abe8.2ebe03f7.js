"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[831913],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(296540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},373077:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"usercube/installation-guide/requirements/agent-requirements/index","title":"Agent","description":"This section identifies the requirements for an Identity Manager\xa0agent.","source":"@site/docs/usercube_saas/usercube/installation-guide/requirements/agent-requirements/index.md","sourceDirName":"usercube/installation-guide/requirements/agent-requirements","slug":"/usercube/installation-guide/requirements/agent-requirements/","permalink":"/docs/usercube_saas/usercube/installation-guide/requirements/agent-requirements/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/installation-guide/requirements/agent-requirements/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Requirements","permalink":"/docs/usercube_saas/usercube/installation-guide/requirements/"},"next":{"title":"Database","permalink":"/docs/usercube_saas/usercube/installation-guide/requirements/database-requirements/"}}');var t=s(474848),r=s(28453);const a={},o="Agent",c={},d=[{value:"Software",id:"software",level:2},{value:"Hosting",id:"hosting",level:2},{value:"Integrated agent",id:"integrated-agent",level:3},{value:"Service Accounts",id:"service-accounts",level:2},{value:"Working directory permissions",id:"working-directory-permissions",level:3},{value:"Managed systems&#39; permissions",id:"managed-systems-permissions",level:3},{value:"Database permissions",id:"database-permissions",level:3},{value:"Hostname and DNS",id:"hostname-and-dns",level:2},{value:"SSL Certificate",id:"ssl-certificate",level:2},{value:"Emails",id:"emails",level:2},{value:"Encryption Key Pair",id:"encryption-key-pair",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"agent",children:"Agent"})}),"\n",(0,t.jsx)(n.p,{children:"This section identifies the requirements for an Identity Manager\xa0agent."}),"\n",(0,t.jsx)(n.h2,{id:"software",children:"Software"}),"\n",(0,t.jsx)(n.p,{children:"The agent is a .NET application."}),"\n",(0,t.jsxs)(n.p,{children:["Running an agent requires installing the ",(0,t.jsx)(n.a,{href:"https://dotnet.microsoft.com/en-us/download/dotnet/8.0",children:"Windows hosting bundle for ASP.Net Runtime"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"hosting",children:"Hosting"}),"\n",(0,t.jsx)(n.p,{children:"When used separated from the server, the agent can be run as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["An ",(0,t.jsx)(n.a,{href:"https://www.iis.net/",children:"Internet Information Services (IIS)"})," website from the minimal version IIS 10.0 (recommended)"]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/introduction-to-windows-service-applications",children:"Windows service"})]}),"\n",(0,t.jsx)(n.li,{children:"A stand-alone executable for tests or debugging purposes"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"integrated-agent",children:"Integrated agent"}),"\n",(0,t.jsx)(n.p,{children:"Some installations require multiple separate agents, but most of them use a single integrated agent that runs within the Identity Manager\xa0server process. In that case, the server executable contains the agents and no agent executable needs to be executed. It means that if a Identity Manager\xa0server is already installed, no further installation is required."}),"\n",(0,t.jsxs)(n.p,{children:["In this case, the agent working directory is the same as the server working directory, and both the agent's and server's ",(0,t.jsx)(n.code,{children:"appsettings"})," share the same configuration. The ",(0,t.jsx)(n.code,{children:"appsettings.agent"})," configuration set is still configured through environment variables or via a separate ",(0,t.jsx)(n.code,{children:"appsettings.agent.json"})," file stored next to the ",(0,t.jsx)(n.code,{children:"Usercube-Server.exe"})," executable, in the common working directory. See the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/",children:"Application Settings"})," and ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/",children:"appsettings.agent"})," topics for additional information."]}),"\n",(0,t.jsx)(n.h2,{id:"service-accounts",children:"Service Accounts"}),"\n",(0,t.jsxs)(n.p,{children:["The agent should be assigned a ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/service-accounts",children:"Windows Server service account"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The installation of the server as part of an Active Directory domain requires the use of an account with sufficient privileges to create a service account on the domain."}),"\n",(0,t.jsxs)(n.p,{children:["It can be either the IIS built-in ",(0,t.jsx)(n.a,{href:"https://support.microsoft.com/en-us/help/4466942/understanding-identities-in-iis",children:"application pool identity"}),", or a custom ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/service-accounts",children:"Windows Server service account"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"working-directory-permissions",children:"Working directory permissions"}),"\n",(0,t.jsxs)(n.p,{children:["The agent's service account needs specific permissions presented in the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/production-ready/working-directory/",children:"\nCreate a Working Directory\n"})," topic as:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Read"}),", ",(0,t.jsx)(n.em,{children:"Modify"}),", and ",(0,t.jsx)(n.em,{children:"List folder contents"})," on the working directory;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Read & Execute"})," and ",(0,t.jsx)(n.em,{children:"List folder contents"})," on the ",(0,t.jsx)(n.code,{children:"Runtime"})," directory, usually ",(0,t.jsx)(n.code,{children:"C:/Usercube<Organization>/Runtime"}),", in order to run the agent executable;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Read"}),", ",(0,t.jsx)(n.em,{children:"Modify"}),", and ",(0,t.jsx)(n.em,{children:"List folder contents"})," on the directory for provisioning orders, whose path depends on the ",(0,t.jsx)(n.code,{children:"Work"})," folder's path;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Read"}),", ",(0,t.jsx)(n.em,{children:"Modify"}),", ",(0,t.jsx)(n.em,{children:"List folder contents"}),", and ",(0,t.jsx)(n.em,{children:"Write"})," on the directory for data collection, whose path depends on the ",(0,t.jsx)(n.code,{children:"Work"})," folder's path."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/production-ready/working-directory/",children:"\nCreate a Working Directory\n"})," and ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/",children:"Application Settings"})," topics for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"Other permissions should be denied."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"FAQ"}),": How to set up directory permissions in Windows Server? See the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/production-ready/server/",children:"Install the Server"})," topic for additional information."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"managed-systems-permissions",children:"Managed systems' permissions"}),"\n",(0,t.jsx)(n.p,{children:"Every Identity Manager\xa0agent needs one or several service accounts on the target managed systems, able to read and write to said managed systems."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"For example, using Identity Manager\xa0with an Active Directory instance requires the agent to be assigned an Active Directory service account that can read, write, change users' passwords, update group memberships, and synchronize the whole Active Directory."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Before going further, make sure the integration team has provided:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The list of all managed systems"}),"\n",(0,t.jsxs)(n.li,{children:["Service accounts with the necessary permissions for the agent to perform ",(0,t.jsx)(n.em,{children:"Read"})," and/or ",(0,t.jsx)(n.em,{children:"Write"})," operations on the systems associated with a connector allowing respectively synchronization and/or provisioning; See the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/connectors/",children:"Connectors"})," topic for additional information."]}),"\n",(0,t.jsx)(n.li,{children:"service accounts' credentials"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Managed systems credentials are stored in the ",(0,t.jsx)(n.code,{children:"appsettings.agent"})," configuration set and can be protected. See the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/",children:"appsettings.agent"})," and ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/integration-guide/modules/",children:"\nModules\n"})," topics for additional information."]}),"\n",(0,t.jsx)(n.h3,{id:"database-permissions",children:"Database permissions"}),"\n",(0,t.jsx)(n.p,{children:"The agent needs a service account that can authenticate to SQL Server."}),"\n",(0,t.jsx)(n.h2,{id:"hostname-and-dns",children:"Hostname and DNS"}),"\n",(0,t.jsx)(n.p,{children:"The agent needs to be assigned a hostname within the organization's domain. End-user browsers must be able to resolve the agent's hostname."}),"\n",(0,t.jsxs)(n.p,{children:["The associated DNS zone needs to be ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows-server/networking/core-network-guide/cncg/server-certs/create-an-alias-cname-record-in-dns-for-web1",children:"updated accordingly"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The DNS alias should be written in lowercase in order to comply with as many security rules as possible."}),"\n",(0,t.jsx)(n.h2,{id:"ssl-certificate",children:"SSL Certificate"}),"\n",(0,t.jsx)(n.p,{children:"The agent requires the use of HTTPS ports and an SSL certificate in order to perform HTTPS communication with the server."}),"\n",(0,t.jsx)(n.h2,{id:"emails",children:"Emails"}),"\n",(0,t.jsxs)(n.p,{children:["The agent needs access to an SMTP server to ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/production-ready/email-server/",children:"\nSend Notifications\n"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"encryption-key-pair",children:"Encryption Key Pair"}),"\n",(0,t.jsxs)(n.p,{children:["An ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Public-key_cryptography",children:"RSA-2048 encryption key pair"})," is required for the agent in order to perform various encryption operations, such as source, configuration, or log file encryptions;"]}),"\n",(0,t.jsx)(n.p,{children:"Such a certificate does not need to be integrated into the target organization's Public Key Infrastructure and does not require an expiration date. They are only relevant to internal and temporary Identity Manager\xa0data and can be changed at any time."}),"\n",(0,t.jsxs)(n.p,{children:["An RSA key pair, as in an ",(0,t.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/X.509",children:"X.509"})," public key certificate and a private key, can be stored either:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["As a ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/PKCS_12",children:"PKCS #12"})," archive (also called ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows-hardware/drivers/install/personal-information-exchange---pfx--files",children:"Personal Information Exchange file"})," or ",(0,t.jsx)(n.code,{children:".pfx"})," file) stored in the ",(0,t.jsx)(n.em,{children:"server"}),"'s host file system. The archive contains both the public key certificate and the private key."]}),"\n",(0,t.jsxs)(n.li,{children:["As a certificate from a Windows' ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/working-with-certificates#certificate-store",children:"certificate store"})," identified by ",(0,t.jsx)(n.em,{children:"SubjectDistinguishedName"})," or by ",(0,t.jsx)(n.em,{children:"Thumbprint"}),". The Windows certificate also contains both the public key certificate and the private key. This is the recommended method."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The key pair can be generated with tools such as ",(0,t.jsx)(n.a,{href:"https://www.openssl.org/docs/manmaster/man1/req.html",children:"OpenSSL"})," or Microsoft's ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/powershell/module/pkiclient/new-selfsignedcertificate?view=win10-ps",children:"New-SelfSignedCertificate"})," and ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows-hardware/drivers/devtest/pvk2pfx?redirectedfrom=MSDN",children:"pvk2pfx tool"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,t.jsxs)(n.p,{children:["To start the installation, follow either the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/quick-start/",children:"\nQuick Start Guide"})," or the ",(0,t.jsx)(n.a,{href:"/docs/usercube_saas/usercube/installation-guide/production-ready/",children:"Production-Ready Installation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);