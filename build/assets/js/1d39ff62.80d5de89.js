"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[789940],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(296540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},52213:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/manualconfig_ssms_newlogin2016-c8c7c046259f96a2c6211531c37222d3.webp"},55862:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"auditor/configuration/sqlserver/permissions","title":"Permissions for SQL Server Auditing","description":"Before you start creating a monitoring plan to audit your SQL Server, plan for the account that will be used for data collection \u2013 it should meet the requirements listed below. Then you will provide this account in the monitoring plan wizard.","source":"@site/docs/auditor/auditor/configuration/sqlserver/permissions.md","sourceDirName":"auditor/configuration/sqlserver","slug":"/auditor/configuration/sqlserver/permissions","permalink":"/docs/auditor/auditor/configuration/sqlserver/permissions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/sqlserver/permissions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"SQL Server","permalink":"/docs/auditor/auditor/configuration/sqlserver/overview"},"next":{"title":"SQL Server Ports","permalink":"/docs/auditor/auditor/configuration/sqlserver/ports"}}');var t=r(474848),s=r(28453);const o={},a="Permissions for SQL Server Auditing",c={},l=[{value:"Assigning &#39;System Administrator&#39; Role",id:"assigning-system-administrator-role",level:2}];function d(e){const n={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"permissions-for-sql-server-auditing",children:"Permissions for SQL Server Auditing"})}),"\n",(0,t.jsx)(n.p,{children:"Before you start creating a monitoring plan to audit your SQL Server, plan for the account that will be used for data collection \u2013 it should meet the requirements listed below. Then you will provide this account in the monitoring plan wizard."}),"\n",(0,t.jsx)(n.p,{children:"You can use group Managed Service Accounts (gMSA) as data collecting accounts."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"On the target SQL Server:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["To access SQL Server, Windows authentication will be used, so data collection account should be a Windows account specified in the ",(0,t.jsx)(n.em,{children:"domain\\user"})," format (",(0,t.jsx)(n.em,{children:"domain\\user$"})," for Managed Service Account).",(0,t.jsx)(n.br,{}),"\n","SQL Server logins and authentication method are not supported."]}),"\n",(0,t.jsxs)(n.li,{children:["The account must be assigned the ",(0,t.jsx)(n.strong,{children:"System Administrator"})," server role for this SQL Server. See ",(0,t.jsx)(n.a,{href:"#Assigning-System-Administrator-Role",children:"Assigning 'System Administrator' Role"})," section for more information."]}),"\n",(0,t.jsx)(n.li,{children:"For auditing SQL Server availability on groups, the account must have the sysadmin server role granted on each server added to an availability group."}),"\n",(0,t.jsxs)(n.li,{children:["If you plan to collect state-in-time data from SQL Server, in addition to requirements above the account will also need:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Local ",(0,t.jsx)(n.strong,{children:"Administrator"})," rights on the target SQL Server."]}),"\n",(0,t.jsx)(n.li,{children:"If SQL Server is included in the Active Directory domain, the account should also be included in that domain."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"assigning-system-administrator-role",children:"Assigning 'System Administrator' Role"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["On the computer where audited SQL Server instance is installed, navigate to ",(0,t.jsx)(n.strong,{children:"Start \u2192 All Programs \u2192 Microsoft SQL Server \u2192 SQL Server Management Studio"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Connect to the SQL Server instance."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the left pane, expand the ",(0,t.jsx)(n.strong,{children:"Security"})," node. Right-click the ",(0,t.jsx)(n.strong,{children:"Logins"})," node and select ",(0,t.jsx)(n.strong,{children:"New Login"})," from the pop-up menu."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"manualconfig_ssms_newlogin2016",src:r(52213).A+"",width:"687",height:"622"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.strong,{children:"Search"})," next to ",(0,t.jsx)(n.strong,{children:"Login Name"})," and specify the user that you want to assign the ",(0,t.jsx)(n.strong,{children:"sysadmin"})," role to."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Specify the ",(0,t.jsx)(n.strong,{children:"Server roles"})," tab and assign the ",(0,t.jsx)(n.strong,{children:"sysadmin"})," role to the new login."]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);