"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[467574],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(296540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}},153954:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/sharepoint_export_role_owner-62b44e84ee9dcfbe5a56cd4a3a047a9f.webp"},177488:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/sharepoint_export_add_member-36f0f051a981de8017a59050607cd100.webp"},787683:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"usercube/integration-guide/connectors/how-tos/sharepoint-export/index","title":"Set up SharePoint\'s Export and Synchronization","description":"This guide shows how to set up a SharePoint connector to extract data from your SharePoint instance into CSV source files that will be fed to the Synchronization task and to your Identity Manager\xa0resource repository. It will focus on registering Identity Manager\xa0within the target SharePoint, configuring the connector, and building the job to perform a regularly scheduled synchronization.","source":"@site/docs/usercube/usercube/integration-guide/connectors/how-tos/sharepoint-export/index.md","sourceDirName":"usercube/integration-guide/connectors/how-tos/sharepoint-export","slug":"/usercube/integration-guide/connectors/how-tos/sharepoint-export/","permalink":"/docs/usercube/usercube/integration-guide/connectors/how-tos/sharepoint-export/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube/usercube/integration-guide/connectors/how-tos/sharepoint-export/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSidebar","previous":{"title":"For Microsoft Entra ID","permalink":"/docs/usercube/usercube/integration-guide/connectors/how-tos/setup-incremental-synchronization/azuread/"},"next":{"title":"Write a PowerShell Script for Provisioning","permalink":"/docs/usercube/usercube/integration-guide/connectors/how-tos/write-fulfill-powershell-script/"}}');var r=t(474848),o=t(28453);const s={},a="Set up SharePoint's Export and Synchronization",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"External system configuration",id:"external-system-configuration",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Connect to the SharePoint instance",id:"connect-to-the-sharepoint-instance",level:4},{value:"Input credentials",id:"input-credentials",level:4},{value:"Set up export files",id:"set-up-export-files",level:5},{value:"Example",id:"example",level:6},{value:"SharePoint sites",id:"sharepoint-sites",level:3},{value:"Root site with subsites",id:"root-site-with-subsites",level:4},{value:"Multiple sites",id:"multiple-sites",level:4},{value:"Example",id:"example-1",level:6},{value:"Build the Connector",id:"build-the-connector",level:2},{value:"Declare a connector",id:"declare-a-connector",level:3},{value:"Build the entity model",id:"build-the-entity-model",level:3},{value:"Write the entity model",id:"write-the-entity-model",level:4},{value:"Write entity types",id:"write-entity-types",level:4},{value:"Example",id:"example-2",level:5},{value:"Example",id:"example-3",level:5},{value:"Write entity associations",id:"write-entity-associations",level:4},{value:"Example",id:"example-4",level:5},{value:"Create mapping",id:"create-mapping",level:3},{value:"Entity type mapping",id:"entity-type-mapping",level:4},{value:"Example",id:"example-5",level:5},{value:"Entity association mapping",id:"entity-association-mapping",level:4},{value:"Example",id:"example-6",level:5},{value:"Display",id:"display",level:2},{value:"Nav",id:"nav",level:3},{value:"Parent menu item",id:"parent-menu-item",level:4},{value:"Example",id:"example-7",level:5},{value:"Child menu item",id:"child-menu-item",level:4},{value:"Example",id:"example-8",level:5},{value:"Display",id:"display-1",level:3},{value:"Display entity type",id:"display-entity-type",level:4},{value:"Example",id:"example-9",level:5},{value:"Display table",id:"display-table",level:4},{value:"Example",id:"example-10",level:5},{value:"Internal display name",id:"internal-display-name",level:4},{value:"Example",id:"example-11",level:5},{value:"Permissions",id:"permissions",level:3},{value:"Example",id:"example-12",level:4},{value:"Jobs",id:"jobs",level:2},{value:"Construction",id:"construction",level:3},{value:"Example",id:"example-13",level:4},{value:"Components",id:"components",level:3},{value:"Example",id:"example-14",level:4},{value:"Permissions",id:"permissions-1",level:3},{value:"Create a profile",id:"create-a-profile",level:4},{value:"Grant synchronization access rights to the profile",id:"grant-synchronization-access-rights-to-the-profile",level:4},{value:"Example",id:"example-15",level:5},{value:"Grant end-users permissions to run jobs from the UI",id:"grant-end-users-permissions-to-run-jobs-from-the-ui",level:4},{value:"Example",id:"example-16",level:5},{value:"Declare usable ClientId/Secret pairs in the configuration",id:"declare-usable-clientidsecret-pairs-in-the-configuration",level:4},{value:"<strong>Example</strong>",id:"example-17",level:5},{value:"Set up the Agent to use ClientId/Secret pairs",id:"set-up-the-agent-to-use-clientidsecret-pairs",level:4},{value:"Job launch",id:"job-launch",level:3},{value:"With Scheduler",id:"with-scheduler",level:4},{value:"With an external scheduler",id:"with-an-external-scheduler",level:4},{value:"Example",id:"example-18",level:5},{value:"Validation",id:"validation",level:2},{value:"Deploy configuration",id:"deploy-configuration",level:3},{value:"Test",id:"test",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"set-up-sharepoints-export-and-synchronization",children:"Set up SharePoint's Export and Synchronization"})}),"\n",(0,r.jsxs)(n.p,{children:["This guide shows how to set up a ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/connectors/references-connectors/sharepoint/",children:"SharePoint"})," connector to extract data from your SharePoint instance into CSV source files that will be fed to the Synchronization task and to your Identity Manager\xa0resource repository. It will focus on registering Identity Manager\xa0within the target SharePoint, configuring the connector, and building the job to perform a regularly scheduled synchronization."]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.h3,{id:"external-system-configuration",children:"External system configuration"}),"\n",(0,r.jsx)(n.p,{children:"This step is designed to grant Identity Manager\xa0a service account to authenticate with the target SharePoint sites. It includes the following substeps:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create a service account for Identity Manager\xa0in your Microsoft Entra ID (formerly Microsoft Azure AD)."}),"\n",(0,r.jsx)(n.li,{children:"Go the SharePoint sites which need to be scanned."}),"\n",(0,r.jsx)(n.li,{children:"Log in using the organization credentials."}),"\n",(0,r.jsxs)(n.li,{children:["Go to the ",(0,r.jsx)(n.strong,{children:"Members List"})," in the right corner."]}),"\n",(0,r.jsxs)(n.li,{children:["Click on the ",(0,r.jsx)(n.strong,{children:"Add members"})," button."]}),"\n",(0,r.jsx)(n.li,{children:"Enter the name of the Identity Manager\xa0service account or its email address."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SharePoint Export Add Member",src:t(177488).A+"",width:"1918",height:"940"})}),"\n",(0,r.jsx)(n.p,{children:"The service account is now a member of the site. However, to scan the site, the service account needs to be owner of the site."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to the ",(0,r.jsx)(n.strong,{children:"Members List"})," in the right corner."]}),"\n",(0,r.jsx)(n.li,{children:"Under the name of the Identity Manager\xa0service account, click on the arrow."}),"\n",(0,r.jsxs)(n.li,{children:["Choose ",(0,r.jsx)(n.strong,{children:"Owner"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SharePoint Export Role Owner",src:t(153954).A+"",width:"1920",height:"938"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"This step sets up the Identity Manager\xa0Agent in order to use the SharePoint connector and access the SharePoint data."}),"\n",(0,r.jsxs)(n.p,{children:["This guide focuses on the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/architecture/",children:"\nArchitecture\n"})," method. Remember that settings can also be input through ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/architecture/",children:"\nArchitecture\n"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"connect-to-the-sharepoint-instance",children:"Connect to the SharePoint instance"}),"\n",(0,r.jsxs)(n.p,{children:["In this ",(0,r.jsx)(n.code,{children:"Connections"})," section, add one new subsection that will contain the credentials for the target SharePoint."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["This example connects via the ",(0,r.jsx)(n.code,{children:"SharePointExportContoso"})," connection to the Contoso SharePoint site:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"SharePointExportContoso": {\n...\n}\n}\n}\n'})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"input-credentials",children:"Input credentials"}),"\n",(0,r.jsx)(n.p,{children:"In the newly created subsection, fill in:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Server"})," attribute with the address of the root SharePoint site to scan."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Login"})," attribute with the login of the service account created."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Password"})," attribute with the password of the service account created."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"SharePointExportContoso": {\n"Server": "https://contoso.sharepoint.com/",\n"Login": "usercube.service@contoso.com",\n"Password": "19f23f48379d50a9a50b8c"\n}\n}\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For pedagogical reasons, this guide focuses on the simplest way to set up the export, but it's not the most secure. Hence it is strongly recommended that you protect credentials using Azure Key Vault or Cyber Ark in a production environment.",(0,r.jsx)(n.br,{}),"\n","Netwrix Identity Manager (formerly Usercube) recommends completing this guide once, testing the configuration, and only then, switching to a more secure way of storing credentials."]}),"\n",(0,r.jsx)(n.h5,{id:"set-up-export-files",children:"Set up export files"}),"\n",(0,r.jsxs)(n.p,{children:["The export generates CSV source files that will be fed to the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/synchronization/upward-data-sync/",children:"\nUpward Data Synchronization\n"})," task."]}),"\n",(0,r.jsx)(n.p,{children:"The target path for these files can be set up using the following settings:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"appsetings.agent > Connections > SharePointExportContoso > OutputDir"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"appsetings.agent > Connections > SharePointExportContoso > FileNamePrefix"})}),"\n"]}),"\n",(0,r.jsx)(n.h6,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"SharePointExportContoso": {\n"Server": "https://contoso.sharepoint.com/",\n"Login": "usercube.service@contoso.com",\n"Password": "19f23f48379d50a9a50b8c"\n}\n}\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sharepoint-sites",children:"SharePoint sites"}),"\n",(0,r.jsx)(n.p,{children:"Different kinds of SharePoint sites exist. We will describe here the different cases that the integration team might encounter and how to handle them."}),"\n",(0,r.jsx)(n.h4,{id:"root-site-with-subsites",children:"Root site with subsites"}),"\n",(0,r.jsxs)(n.p,{children:["A root site has a URL like ",(0,r.jsx)(n.code,{children:"https://contoso.sharepoint.com"})," and can have subsites. For example, the subsite ",(0,r.jsx)(n.code,{children:"Finance"})," has a URL like ",(0,r.jsx)(n.code,{children:"https://contoso.sharepoint.com/Finance"}),". Subsites can also have subsites.\nTo scan the root site and the subsite tree, the root site must be specified in the ",(0,r.jsx)(n.strong,{children:"Server"})," attribute.\nRetrieved users can be assigned to/removed from all groups found, but cannot be created. To create a user account, you need to create it in the associated Microsoft Entra ID: it will automatically create a SharePoint user account."]}),"\n",(0,r.jsx)(n.h4,{id:"multiple-sites",children:"Multiple sites"}),"\n",(0,r.jsxs)(n.p,{children:["A SharePoint can also have other sites which are not subsites of the root site. For example, the site ProjectTeam has a URL like ",(0,r.jsx)(n.code,{children:"https://contoso.sharepoint.com/sites/ProjectTeam"}),".\nThese sites can't be scanned from the root site by using the ",(0,r.jsx)(n.strong,{children:"Server"})," attribute."]}),"\n",(0,r.jsxs)(n.p,{children:["To scan these sites, you have to export their URL from SharePoint in a CSV file and use the ",(0,r.jsx)(n.strong,{children:"CsvUrls"})," attribute in the settings."]}),"\n",(0,r.jsx)(n.h6,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"SharePointExportContoso": {\n"Server": "https://contoso.sharepoint.com/",\n"Login": "usercube.service@contoso.com",\n"Password": "19f23f48379d50a9a50b8c"\n"CsvUrls": "C:/Usercube/Temp/ExportOutput/SP_otherSites.csv\ufffdURL\ufffd,"\n}\n}\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["In this example, ",(0,r.jsx)(n.code,{children:"C:/Usercube/Temp/ExportOutput/SP_otherSites.csv"})," is the path of the exported CSV file, ",(0,r.jsx)(n.code,{children:"URL"})," is the column name of the URLs, and ",(0,r.jsx)(n.code,{children:","})," is the separator used in the file. The character ",(0,r.jsx)(n.code,{children:"\ufffd"})," is used to separate the three data items."]}),"\n",(0,r.jsx)(n.p,{children:"The CSV file containing the URLS can be generated with two methods:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.code,{children:"https://contoso-admin.sharepoint.com"})," of your SharePoint site, in the menu ",(0,r.jsx)(n.strong,{children:"Sites"})," > ",(0,r.jsx)(n.strong,{children:"Active sites"})," and click on the ",(0,r.jsx)(n.strong,{children:"Export"})," button above the table."]}),"\n",(0,r.jsxs)(n.li,{children:["Use a script with the ",(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/powershell/module/sharepoint-online/?view=sharepoint-ps",children:"SharePointOnlinePowerShell commands"}),", specifically ",(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/powershell/module/sharepoint-online/get-sposite?view=sharepoint-ps",children:"Get-SPO Site"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These sites are not synchronized with the root site. Users present in a site are not necessarily present in the others. You can only assign users to a SharePoint group, on condition that they are already members of this site.\nYou can't use the SharePoint connector to make a user a member of this kind of site. Depending on the system you are working on, you could achieve this by using the associated Microsoft Entra ID or the system generating these SharePoint sites (for example, Microsoft Teams can create an associated SharePoint site for each Teams Group)."}),"\n",(0,r.jsx)(n.h2,{id:"build-the-connector",children:"Build the Connector"}),"\n",(0,r.jsx)(n.h3,{id:"declare-a-connector",children:"Declare a connector"}),"\n",(0,r.jsxs)(n.p,{children:["To be used for export and fulfill tasks, a connector has to be declared in the applicative configuration and linked to an Agent. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/",children:"Toolkit for XML Configuration"})," topic for additional information."]}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended that the applicative configuration be stored in the working directory ",(0,r.jsx)(n.code,{children:"Conf"})," folder as a set of ",(0,r.jsx)(n.code,{children:"xml"})," files organized by connector. See the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/installation-guide/production-ready/working-directory/",children:"\nCreate a Working Directory\n"})," topic for additional information."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In the ",(0,r.jsx)(n.code,{children:"Conf"})," folder, create a ",(0,r.jsx)(n.code,{children:"SharePoint"})," directory."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In the ",(0,r.jsx)(n.code,{children:"SharePoint"})," directory, create a ",(0,r.jsx)(n.code,{children:"SharePoint Connector.xml"})," file."]}),"\n",(0,r.jsxs)(n.p,{children:["This file should contain the declaration of the connector and the associated ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/connector/",children:"\nConnector\n"}),"element to declare the connector with the following attributes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Identifier"})," identifies this connector in the applicative configuration. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/",children:"Toolkit for XML Configuration"})," topic for additional information. It is strongly recommended to use a meaningful name such as ",(0,r.jsx)(n.code,{children:"SharePoint"}),". If several connections to several SharePoint targets are possible, only one SharePoint Connector per Agent is used."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DisplayName_Li, i ? [1..16]"})," are used in the UI."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Agent"})," is the identifier of the Agent that runs this connector's export task. The Agent's identifier can be found in the agent's ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/",children:"appsettings.agent"})," configuration set > OpenId > AgentIdentifier setting attribute."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Don't forget the ",(0,r.jsx)(n.code,{children:"<?xml>"})," and ",(0,r.jsx)(n.code,{children:"<ConfigurationFile>"})," elements (see example below)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["This example declares the ",(0,r.jsx)(n.code,{children:"SharePoint"})," connector on the ",(0,r.jsx)(n.code,{children:"Local"})," agent:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n<?xml version="1.0" encoding="utf-8"?><ConfigurationFile xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="urn:schemas-usercube-com:configuration">    ...\n<Connector Identifier="SharePoint" DisplayName_L1="SharePoint" Agent="Local"/>    <Connection Identifier="SharePointExportContoso" Connector="SharePoint" DisplayName_L1="SharePoint" Package="Usercube.SharePoint@0000001" />    ...\n</ConfigurationFile>\n\n'})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-the-entity-model",children:"Build the entity model"}),"\n",(0,r.jsxs)(n.p,{children:["The exported data to be written to the resource repository must be aligned with the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),". See the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/introduction-guide/overview/identity-management/",children:"\nIdentity Management\n"}),"topic for additional information."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," should match as closely as possible the structure of the SharePoint data relevant for Identity Manager. It is designed by analyzing the SharePoint data structure, and describing said data with ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),"and ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/metadata/entityassociation/",children:"\nEntity Association\n"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Eventually, it is up to the integration team to design the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," that best serves the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/role-model/role-model-rules/",children:"\nAssignment Policy\n"}),"needs. It will be refined iteratively throughout the project phase."]}),"\n",(0,r.jsx)(n.p,{children:"A good starting point for the Entity Model is to mirror the shape of the exported SharePoint objects. This guide provides a few examples that can serve this purpose."}),"\n",(0,r.jsx)(n.h4,{id:"write-the-entity-model",children:"Write the entity model"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," for the SharePoint connector is written in the applicative configuration.\nSee the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/",children:"Toolkit for XML Configuration"})," topic for additional information. It is strongly recommended to write the connector to the newly created ",(0,r.jsx)(n.code,{children:"Conf/SharePoint/SharePoint Connector.xml"})," file."]}),"\n",(0,r.jsx)(n.h4,{id:"write-entity-types",children:"Write entity types"}),"\n",(0,r.jsxs)(n.p,{children:["Declaring an ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," is achieved with the ",(0,r.jsx)(n.code,{children:"<EntityType>"})," tag and the following attributes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Identifier"})," is the entity type's name. It must be unique among the entity types. It is strongly recommended to prefix this name with the connector's name. An example for SharePoint is ",(0,r.jsx)(n.code,{children:"SharePoint_directoryObject"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DisplayName_Li, i ? [1..16]"})," are used in the UI to identify this ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),"for the end-user. ",(0,r.jsx)(n.strong,{children:"DisplayName_L1"})," is the name of the entity type in ",(0,r.jsx)(n.em,{children:"language number one"}),". If this language is ",(0,r.jsx)(n.em,{children:"English"}),", a good example of value is ",(0,r.jsx)(n.code,{children:"SharePoint - Object"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityType Identifier="SharePoint_Entity" DisplayName_L1="SharePoint_Entity"></EntityType>...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The SharePoint object attributes are modeled by ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),", with the ",(0,r.jsx)(n.code,{children:"<Property>"})," tags declared as children of the ",(0,r.jsx)(n.code,{children:"<EntityType>"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Remember that there are several kinds of properties: scalar and navigation. Scalar properties can be defined to represent scalar attributes such as ",(0,r.jsx)(n.code,{children:"city"}),", ",(0,r.jsx)(n.code,{children:"country"})," or ",(0,r.jsx)(n.code,{children:"companyName"}),". represent associations such as group memberships. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," topic for additional information."]}),"\n",(0,r.jsxs)(n.p,{children:["The main attributes of the ",(0,r.jsx)(n.code,{children:"<Property>"})," tag are the following:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Identifier"})," identifies the property with a mandatory unique name. It must be unique among the entity properties for this entity type."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DisplayName_Li, i ? [1..16]"})," are used in the UI."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"})," defines the type of the property. A scalar property type is chosen among ",(0,r.jsx)(n.code,{children:"String"}),", ",(0,r.jsx)(n.code,{children:"Bytes"}),", ",(0,r.jsx)(n.code,{children:"Int16"}),", ",(0,r.jsx)(n.code,{children:"Int32"}),", ",(0,r.jsx)(n.code,{children:"Int64"}),", ",(0,r.jsx)(n.code,{children:"DateTime"}),", ",(0,r.jsx)(n.code,{children:"Bool"}),", ",(0,r.jsx)(n.code,{children:"Guid"}),", ",(0,r.jsx)(n.code,{children:"Double"}),", ",(0,r.jsx)(n.code,{children:"Binary"}),", ",(0,r.jsx)(n.code,{children:"Byte"}),", and ",(0,r.jsx)(n.code,{children:"Option"}),". The navigation property type is ",(0,r.jsx)(n.code,{children:"ForeignKey"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TargetColumnIndex"})," defines in which column of the resource table the property is stored. See more details about Target Column Index. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," topic for additional information."]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"example-3",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityType Identifier="SharePoint_Entity" DisplayName_L1="SharePoint - Entity">    <Property Identifier="Collection" DisplayName_L1="Collection" TargetColumnIndex="9" Type="String" />    <Property Identifier="EntityId" DisplayName_L1="Id" IsKey="true" TargetColumnIndex="0" Type="String" />    <Property Identifier="SharePointId" DisplayName_L1="SharePointId" TargetColumnIndex="10" Type="Int64" />    <Property Identifier="Name" DisplayName_L1="Name" TargetColumnIndex="1" Type="String" />    <Property Identifier="Description" DisplayName_L1="Description" TargetColumnIndex="8" Type="String" />    <Property Identifier="PrincipalType" DisplayName_L1="PrincipalType" TargetColumnIndex="2" Type="String" />    <Property Identifier="Email" DisplayName_L1="Email" TargetColumnIndex="7" Type="String" />    <Property Identifier="IsEmailAuthenticationGuestUser" DisplayName_L1="IsEmailAuthenticationGuestUser" TargetColumnIndex="3" Type="String" />    <Property Identifier="IsSiteAdmin" DisplayName_L1="IsSiteAdmin" TargetColumnIndex="4" Type="String" />    <Property Identifier="IsShareByEmailGuestUser" DisplayName_L1="IsShareByEmailGuestUser" TargetColumnIndex="5" Type="String" />    <Property Identifier="Member" DisplayName_L1="Group Members" Type="ForeignKey" />    <Property Identifier="Group" DisplayName_L1="Groups" Type="ForeignKey" />    <Property Identifier="RoleAssignment" DisplayName_L1="Role Assignement" Type="ForeignKey" />  </EntityType>  <EntityType Identifier="SharePoint_Role" DisplayName_L1="SharePoint - Role">    <Property Identifier="Collection" DisplayName_L1="Collection" TargetColumnIndex="3" Type="String" />    <Property Identifier="RoleId" DisplayName_L1="Id" IsKey="true" TargetColumnIndex="5" Type="String" />    <Property Identifier="Name" DisplayName_L1="Name" TargetColumnIndex="4" Type="String" />    <Property Identifier="Description" DisplayName_L1="Description" TargetColumnIndex="1" Type="String" />    <Property Identifier="Permissions" DisplayName_L1="Permissions list" TargetColumnIndex="2" Type="String" />    <Property Identifier="RoleAssignment" DisplayName_L1="Role Assignement" Type="ForeignKey" />  </EntityType>  <EntityType Identifier="SharePoint_Object" DisplayName_L1="SharePoint - Securable Object">    <Property Identifier="Key" DisplayName_L1="Key" IsKey="true" TargetColumnIndex="1" Type="String" />    <Property Identifier="Collection" DisplayName_L1="Collection" TargetColumnIndex="3" Type="String" />    <Property Identifier="Level" DisplayName_L1="Level" TargetColumnIndex="4" Type="String" />    <Property Identifier="Label" DisplayName_L1="Label" TargetColumnIndex="2" Type="String" />    <Property Identifier="ParentKey" DisplayName_L1="Parent" TargetColumnIndex="129" Type="ForeignKey" />    <Property Identifier="Objects" DisplayName_L1="Children" Type="ForeignKey" />    <Property Identifier="ScanStatus" DisplayName_L1="ScanStatus" TargetColumnIndex="5" Type="String" />    <Property Identifier="HasUniqueRoleAssignments" DisplayName_L1="HasUniqueRoleAssignments" TargetColumnIndex="6" Type="String" />    <Property Identifier="RoleAssignment" DisplayName_L1="Role Assignement" Type="ForeignKey" />    <Property Identifier="Inheritance" DisplayName_L1="Inherits entitlements from" Type="ForeignKey" TargetColumnIndex="128" />    <Property Identifier="GiveRights" DisplayName_L1="Gives entitlements to" Type="ForeignKey" />  </EntityType>  <EntityType Identifier="SharePoint_RoleAssignment" DisplayName_L1="SharePoint - Role Assignement">    <Property Identifier="Collection" DisplayName_L1="Collection" TargetColumnIndex="3" Type="String" />    <Property Identifier="Key" DisplayName_L1="Key" IsKey="true" TargetColumnIndex="5" Type="String" />    <Property Identifier="Entity" DisplayName_L1="Entity" Type="ForeignKey" TargetColumnIndex="128"  />    <Property Identifier="Role" DisplayName_L1="Role" Type="ForeignKey" TargetColumnIndex="129" />    <Property Identifier="Object" DisplayName_L1="Object" Type="ForeignKey" TargetColumnIndex="130" />  </EntityType>  ...\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"In this example, we have created four entity types, each one corresponding to a notion in SharePoint."}),"\n",(0,r.jsx)(n.h4,{id:"write-entity-associations",children:"Write entity associations"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"})," types are associated through their navigation properties with ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/metadata/entityassociation/",children:"\nEntity Association\n"})," elements."]}),"\n",(0,r.jsx)(n.h5,{id:"example-4",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityAssociation Identifier="SharePoint_Object_Parent" DisplayName_L1="Parent object" IsProperty1Collection="true" Property1="SharePoint_Object:Objects" Property2="SharePoint_Object:ParentKey" />  <EntityAssociation Identifier="SharePoint_Group_Entity_Id" DisplayName_L1="Entity_Id" IsProperty1Collection="true" IsProperty2Collection="true" Property1="SharePoint_Entity:Member" Property2="SharePoint_Entity:Group" />  <EntityAssociation Identifier="SharePoint_Inheritance_Object" DisplayName_L1="Inheritance_Object" IsProperty1Collection="true" IsProperty2Collection="false" Property1="SharePoint_Object:GiveRights" Property2="SharePoint_Object:Inheritance" />  <EntityAssociation Identifier="SharePoint_Entity_RoleAssignment" DisplayName_L1="SharePoint_RoleAssignment" IsProperty1Collection="false" IsProperty2Collection="true"  Property1="SharePoint_RoleAssignment:Entity" Property2="SharePoint_Entity:RoleAssignment"/>  <EntityAssociation Identifier="SharePoint_Role_RoleAssignment" DisplayName_L1="SharePoint_RoleAssignment" IsProperty1Collection="false" IsProperty2Collection="true" Property1="SharePoint_RoleAssignment:Role" Property2="SharePoint_Role:RoleAssignment" />  <EntityAssociation Identifier="SharePoint_Object_RoleAssignment" DisplayName_L1="SharePoint_RoleAssignment" IsProperty1Collection="false" IsProperty2Collection="true" Property1="SharePoint_RoleAssignment:Object" Property2="SharePoint_Object:RoleAssignment" />  ...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The exact nature of the IDs are described by the associated ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/",children:"\nEntity Association Mapping\n"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Notice the format of the ",(0,r.jsx)(n.strong,{children:"Property1"})," and ",(0,r.jsx)(n.strong,{children:"Property2"})," xml attributes: the name of the entity type is followed by ",(0,r.jsx)(n.code,{children:":"})," and the name of an entity property. It is a ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/metadata/binding/",children:"\nBinding\n"})," describing in one expression, the target entity type and property."]}),"\n",(0,r.jsx)(n.h3,{id:"create-mapping",children:"Create mapping"}),"\n",(0,r.jsx)(n.p,{children:"The entity type must be mapped property by property to the exported attributes of SharePoint objects (namely, the columns of the CSV source files generated by the export)."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/",children:"\nEntity Type Mapping\n"}),", ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/",children:"\nEntity Association Mapping\n"}),", and ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/",children:"\nEntity Type Mapping\n"})," elements serve this purpose."]}),"\n",(0,r.jsx)(n.h4,{id:"entity-type-mapping",children:"Entity type mapping"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/",children:"\nEntity Type Mapping\n"})," element maps the scalar properties from the CSV source file to an entity type."]}),"\n",(0,r.jsxs)(n.p,{children:["The CSV source file path is written to the ",(0,r.jsx)(n.code,{children:"ConnectionTable"})," xml attribute. The target entity type name is written to the ",(0,r.jsx)(n.code,{children:"Identifier"})," xml attribute."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityTypeMapping Identifier="SharePointObject" Connector="SharePoint" ConnectionTable="SharePointExportContoso_Entity">    ...\n</EntityTypeMapping>  ...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["To do so, the entity type mapping element uses the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/",children:"\nEntity Type Mapping\n"})," element with the ",(0,r.jsx)(n.code,{children:"<Property>"})," tag. This maps the CSV column from ",(0,r.jsx)(n.code,{children:"ConnectionColumn"})," to the target EntityType property which is written to the ",(0,r.jsx)(n.strong,{children:"Identifier"})," attribute."]}),"\n",(0,r.jsx)(n.h5,{id:"example-5",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityTypeMapping Identifier="SharePoint_Entity" Connector="SharePoint" ConnectionTable="SharePointExportContoso_Entity">    <Property Identifier="Collection" ConnectionColumn="Collection" />    <Property Identifier="EntityId" ConnectionColumn="Id" IsPrimaryKey="true" />    <Property Identifier="SharePointId" ConnectionColumn="SharePointId" />    <Property Identifier="Name" ConnectionColumn="Name" />    <Property Identifier="Description" ConnectionColumn="Description" />    <Property Identifier="PrincipalType" ConnectionColumn="PrincipalType" />    <Property Identifier="Email" ConnectionColumn="Email" />    <Property Identifier="IsEmailAuthenticationGuestUser" ConnectionColumn="IsEmailAuthenticationGuestUser" />    <Property Identifier="IsSiteAdmin" ConnectionColumn="IsSiteAdmin" />    <Property Identifier="IsShareByEmailGuestUser" ConnectionColumn="IsShareByEmailGuestUser" />  </EntityTypeMapping>  <EntityTypeMapping Identifier="SharePoint_Role" Connector="SharePoint" ConnectionTable="SharePointExportContoso_Role" >    <Property Identifier="Collection" ConnectionColumn="Collection" />    <Property Identifier="RoleId" ConnectionColumn="Id" IsPrimaryKey="true" />    <Property Identifier="Name" ConnectionColumn="Name" />    <Property Identifier="Description" ConnectionColumn="Description" />    <Property Identifier="Permissions" ConnectionColumn="Permissions" IsMultiValuedProperty="true"/>  </EntityTypeMapping>  <EntityTypeMapping Identifier="SharePoint_Object" Connector="SharePoint" ConnectionTable="SharePointExportContoso_SecurableObject" >    <Property Identifier="Key" ConnectionColumn="Key" IsPrimaryKey="true"/>    <Property Identifier="Collection" ConnectionColumn="Collection" />    <Property Identifier="Level" ConnectionColumn="Level" />    <Property Identifier="Label" ConnectionColumn="Label" />    <Property Identifier="ScanStatus" ConnectionColumn="ScanStatus" />    <Property Identifier="HasUniqueRoleAssignments" ConnectionColumn="HasUniqueRoleAssignments" />  </EntityTypeMapping>  <EntityTypeMapping Identifier="SharePoint_RoleAssignment" Connector="SharePoint" ConnectionTable="SharePointExportContoso_RoleAssignment" >    <Property Identifier="Key" ConnectionColumn="Key" IsPrimaryKey="true"/>    <Property Identifier="Collection" ConnectionColumn="Collection" />  </EntityTypeMapping>  ...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["As a result, after synchronization, the ",(0,r.jsx)(n.code,{children:"UR_Resource"})," table will be updated from the CSV source file data."]}),"\n",(0,r.jsx)(n.h4,{id:"entity-association-mapping",children:"Entity association mapping"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/",children:"\nEntity Association Mapping\n"})," element maps the navigation properties used in ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/metadata/entityassociation/",children:"\nEntity Association\n"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["An ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/",children:"\nEntity Association Mapping\n"})," element refers to an ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/metadata/entityassociation/",children:"\nEntity Association\n"}),"written to the ",(0,r.jsx)(n.code,{children:"Identifier"})," xml attribute. Then, like ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/",children:"\nEntity Type Mapping\n"}),", it maps column values from a CSV source file to an EntityType property."]}),"\n",(0,r.jsx)(n.h5,{id:"example-6",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityAssociationMapping Identifier="SharePoint_Object_Parent" Column1="ParentKey" Column2="Key" Connector="SharePoint" ConnectionTable="SharePointExportContoso_SecurableObject" EntityPropertyMapping1="SharePoint_Object:Key" EntityPropertyMapping2="SharePoint_Object:Key" />  <EntityAssociationMapping Identifier="SharePoint_Group_Entity_Id" Column1="Group_Id" Column2="Entity_Id" Connector="SharePoint" ConnectionTable="SharePointExportContoso_GroupMember" EntityPropertyMapping1="SharePoint_Entity:EntityId" EntityPropertyMapping2="SharePoint_Entity:EntityId" />  <EntityAssociationMapping Identifier="SharePoint_Inheritance_Object" Column1="Inheritance_Key" Column2="SecurableObject_Key" Connector="SharePoint" ConnectionTable="SharePointExportContoso_SecurableObjectRightInheritance" EntityPropertyMapping1="SharePoint_Object:Key" EntityPropertyMapping2="SharePoint_Object:Key" />  <EntityAssociationMapping Identifier="SharePoint_Entity_RoleAssignment" Column1="Key" Column2="Entity_Id" Connector="SharePoint" ConnectionTable="SharePointExportContoso_RoleAssignment"  EntityPropertyMapping1="SharePoint_RoleAssignment:Key" EntityPropertyMapping2="SharePoint_Entity:EntityId" />  <EntityAssociationMapping Identifier="SharePoint_Role_RoleAssignment" Column1="Key" Column2="Role_Id" Connector="SharePoint" ConnectionTable="SharePointExportContoso_RoleAssignment" EntityPropertyMapping1="SharePoint_RoleAssignment:Key" EntityPropertyMapping2="SharePoint_Role:RoleId" />  <EntityAssociationMapping Identifier="SharePoint_Object_RoleAssignment" Column1="Key" Column2="SecurableObject_Key" Connector="SharePoint" ConnectionTable="SharePointExportContoso_RoleAssignment" EntityPropertyMapping1="SharePoint_RoleAssignment:Key" EntityPropertyMapping2="SharePoint_Object:Key" />  ...\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"display",children:"Display"}),"\n",(0,r.jsx)(n.p,{children:"This step focuses on configuring a nice display for the synchronized list of resources in the UI."}),"\n",(0,r.jsx)(n.h3,{id:"nav",children:"Nav"}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/user-interface/menuitem/",children:"\nMenu Item\n"})," can be added to include a link to the resources list in the left menu on the UI home screen."]}),"\n",(0,r.jsx)(n.h4,{id:"parent-menu-item",children:"Parent menu item"}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended that you gather synchronized resources menu items under parent menu items. This is usually declared in the ",(0,r.jsx)(n.code,{children:"Nav.xml"})," file in the configuration root folder."]}),"\n",(0,r.jsx)(n.h5,{id:"example-7",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/Nav.xml\n...\n<MenuItem Identifier="Nav_Connectors" DisplayName_L1="Connectors" DisplayName_L2="Connecteurs" ParentMenuItem="Nav" />...\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"child-menu-item",children:"Child menu item"}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended to use a new ",(0,r.jsx)(n.code,{children:"SharePoint Nav.xml"})," file in the ",(0,r.jsx)(n.code,{children:"SharePoint"})," connector's folder to add the SharePoint objects menu item."]}),"\n",(0,r.jsx)(n.h5,{id:"example-8",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Nav.xml\n...\n<MenuItem Identifier="Nav_Connectors_SharePoint_Entity" DisplayName_L1="SharePoint Entities" DisplayName_L2="Entit\ufffds Sharepoint" EntityType="SharePoint_Entity" ParentMenuItem="Nav_Connectors" />...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This example adds a new menu item under the ",(0,r.jsx)(n.code,{children:"Nav_Connectors"})," menu item declared in the root ",(0,r.jsx)(n.code,{children:"Nav.xml"})," file. This new menu item gives access to the list of synchronized SharePoint entities."]}),"\n",(0,r.jsx)(n.h3,{id:"display-1",children:"Display"}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended that the display configuration be written to a new ",(0,r.jsx)(n.code,{children:"SharePoint UI.xml"})," file in the ",(0,r.jsx)(n.code,{children:"SharePoint"})," connector's folder."]}),"\n",(0,r.jsx)(n.h4,{id:"display-entity-type",children:"Display entity type"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/user-interface/displayentitytype/",children:"Display Entity Type"})," describes how a single resource should be displayed."]}),"\n",(0,r.jsx)(n.h5,{id:"example-9",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint UI.xml\n...\n<DisplayEntityType Identifier="SharePoint_Entity">    <Property OutputType="BasicCollection" Identifier="Member" />    <Property OutputType="BasicCollection" Identifier="Group" />    <Property OutputType="BasicCollection" Identifier="RoleAssignment" /></DisplayEntityType><DisplayEntityType Identifier="SharePoint_Role">    <Property OutputType="BasicCollection" Identifier="RoleAssignment" /></DisplayEntityType><DisplayEntityType Identifier="SharePoint_Object">    <Property OutputType="BasicCollection" Identifier="ParentKey" />    <Property OutputType="BasicCollection" Identifier="Objects" />    <Property OutputType="BasicCollection" Identifier="RoleAssignment" />    <Property OutputType="BasicCollection" Identifier="Inheritance" />    <Property OutputType="BasicCollection" Identifier="GiveRights" /></DisplayEntityType><DisplayEntityType Identifier="SharePoint_RoleAssignment">    <Property OutputType="BasicCollection" Identifier="Entity" />    <Property OutputType="BasicCollection" Identifier="Role" />    <Property OutputType="BasicCollection" Identifier="Object" /></DisplayEntityType>...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The scalar properties require no configuration: they are automatically displayed. The only information that the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/user-interface/displayentitytype/",children:"Display Entity Type"})," adds here, is that the property ",(0,r.jsx)(n.code,{children:"BasicCollection"})," is a navigation property. An eye icon will be displayed to take you directly to the matching page."]}),"\n",(0,r.jsx)(n.h4,{id:"display-table",children:"Display table"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/user-interface/displaytable/",children:"Display Table"})," elements describe how a list of resources should be displayed."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/user-interface/displaytable/",children:"Display Table"})," contains a list of display table column elements that identify which properties should be included in the list display."]}),"\n",(0,r.jsx)(n.h5,{id:"example-10",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint UI.xml\n...\n<DisplayTable Identifier="SharePoint_Entity" EntityType="SharePoint_Entity" DisplayTableDesignElement="resourcetable" IsEntityTypeDefault="true">    <Column DefaultSortPriority="1" DisplayBinding="Name" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="4" />    <Column DisplayBinding="Email" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="2" />    <Column DisplayBinding="PrincipalType" IsDisplayInSummaryView="true" IsResizable="true" IsSortable="true" CanBeFiltered="true" ColumnSize="2" /></DisplayTable>...\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"internal-display-name",children:"Internal display name"}),"\n",(0,r.jsxs)(n.p,{children:["An ",(0,r.jsx)(n.code,{children:"InternalDisplayName"})," can also be declared as an ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/entity-model/",children:"Entity Model"}),". The ",(0,r.jsx)(n.code,{children:"InternalDisplayName"})," is used in several UI screens to identify a resource for the user."]}),"\n",(0,r.jsxs)(n.p,{children:["With no custom ",(0,r.jsx)(n.code,{children:"InternalDisplayName"}),", a default value is used (instead of the first property of the identity) containing the string ",(0,r.jsx)(n.em,{children:'"name"'}),". If no such property is found, the first declared property of the entity type is used."]}),"\n",(0,r.jsx)(n.h5,{id:"example-11",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Connector.xml\n...\n<EntityPropertyExpression Identifier="SharePointObject_Entity_InternalDisplayName" Expression="C#:resource:return resource.Name ?? resource.Email ?? resource.Id.ToString();" EntityType="SharePoint_Entity" Property="InternalDisplayName" />  <EntityPropertyExpression Identifier="SharePointObject_Role_InternalDisplayName" Expression="C#:resource:return resource.Name ?? resource.RoleId.ToString();" EntityType="SharePoint_Role" Property="InternalDisplayName" />  <EntityPropertyExpression Identifier="SharePointObject_Object_InternalDisplayName" Expression="C#:resource:return resource.Label ?? resource.Key.ToString();" EntityType="SharePoint_Object" Property="InternalDisplayName" />  <EntityPropertyExpression Identifier="SharePointObject_RoleAssignment_InternalDisplayName" Expression="C#:resource:return resource.Role.Name  + " - " + resource.Entity.Name + " - " + resource.Object.Label ?? resource.Key.ToString();" EntityType="SharePoint_RoleAssignment" Property="InternalDisplayName" />  ...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This example adds the ",(0,r.jsx)(n.code,{children:"InternalDisplayName"})," to the ",(0,r.jsx)(n.code,{children:"SharePoint_Entity"}),", ",(0,r.jsx)(n.code,{children:"SharePoint_Role"}),", ",(0,r.jsx)(n.code,{children:"SharePoint_Object"})," and ",(0,r.jsx)(n.code,{children:"SharePoint_RoleAssignment"})," entity types to be used by the UI."]}),"\n",(0,r.jsx)(n.h3,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsx)(n.p,{children:"This step focuses on setting up permissions for Identity Manager's end-users granting them access to the connector."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/accesscontrolrule/",children:"Access Control Rule"})," and ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/accesscontrolrule/",children:"Access Control Rule"})," elements define ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/accesscontrolpermission/",children:"\nAccessControlPermission\n"})," for end-user profiles to read and write the connector's data (such as resources of a given entity type). It is used by the UI when displaying data such as resources and available roles."]}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended that permissions be written to a new file. For example, the administrator profile permissions can be written to the ",(0,r.jsx)(n.code,{children:"SharePoint Profile Administrator.xml"})," file."]}),"\n",(0,r.jsx)(n.h4,{id:"example-12",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Profile Administrator.xml\n...\n<AccessControlRule Profile="Administrator" EntityType="ResourceType" Identifier="Administrator_ResourceTypeSelector_resourceType_SharePoint" DisplayName_L1="Administrator_ResourceTypeSelector_resourceType_SharePoint">    <Entry Permission="/Custom/Resources/SharePoint_Entity/View" CanExecute="true" />    <Entry Permission="/Custom/Resources/SharePoint_Entity/ResetPassword" CanExecute="true" />  </AccessControlRule>  <AccessControlRule Profile="Administrator" EntityType="Category" Identifier="Administrator_ResourceTypeSelector_category_SharePoint" DisplayName_L1="Administrator_ResourceTypeSelector_category_SharePoint">    <Entry Permission="/Custom/Resources/SharePoint_Entity/View" CanExecute="true" /></AccessControlRule>...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This example sets permissions for the ",(0,r.jsx)(n.code,{children:"Administrator"})," profile."]}),"\n",(0,r.jsxs)(n.p,{children:["It entitles an administrator to display ",(0,r.jsx)(n.code,{children:"SharePoint_Entity"})," resource and role categories from the UI."]}),"\n",(0,r.jsx)(n.h2,{id:"jobs",children:"Jobs"}),"\n",(0,r.jsx)(n.h3,{id:"construction",children:"Construction"}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended to write Jobs associated with the ",(0,r.jsx)(n.code,{children:"SharePoint"})," connector to the ",(0,r.jsx)(n.code,{children:"Conf/SharePoint/SharePoint Jobs.xml"})," file."]}),"\n",(0,r.jsxs)(n.p,{children:["A job is declared with the ",(0,r.jsx)(n.code,{children:"<Job>"})," xml element. It contains Tasks that perform the main steps and other related operations."]}),"\n",(0,r.jsx)(n.h4,{id:"example-13",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Jobs.xml\n...\n<Job Identifier="SharePoint_Synchronization_Delta" DisplayName_L1="10: SharePoint- Synchronization (delta)" DisplayName_L2="10: SharePoint - Synchronisation (delta)" Agent="Local">    ...\n</Job>...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Notice the ",(0,r.jsx)(n.strong,{children:"Agent"})," attribute that contains the name of the Agent which executes the Job. This attribute is mandatory for a Job containing Tasks executed agent-side, even if a unique local Agent exists. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/",children:"appsettings.agent"})," topic for additional information."]}),"\n",(0,r.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,r.jsxs)(n.p,{children:["The",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/synchronization/upward-data-sync/",children:"\nUpward Data Synchronization\n"}),"job includes three steps:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Export"}),"\n",(0,r.jsx)(n.li,{children:"Prepare-Synchro"}),"\n",(0,r.jsx)(n.li,{children:"Synchro"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["These three steps are all contained in a which allows the generation of the Incremental Synchronization configuration. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/configuration/scaffoldings/jobs/createconnectorsynchroincremental/",children:"Create Connector Synchro Incremental"})," topic for additional information."]}),"\n",(0,r.jsx)(n.h4,{id:"example-14",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Jobs.xml\n...\n<CreateConnectorSynchroIncremental Connector="SharePoint" DisplayName_L1="SharePoint Synchronization (delta)" DisplayName_L2="Synchronisation SharePoint (delta)">    <OpenIdIdentifier Identifier="Job"/>  </CreateConnectorSynchroIncremental>...\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"permissions-1",children:"Permissions"}),"\n",(0,r.jsx)(n.p,{children:"The execution of a Job entails execution of Tasks, reading/writing to the Database and sending files over to the Server. These operations are protected by an authorization mechanism."}),"\n",(0,r.jsxs)(n.p,{children:["To complete a Job, the Agent, via the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/executables/references/invoke-job/",children:"\nUsercube-Invoke-Job\n"})," uses:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["a ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/profile/",children:"\nProfile\n"})," associated with the Job itself, to read/write:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"UJ_Jobs"})," and ",(0,r.jsx)(n.code,{children:"UJ_Tasks"})," tables in a list of tasks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"UJ_JobInstances"})," tables in the progress report"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["a Profile for each Task, to read/write ",(0,r.jsx)(n.code,{children:"UJ_TaskInstances"})," tables (Progress Report) and perform other operations such as sending export files over to the Server."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each Profile must be assigned the right permissions for the associated Job or Task to perform."}),"\n",(0,r.jsxs)(n.p,{children:["Every request from Agent to Server within the execution of a Job needs to be authenticated with an ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/openidclient/",children:"\nOpenIdClient\n"})," Connect ClientId/Secret pair, linked to a Profile."]}),"\n",(0,r.jsx)(n.h4,{id:"create-a-profile",children:"Create a profile"}),"\n",(0,r.jsx)(n.p,{children:"Here, we focus on creating one profile, used by the Job and every Task of the Job."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/Profile AgentJob.xml\n...\n<Profile Identifier="AgentSynchro" DisplayName_L1="Agent Synchro" />...\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["As the Principle of Least Privilege states, Netwrix Identity Manager (formerly Usercube)strongly recommends that you create a",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/profile/",children:"\nProfile\n"})," to be used during the Synchronization jobs which will be different from the one used during the Provisioning job. This contributes to separating access rights.",(0,r.jsx)(n.br,{}),"\n","The same principle applied even more rigorously would make Identity Manager\xa0create one profile per Task. It isn't necessary as most Synchronization tasks require the same permissions."]}),"\n",(0,r.jsx)(n.h4,{id:"grant-synchronization-access-rights-to-the-profile",children:"Grant synchronization access rights to the profile"}),"\n",(0,r.jsxs)(n.p,{children:["For an Agent to launch server-side Tasks from the Job via the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/executables/references/invoke-job/",children:"\nUsercube-Invoke-Job\n"})," tool, the profile linked to these tasks and used by the tool should be authorized to execute said tasks."]}),"\n",(0,r.jsx)(n.p,{children:"Server-side Tasks for a simple Synchronization job usually are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prepare-Synchronization"}),"\n",(0,r.jsx)(n.li,{children:"Synchronization"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Required permissions are:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"View Tasks"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/Task/Query"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Progress Report"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/JobInstance/Query"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/JobInstance/Update"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/TaskInstance/Query"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/TaskInstance/Update"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Synchronization and Prepare-Synchronization"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Connectors/Connector/Query"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Connectors/SynchronizeSession"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Granting access can be done via the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/configuration/scaffoldings/accesscontrolrules/jobs/synchronizationaccesscontrolrules/",children:"\nSynchronization Access Control Rules\n"})," and the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/configuration/scaffoldings/templates/jobviewaccesscontrolrules/",children:"\nJob View Access Control Rules\n"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The following examples should be written to ",(0,r.jsx)(n.code,{children:"Conf/Profile AgentSychro.xml"}),"."]}),"\n",(0,r.jsx)(n.h5,{id:"example-15",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:"The following example entitles the administrator to run any Synchronization job:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{})}),"\n",(0,r.jsx)(n.h4,{id:"grant-end-users-permissions-to-run-jobs-from-the-ui",children:"Grant end-users permissions to run jobs from the UI"}),"\n",(0,r.jsx)(n.p,{children:"In addition, for end-users to be able to launch a job from the UI, they must be assigned a profile with the following access rights:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/Jobs/RunJob/Launch"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This can be done via the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/configuration/scaffoldings/templates/jobexecutionaccesscontrolrules/",children:"\nJob Execution Access Control Rules\n"})," scaffolding."]}),"\n",(0,r.jsx)(n.h5,{id:"example-16",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n\n\n"})}),"\n",(0,r.jsx)(n.h4,{id:"declare-usable-clientidsecret-pairs-in-the-configuration",children:"Declare usable ClientId/Secret pairs in the configuration"}),"\n",(0,r.jsxs)(n.p,{children:["An Agent's a",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/profile/",children:"\nProfile\n"}),"is associated with a ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pair used by the Agent to authenticate to the Server."]}),"\n",(0,r.jsxs)(n.p,{children:["Usable ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pairs are written to the database from the xml configuration using the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/access-control/openidclient/",children:"\nOpenIdClient\n"})," xml element."]}),"\n",(0,r.jsxs)(n.p,{children:["It is strongly recommended to write the ",(0,r.jsx)(n.code,{children:"<OpenIdClient>"})," xml element to a new or existing ",(0,r.jsx)(n.code,{children:"OpenIdClients.xml"})," file in the configuration root folder."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pair hence created must be associated with the profile created or updated in the previous step, via the ",(0,r.jsx)(n.strong,{children:"Profile"})," attribute."]}),"\n",(0,r.jsx)(n.h5,{id:"example-17",children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(n.p,{children:["The following example creates a ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pair to be used by the Agent to authenticate to the Server and complete Jobs. The secret is hashed with the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/executables/references/new-openidsecret/",children:"\nUsercube-New-OpenIDSecret\n"}),"tool."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/OpenIdClients.xml\n...\n<OpenIdClient Identifier="Job" HashedSecret="K7gNU3sdo+Op8wNhqoVWhr5v6s1xYv72ol/pe/Unols=" DisplayName_L1="ClientId for Jobs" DisplayName_L2="ClientId pour les jobs" Profile="Administrator" />\n...\n\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/OpenIdClients.xml\n...\n<OpenIdClient Identifier="Job" HashedSecret="K7gNU3sdo+Op8wNhqoVWhr5v6s1xYv72ol/pe/Unols=" DisplayName_L1="ClientId for Jobs" DisplayName_L2="ClientId pour les jobs" Profile="Administrator" />\n...\n\n'})}),"\n",(0,r.jsx)(n.h4,{id:"set-up-the-agent-to-use-clientidsecret-pairs",children:"Set up the Agent to use ClientId/Secret pairs"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pairs that the Agent may use are written to the Agent's ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/",children:"appsettings.agent"})," technical configuration set."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ClientId"})," of such ",(0,r.jsx)(n.code,{children:"ClientId/Secret"})," pairs can then be used as a value in a Task ",(0,r.jsx)(n.strong,{children:"OpenIdClient"})," attribute."]}),"\n",(0,r.jsxs)(n.p,{children:["Pairs written in the ",(0,r.jsx)(n.code,{children:"OpenIdClient"})," section may be used by Tasks."]}),"\n",(0,r.jsxs)(n.p,{children:["The Job itself uses the ",(0,r.jsx)(n.code,{children:"DefaultOpenIdClient"})," value."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:'This example sets the "Job/secret" pair to be used by tasks and jobs:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"OpenId":{\n"OpenIdClients": {\n"Job": "secret"\n},\n"DefaultOpenIdClient": "Job"\n}\n}\n\n'})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"job-launch",children:"Job launch"}),"\n",(0,r.jsx)(n.p,{children:"Scheduling the job execution can rely either on Identity Manager's scheduler or an external scheduler."}),"\n",(0,r.jsx)(n.h4,{id:"with-scheduler",children:"With Scheduler"}),"\n",(0,r.jsxs)(n.p,{children:["Use the Job ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/jobs/job/",children:"\nJob\n"})," attribute."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["This example uses Identity Manager's scheduler to execute the ",(0,r.jsx)(n.code,{children:"SharePoint_Synchronization_Delta"})," job every fifteen minutes:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n    Conf/SharePoint/SharePoint Jobs.xml\n<Job Identifier="SharePoint_Synchronization_Delta" CronTabExpression="*/15 * * * *quot; DisplayName_L1="10: SharePoint - Synchronization (delta)" DisplayName_L2="10: SharePoint - Synchronisation (delta)" Agent="Local">   ...\n</Job>\n\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For more details about checking Crontab expressions, see the ",(0,r.jsx)(n.a,{href:"https://crontab.guru/every-15-minutes",children:"crontab.guru"})," website."]}),"\n",(0,r.jsx)(n.h4,{id:"with-an-external-scheduler",children:"With an external scheduler"}),"\n",(0,r.jsxs)(n.p,{children:["An external scheduler would rely on the",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/executables/references/invoke-job/",children:"\nUsercube-Invoke-Job\n"})," tool."]}),"\n",(0,r.jsx)(n.h5,{id:"example-18",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:["The following command can be scheduled. It executes the ",(0,r.jsx)(n.code,{children:"SharePoint_Synchronization_Delta"}),' job using the "Job/Secret" authentication pair to connect to the Identity Manager\xa0Server at ',(0,r.jsx)(n.code,{children:"http://usercube.contoso.com"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n./Usercube-Invoke-Job.exe -j "SharePoint_Synchronization_Delta" --api-secret secret --api-client-id Job --api-url "http://usercube.contoso.com"\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"validation",children:"Validation"}),"\n",(0,r.jsx)(n.h3,{id:"deploy-configuration",children:"Deploy configuration"}),"\n",(0,r.jsxs)(n.p,{children:["The configuration is written to the database using the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/server/deployconfigurationtask/",children:"\nDeploy Configuration Task\n"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,r.jsxs)(n.p,{children:["The Synchronization job should be found in the UI, under the ",(0,r.jsx)(n.strong,{children:"Job Execution"})," menu, with the name input in the Job's ",(0,r.jsx)(n.strong,{children:"DisplayName_Li"})," attribute."]}),"\n",(0,r.jsx)(n.p,{children:"From there, it can be launched and debugged (if needed)."}),"\n",(0,r.jsxs)(n.p,{children:["After execution, SharePoint Objects resources should be in the ",(0,r.jsx)(n.code,{children:"UR_Resources"})," table of the SQL Server database."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);