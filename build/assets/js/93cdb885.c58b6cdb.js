"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[290781],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var o=t(296540);const a={},r=o.createContext(a);function l(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),o.createElement(r.Provider,{value:n},e.children)}},253256:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"auditor/configuration/oracle/wallet","title":"Create and Configure Oracle Wallet","description":"Oracle Wallet is a file that stores database authentication and signing credentials. It allows users to securely access databases without providing credentials to third-party software (for example, Netwrix Auditor), and easily connect to Oracle products, including located in the clouds (e.g. Autonomous Data Warehouse).","source":"@site/docs/auditor/auditor/configuration/oracle/wallet.md","sourceDirName":"auditor/configuration/oracle","slug":"/auditor/configuration/oracle/wallet","permalink":"/docs/auditor/auditor/configuration/oracle/wallet","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/oracle/wallet.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Verify Your Oracle Database Audit Settings","permalink":"/docs/auditor/auditor/configuration/oracle/verifysettings"},"next":{"title":"Data Source Configuration","permalink":"/docs/auditor/auditor/configuration/overview"}}');var a=t(474848),r=t(28453);const l={},i="Create and Configure Oracle Wallet",s={},c=[{value:"Create Oracle Wallet",id:"create-oracle-wallet",level:2},{value:"Install Oracle Instant Client",id:"install-oracle-instant-client",level:2},{value:"Configure Oracle Instant Client for HTTP Proxy Connections",id:"configure-oracle-instant-client-for-http-proxy-connections",level:2},{value:"Update Existing Oracle Client Installation",id:"update-existing-oracle-client-installation",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"create-and-configure-oracle-wallet",children:"Create and Configure Oracle Wallet"})}),"\n",(0,a.jsx)(n.p,{children:"Oracle Wallet is a file that stores database authentication and signing credentials. It allows users to securely access databases without providing credentials to third-party software (for example, Netwrix Auditor), and easily connect to Oracle products, including located in the clouds (e.g. Autonomous Data Warehouse)."}),"\n",(0,a.jsxs)(n.p,{children:["A configured Wallet consists of two files, ",(0,a.jsx)(n.code,{children:"cwallet.sso"})," and ",(0,a.jsx)(n.code,{children:"ewallet.p12"})," stored in a secure Wallet directory"]}),"\n",(0,a.jsx)(n.h2,{id:"create-oracle-wallet",children:"Create Oracle Wallet"}),"\n",(0,a.jsx)(n.p,{children:"There are multiple methods to create Oracle Wallet files. For example:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Using Oracle Wallet Manager. Refer to the following Oracle help article for more information: ",(0,a.jsx)(n.a,{href:"https://docs.oracle.com/database/121/DBIMI/walet.htm#creating-a-new-oracle-wallet",children:"Creating a New Oracle Wallet"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Using a console. As an example, refer to the following Oracle help article for WebLogic JDBC: ",(0,a.jsx)(n.a,{href:"https://docs.oracle.com/middleware/1213/wls/JDBCA/oraclewallet.htm#creating-and-managing-oracle-wallet",children:"Creating and Managing Oracle Wallet"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Using other Oracle products. For example, Autonomous Data Warehouse. Refer to the following Oracle help article for more information: ",(0,a.jsx)(n.a,{href:"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/user/connect-download-wallet.html#download-client-credentials-wallets",children:"Download Client Credentials (Wallets)"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"install-oracle-instant-client",children:"Install Oracle Instant Client"}),"\n",(0,a.jsxs)(n.p,{children:["To perform clear install of Oracle Instant Client, follow the instructions below. If you have Oracle Client installed, see the ",(0,a.jsx)(n.a,{href:"#Update-Existing-Oracle-Client-Installation",children:"Update Existing Oracle Client Installation"})," topic for additional information."]}),"\n",(0,a.jsx)(n.p,{children:"Follow the steps to install Oracle Instant Client"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 1 \u2013"})," Download the appropriate package from Oracle website: ",(0,a.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/instant-client/downloads.html",children:"Instant Client Packages"}),". Netwrix recommends installing the latest available version but the product is compatible with version 12 and above."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 2 \u2013"})," Download client credentials and store the file in a secure location. See ",(0,a.jsx)(n.a,{href:"https://docs.oracle.com/en/cloud/paas/atp-cloud/atpug/connect-download-wallet.html#download-client-credentials-wallets",children:"Download Client Credentials (Wallets)"})," for more information."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 3 \u2013"})," Unzip your credentials file into a secure location."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 4 \u2013"})," Navigate to a folder where you unzipped your credentials and locate the sqlnet.ora file."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 5 \u2013"})," Replace the ",(0,a.jsx)(n.code,{children:'"?/network/admin"'})," parameter with the name of the folder containing client credentials. For example:"]}),"\n",(0,a.jsx)(n.p,{children:"Windows-based platforms:"}),"\n",(0,a.jsx)(n.p,{children:'WALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY="D:\\myapp\\atp_credentials")))'}),"\n",(0,a.jsx)(n.p,{children:"SSL_SERVER_DN_MATCH=yes"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 6 \u2013"})," Create the ",(0,a.jsx)(n.code,{children:"TNS_ADMIN"})," environment variable and set it to the location of the credentials file."]}),"\n",(0,a.jsxs)(n.p,{children:["This variable is used to change the directory path of Oracle Net Services configuration files from the default location of ",(0,a.jsx)(n.code,{children:"ORACLE_HOME\\network\\admin"})," to the location of the secure folder containing the credentials file you saved in Step 2. Set the ",(0,a.jsx)(n.code,{children:"TNS_ADMIN"})," environment variable to the directory where the unzipped credentials files are, not to the credentials file itself."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 7 \u2013"})," Navigate to a folder where you unzipped your credentials and locate the tnsnames.ora file. The file is used to map connection information for each Oracle service to a logical alias."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Step 8 \u2013"})," Review sample tnsnames.ora file where ",(0,a.jsx)(n.code,{children:"myOracle"})," \u2013 is a logical alias for the wallet:"]}),"\n",(0,a.jsx)(n.p,{children:"myOracle ="}),"\n",(0,a.jsx)(n.p,{children:"(description="}),"\n",(0,a.jsx)(n.p,{children:"(address=((ADDRESS = (PROTOCOL = TCP)(HOST = server1)(PORT = 1521))"}),"\n",(0,a.jsx)(n.p,{children:"(CONNECT_DATA ="}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n",(0,a.jsx)(n.p,{children:"Keep in mind that the wallet alias in the configuration file must equal to Netwrix Auditor item name."}),"\n",(0,a.jsx)(n.h2,{id:"configure-oracle-instant-client-for-http-proxy-connections",children:"Configure Oracle Instant Client for HTTP Proxy Connections"}),"\n",(0,a.jsxs)(n.p,{children:["If the client is behind a firewall and your network configuration requires an HTTP proxy to connect to the internet, perform the following steps to update the ",(0,a.jsx)(n.code,{children:"sqlnet.ora"})," and ",(0,a.jsx)(n.code,{children:"tnsnames.ora"})," files."]}),"\n",(0,a.jsx)(n.p,{children:"HTTP proxy connections are available starting with Oracle Instant Client 12.2.0.1 or later."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Add the following line to the ",(0,a.jsx)(n.code,{children:"sqlnet.ora"})," file to enable connections through an HTTP proxy:"]}),"\n",(0,a.jsx)(n.p,{children:"SQLNET.USE_HTTPS_PROXY=on"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Open the ",(0,a.jsx)(n.code,{children:"tnsnames.ora."})," file and add the following HTTP proxy connection definitions:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"https_proxy"})," \u2014 specify the proxy server hostname. For example, ",(0,a.jsx)(n.code,{children:"proxyhostname"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"https_proxy_port "}),"\u2014 specify port used for HTTP proxy connection. For example, ",(0,a.jsx)(n.code,{children:"80"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Review configuration example:"}),"\n",(0,a.jsx)(n.p,{children:"ATPC_high ="}),"\n",(0,a.jsx)(n.p,{children:"(description="}),"\n",(0,a.jsx)(n.p,{children:"(address="}),"\n",(0,a.jsx)(n.p,{children:"(https_proxy=proxyhostname)(https_proxy_port=80)(protocol=tcps)(port=1522)(host=atpc.example.oraclecloud.com)"}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n",(0,a.jsx)(n.p,{children:"(connect_data=(service_name=atpc1_high.atpc.oraclecloud.com)"}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n",(0,a.jsx)(n.p,{children:'(security=(ssl_server_cert_dn="atpc.example.oraclecloud.com,OU=Oracle BMCS US,O=Oracle Corporation,L=Redwood City,ST=California,C=US")'}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n",(0,a.jsx)(n.p,{children:")"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Configuring ",(0,a.jsx)(n.code,{children:"sqlnet.ora"})," and",(0,a.jsx)(n.code,{children:" tnsnames.ora"})," for the HTTP proxy may not be enough depending on your organization's network configuration and security policies. For example, some networks require a username and password for the HTTP proxy. In such cases, contact your network administrator to open outbound connections to hosts in the oraclecloud.com domain using port ",(0,a.jsx)(n.code,{children:"1522 "}),"without going through an HTTP proxy."]}),"\n",(0,a.jsx)(n.h2,{id:"update-existing-oracle-client-installation",children:"Update Existing Oracle Client Installation"}),"\n",(0,a.jsxs)(n.p,{children:["Netwrix assumes that you have ",(0,a.jsx)(n.code,{children:"sqlnet.ora"})," and ",(0,a.jsx)(n.code,{children:"tnsnames.ora"})," files and the ",(0,a.jsx)(n.code,{children:"TNS_ADMIN "}),"environment variable."]}),"\n",(0,a.jsx)(n.p,{children:"Do the following:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Update your sqlnet.ora file. Example:"}),"\n",(0,a.jsx)(n.p,{children:'WALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY="/home/atpc_credentials")))'}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Copy the entries in the ",(0,a.jsx)(n.code,{children:"tnsnames.ora"})," file provided in the Autonomous Transaction Processing wallet to your existing ",(0,a.jsx)(n.code,{children:"tnsnames.ora"})," file."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"See also:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["For information about using Oracle Wallet with monitoring plans, see the ",(0,a.jsx)(n.a,{href:"/docs/auditor/auditor/admin/monitoringplans/oracle/overview",children:"Oracle monitoring plan documentation"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);