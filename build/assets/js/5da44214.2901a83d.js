"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9742],{28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(296540);const r={},o=s.createContext(r);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}},367297:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"usercube/integration-guide/executables/references/protect-x509jsonvalue/index","title":"Usercube-Protect-X509JsonValue","description":"This tool is used to encrypt sensitive connection data, for example data from the `appsettings.agent.json` file, with [","source":"@site/docs/usercube/usercube/integration-guide/executables/references/protect-x509jsonvalue/index.md","sourceDirName":"usercube/integration-guide/executables/references/protect-x509jsonvalue","slug":"/usercube/integration-guide/executables/references/protect-x509jsonvalue/","permalink":"/docs/usercube/usercube/integration-guide/executables/references/protect-x509jsonvalue/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube/usercube/integration-guide/executables/references/protect-x509jsonvalue/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSidebar","previous":{"title":"Usercube-Protect-X509JsonFile","permalink":"/docs/usercube/usercube/integration-guide/executables/references/protect-x509jsonfile/"},"next":{"title":"Usercube-RefreshSchema","permalink":"/docs/usercube/usercube/integration-guide/executables/references/refreshschema/"}}');var r=t(474848),o=t(28453);const c={},i="Usercube-Protect-X509JsonValue",a={},l=[{value:"Examples",id:"examples",level:2},{value:"Arguments",id:"arguments",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"usercube-protect-x509jsonvalue",children:"Usercube-Protect-X509JsonValue"})}),"\n",(0,r.jsxs)(n.p,{children:["This tool is used to encrypt sensitive connection data, for example data from the ",(0,r.jsx)(n.code,{children:"appsettings.agent.json"})," file, with ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/rsa-encryption/",children:"\nRSA Encryption\n"}),". The encryption is based on the information given in your ",(0,r.jsx)(n.code,{children:"appsettings.json"})," file about either a PFX file or the location of the encryption certificate in the Microsoft store. See the ",(0,r.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/server-configuration/general-purpose/",children:"Application Settings"})," topic for additional information."]}),"\n",(0,r.jsxs)(n.p,{children:["This tool ",(0,r.jsx)(n.code,{children:"Usercube-Protect-X509JsonValue"})," is used to encrypt only given values, in comparison to the",(0,r.jsx)(n.a,{href:"#Usercube-Protect-X509JsonValue",children:"\nUsercube-Protect-X509JsonValue\n"})," tool that encrypts a whole file. This tool is more appropriate than ",(0,r.jsx)(n.code,{children:"Usercube-Protect-X509JsonFile"})," when you have only a few lines to encrypt."]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.p,{children:["The command below encrypts the task agent configuration ",(0,r.jsx)(n.code,{children:"0"})," and the OpenId Client ",(0,r.jsx)(n.code,{children:"secret"})," used in the ",(0,r.jsx)(n.code,{children:"appsettings.agent.json"})," file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\n./Usercube-Protect-X509JsonValue.exe --values "0" "secret"\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"As a response, the powershell returns one string per given value."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\nPS C:/UsercubeTraining/Runtime> ./Usercube-Protect-X509JsonValue.exe --values "0" "secret"\nkxABACJhXxJwnGJSug/nE6ODGGYwnzhX1WeYUHmS7gkMLpF15K7POOZAVWsl93zuYaVStPK0sV+U6mOE4h5IzbT083Uac+/NKic+qNZLYi4PRum+G17pIeSMBu3z7GQJxGGkAeX7dwf0kc/oDW5yAQ1BtFN+k27UHZkUrz0fe/eOZwTHbgV5sSUM+6pXW6IQd2VnVRRKLyWij0MAKsCNlHtv6QE73b8P8u7liRdzWOueqE2blAZk0rm0JzFxZlUQKgIMBTk2cuFWph7rp8dp8h8mDKJl9xbYzAtmM/rgXuhcMYryIrlqFeBWt1J65cfL7HNQb6OX7Imb2LQZmZMI2xc1gFyiXjeINeMriYm3zecnSBMiYEGW6RddE6doJOtrTyznrg==\nkxABAJT+2u1C1r0JI8criUz15QkI71x6/BPeNMlPWEL5ZHkTvZWVnMLG/zNJz9PvnjfecROC4fkxPRI5U+sF8W1caH8DtxnzM0ctYD0QtRcpS9z48y2mUzOzl3pU68BQyosyZGZW0ifXVI9UJVGMzMTfWloCw+R+xfZHviYLVGT8y2PKkCBdNp7IcZN4qT6mq8AmTIMSgwagR854n1EHn8lT5nUUFmhZ7iIJ/sonEVG4uyTAjND9YXSsfL9dm2ipTzXrybruIkVU051aczdohreMRsfeSB6TDAYa3GEMNeAb3CzI5I/6NpKYEzZEoYu4JXAzE6bqHeK2oVJyrmTL11kwq4m9fTMwlwmB0GaPeJtbQoih6TIX2qlOPfQdsrZt0dl5qw==\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"Then you just need to copy and paste them."}),"\n",(0,r.jsxs)(n.p,{children:['The following example shows how to update the OpenId ClientSecret matching the "ContosoCharlotte" OpenId ClientId in the ',(0,r.jsx)(n.code,{children:"appsettings.encrypted.agent.json"})," file."]}),"\n",(0,r.jsxs)(n.p,{children:["The initial ",(0,r.jsx)(n.code,{children:"appsettings.encrypted.agent.json"})," file resembles the following:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'appsettings.encrypted.agent.json before update\n{\n  ...\n  "OpenId": {\n    "OpenIdClients": {\n      "ContosoCharlotte": "dKIHkloXG6i1LkxkhjkKoVKS9gFO7Hx8VUm"\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The new ClientSecret to encrypt is ",(0,r.jsx)(n.em,{children:"charlotte2028"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Using the ",(0,r.jsx)(n.code,{children:"Usercube-Protect-X509JsonValue.exe"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"./Usercube-Protect-X509JsonValue.exe --values charlotte2028\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"--values"})," parameter also accepts multiple white-space-separated values for encryption."]}),"\n",(0,r.jsxs)(n.p,{children:["The output, in the console, shows the encrypted value for the ",(0,r.jsx)(n.em,{children:"charlotte2028"})," string."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\nkxABABJR7wYaQIqNjHT/rhYVMp5Vmsao7/eBLb7JCIiHMOKbi2sC0dY0SAJgj50NQ0kEH5LS3Y3TYso98+IdnxAzpURrtNu/LUWCJo1kTLM/taygebc0MK4XbkFmWzEgzLcVhAIy8GyFgEWqgNhOx7vwSPXFRrhQTVqIjwO0QNqxlZ5s6uyQm5fk9es2o6aLL0xwbvqspReFxZwuHrguAoIvkBnaKSsDfTLSuheP6VN7yOglLHvZ8Sn9R42M2BpG/dKIHXG6i1LkxkKoVKS9gFO7Hx8VUmYgxG+qIKTRVHdpMctqWKNUJTsQkmRKs+S3qiA2mgK/iC/dp923TfigAnBLWtyXw8eKDJjZ+s6n878BIf55iEjpgOrbm5FLzj8dfqPhQw==\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The last step is to update the ",(0,r.jsx)(n.code,{children:"appsettings.encrypted.agent.json"})," file by copy/pasting this new encrypted value to replace the old one. It results in:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'appsettings.encrypted.agent.json after update\n{\n  "OpenId": {\n    "OpenIdClients": {\n      "ContosoCharlotte": "kxABABJR7wYaQIqNjHT/rhYVMp5Vmsao7/eBLb7JCIiHMOKbi2sC0dY0SAJgj50NQ0kEH5LS3Y3TYso98+IdnxAzpURrtNu/LUWCJo1kTLM/taygebc0MK4XbkFmWzEgzLcVhAIy8GyFgEWqgNhOx7vwSPXFRrhQTVqIjwO0QNqxlZ5s6uyQm5fk9es2o6aLL0xwbvqspReFxZwuHrguAoIvkBnaKSsDfTLSuheP6VN7yOglLHvZ8Sn9R42M2BpG/dKIHXG6i1LkxkKoVKS9gFO7Hx8VUmYgxG+qIKTRVHdpMctqWKNUJTsQkmRKs+S3qiA2mgK/iC/dp923TfigAnBLWtyXw8eKDJjZ+s6n878BIf55iEjpgOrbm5FLzj8dfqPhQw=="\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Details"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"--values   required"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"Type"}),"    String   ",(0,r.jsx)(n.strong,{children:"Description"})," List of values to encrypt."]})]})})]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);