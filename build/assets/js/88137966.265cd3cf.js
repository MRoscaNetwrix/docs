"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[775119],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var i=r(296540);const t={},o=i.createContext(t);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(o.Provider,{value:n},e.children)}},388036:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"auditor/configuration/fileservers/windows/ports","title":"Windows File Server Ports","description":"Review a full list of Windows File Server protocols and ports required for Netwrix Auditor for File Servers.","source":"@site/docs/auditor/auditor/configuration/fileservers/windows/ports.md","sourceDirName":"auditor/configuration/fileservers/windows","slug":"/auditor/configuration/fileservers/windows/ports","permalink":"/docs/auditor/auditor/configuration/fileservers/windows/ports","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/fileservers/windows/ports.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Permissions for Windows File Server Auditing","permalink":"/docs/auditor/auditor/configuration/fileservers/windows/permissions"},"next":{"title":"Enable Remote Registry Service","permalink":"/docs/auditor/auditor/configuration/fileservers/windows/remoteregistryservice"}}');var t=r(474848),o=r(28453);const s={},d="Windows File Server Ports",l={},c=[{value:"Configure Windows Firewall Inbound Connection Rules",id:"configure-windows-firewall-inbound-connection-rules",level:2}];function a(e){const n={h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"windows-file-server-ports",children:"Windows File Server Ports"})}),"\n",(0,t.jsx)(n.p,{children:"Review a full list of Windows File Server protocols and ports required for Netwrix Auditor for File Servers."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allow outbound connections from the dynamic (1024 - 65535) local port on the computer where Netwrix Auditor Server resides."}),"\n",(0,t.jsx)(n.li,{children:"Allow outbound connections to remote ports on the source and inbound connections to local ports on the target."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Tip for reading the table: For example, on the computer where Netwrix Auditor Server resides (source), allow outbound connections to remote 389 TCP port. On domain controllers in your domain (target), allow inbound connections to local 389 TCP port."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Port"}),(0,t.jsx)(n.th,{children:"Protocol"}),(0,t.jsx)(n.th,{children:"Source"}),(0,t.jsx)(n.th,{children:"Target"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Windows File Servers"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"389"}),(0,t.jsx)(n.td,{children:"TCP/UDP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Domain controllers"}),(0,t.jsx)(n.td,{children:"LDAP  DC query  Account resolve"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"135  + Dynamic:  1024 -65535"}),(0,t.jsx)(n.td,{children:"TCP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"Windows Management Instrumentation  Firewall configuration  Network Traffic Compression Service communication"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"135"}),(0,t.jsx)(n.td,{children:"TCP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"Service Control Manager Remote Protocol (Network Traffic Compression Service) installation"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"137"}),(0,t.jsx)(n.td,{children:"UDP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"File and Printer Sharing (NetBIOS Name Resolution)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"138"}),(0,t.jsx)(n.td,{children:"UDP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"File and Printer Sharing (NetBIOS Datagram Service)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"139"}),(0,t.jsx)(n.td,{children:"TCP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"File and Printer Sharing (NetBIOS Session Service)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"445"}),(0,t.jsx)(n.td,{children:"TCP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Monitored computer"}),(0,t.jsx)(n.td,{children:"SMB 2.0/3.0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"3268"}),(0,t.jsx)(n.td,{children:"TCP"}),(0,t.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,t.jsx)(n.td,{children:"Domain controllers"}),(0,t.jsx)(n.td,{children:"LDAP  Group membership  GC search"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"configure-windows-firewall-inbound-connection-rules",children:"Configure Windows Firewall Inbound Connection Rules"}),"\n",(0,t.jsx)(n.p,{children:"You can also configure Windows Firewall settings through Group Policy settings. To do this, edit the GPO affecting your firewall settings. Navigate to Computer Configuration > Administrative Templates > Network >Network Connections > Windows Firewall, select Domain Profile or Standard Profile. Then, enable the Allow inbound remote administration exception."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," On each audited server, navigate to ",(0,t.jsx)(n.strong,{children:"Start"})," > ",(0,t.jsx)(n.strong,{children:"Control Panel"})," and select ",(0,t.jsx)(n.strong,{children:"Windows Firewall"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," In the Help Protect your computer with Windows Firewall page, click ",(0,t.jsx)(n.strong,{children:"Advanced settings"})," on the left."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," In the Windows Firewall with Advanced Security dialog, select ",(0,t.jsx)(n.strong,{children:"Inbound Rules"})," on the left."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"manualconfig_nla_inbound_connections2016",src:r(788595).A+"",width:"974",height:"188"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," Enable the following inbound connection rules:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Remote Event Log Management (NP-In)"}),"\n",(0,t.jsx)(n.li,{children:"Remote Event Log Management (RPC)"}),"\n",(0,t.jsx)(n.li,{children:"Remote Event Log Management (RPC-EPMAP)"}),"\n",(0,t.jsx)(n.li,{children:"Windows Management Instrumentation (ASync-In)"}),"\n",(0,t.jsx)(n.li,{children:"Windows Management Instrumentation (DCOM-In)"}),"\n",(0,t.jsx)(n.li,{children:"Windows Management Instrumentation (WMI-In)"}),"\n",(0,t.jsx)(n.li,{children:"Network Discovery (NB-Name-In)"}),"\n",(0,t.jsx)(n.li,{children:"File and Printer Sharing (NB-Name-In)"}),"\n",(0,t.jsx)(n.li,{children:"File and Printer Sharing (Echo Request - ICMPv4-In)"}),"\n",(0,t.jsx)(n.li,{children:"File and Printer Sharing (Echo Request - ICMPv6-In)"}),"\n",(0,t.jsx)(n.li,{children:"Remote Service Management (NP-In)"}),"\n",(0,t.jsx)(n.li,{children:"Remote Service Management (RPC)"}),"\n",(0,t.jsx)(n.li,{children:"Performance Logs and Alerts (DCOM-In)"}),"\n",(0,t.jsx)(n.li,{children:"Performance Logs and Alerts (Tcp-In)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},788595:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/manualconfig_nla_inbound_connections2016-87b2fe15877e67bd1dd82b3d5df9c581.webp"}}]);