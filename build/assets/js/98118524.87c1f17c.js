"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[156525],{28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>a});var i=n(296540);const t={},o=i.createContext(t);function r(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:s},e.children)}},152316:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/sqljobgroup6-53e06bda48e98c027032211e9fb47b5a.webp"},372746:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/sqljobgroup8-256366df32ec348739db5e240079fa6c.webp"},530794:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"enterpriseauditor/solutions/databases/sql/collection/sql_permissionsscan","title":"1-SQL\\\\_PermissionsScan","description":"The 1-SQL\\\\_PermissionsScan Job collects SQL server instance and database level permissions from targeted servers.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/collection/1-sql_permissionsscan.md","sourceDirName":"enterpriseauditor/solutions/databases/sql/collection","slug":"/enterpriseauditor/solutions/databases/sql/collection/sql_permissionsscan","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/collection/sql_permissionsscan","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/collection/1-sql_permissionsscan.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"0-SQL\\\\_InstanceDiscovery Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/collection/sql_instancediscovery"},"next":{"title":"2-SQL\\\\_SensitiveDataScan Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/databases/sql/collection/sql_sensitivedatascan"}}');var t=n(474848),o=n(28453);const r={},a="1-SQL_PermissionsScan",c={},l=[{value:"Queries for the 1-SQL_PermissionsScan Job",id:"queries-for-the-1-sql_permissionsscan-job",level:2},{value:"Configure the PermissionsScan Query",id:"configure-the-permissionsscan-query",level:3},{value:"Analysis Tasks for the 1-SQL_PermissionScan Job",id:"analysis-tasks-for-the-1-sql_permissionscan-job",level:2}];function d(e){const s={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"1-sql_permissionsscan",children:"1-SQL_PermissionsScan"})}),"\n",(0,t.jsx)(s.p,{children:"The 1-SQL_PermissionsScan Job collects SQL server instance and database level permissions from targeted servers."}),"\n",(0,t.jsx)(s.h2,{id:"queries-for-the-1-sql_permissionsscan-job",children:"Queries for the 1-SQL_PermissionsScan Job"}),"\n",(0,t.jsx)(s.p,{children:"The 1-SQL_PermissionsScan Job uses the SQL Data Collector for the following query:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Query Selection",src:n(152316).A+"",width:"820",height:"242"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["PermissionsScan \u2013 Collects permissions from targeted instances","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["(Optional) This query can be modified to target specific databases/instances. See the ",(0,t.jsx)(s.a,{href:"#configure-the-permissionsscan-query",children:"Configure the PermissionsScan Query"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"configure-the-permissionsscan-query",children:"Configure the PermissionsScan Query"}),"\n",(0,t.jsx)(s.p,{children:"The 1-SQL_PermissionScan Job is preconfigured to run using the default settings within the Permissions Collection category. Follow the steps to customize configurations."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 1 \u2013"})," Navigate to the ",(0,t.jsx)(s.strong,{children:"Databases"})," > 0.Collection >\xa0SQL > 1-SQL_PermissionsScan > Configure node and select Queries."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 2 \u2013"})," In the Query Selection view, select the PermissionsScan query and click on Query Properties. The Query Properties window appears."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 3 \u2013"})," Select the Data Source tab and click Configure. The SQL Data Collector Wizard opens."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"CAUTION:"})," Do not make changes to other wizard pages as they have been pre-configured for this job."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Filters",src:n(661175).A+"",width:"779",height:"695"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 4 \u2013"})," To query for specific databases/instances, navigate to the ",(0,t.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/sql/overview",children:"SQL Data Collector"})," page. The default query target is All databases. The default query scope is Only select database objects and click Retrieve. The Available database objects will be populated. Databases and instances can be added in the following ways:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Select the desired database objects and click Add."}),"\n",(0,t.jsx)(s.li,{children:"Use the Import CSV button to import a list from a CSV file, if desired."}),"\n",(0,t.jsx)(s.li,{children:"Optionally, use the Add Custom Filter button to create and apply a custom filter."}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 5 \u2013"})," Navigate to the Summary page, click Finish to save any setting modifications or click Cancel if no changes were made. Then click OK to close the Query Properties window."]}),"\n",(0,t.jsx)(s.p,{children:"The 1-SQL_PermissionsScan Job is now ready to run with the customized settings."}),"\n",(0,t.jsx)(s.h2,{id:"analysis-tasks-for-the-1-sql_permissionscan-job",children:"Analysis Tasks for the 1-SQL_PermissionScan Job"}),"\n",(0,t.jsxs)(s.p,{children:["Navigate to the ",(0,t.jsx)(s.strong,{children:"Databases"})," > 0.Collection > SQL > 1-SQL_PermissionsScan > Configure node and select Analysis to view the analysis tasks."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"CAUTION:"})," Do not modify or deselect the selected analysis task(s). The analysis task(s) are preconfigured for this job."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Analysis Selection",src:n(372746).A+"",width:"892",height:"395"})}),"\n",(0,t.jsx)(s.p,{children:"The default analysis tasks are:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Remove Old AIC\xa0Resources \u2014 Removes AIC resources using the old path that did not include the schema"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Hosts \u2014 Imports SQL hosts to the AIC"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Instance Permissions Node \u2014 Imports a node for instance permissions for each instance"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Databases \u2014 Imports each database in the SQL instances"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Permissions \u2014 Imports SQL Permissions to the AIC"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Roles \u2014 Imports a Roles node into the AIC for SQL Server Roles"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Database Role Permissions \u2014 Imports role permissions at the database level"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Local SQL\xa0Groups \u2014 Imports SQL local groups to the AIC"}),"\n",(0,t.jsx)(s.li,{children:"AIC Import \u2013 Instance Role Permissions \u2014 Imports permissions assigned to roles at the instance level"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},661175:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/1sqlpermissionscanfilterpage-464e3db90c4cdc9bf594bd31eec5ab55.webp"}}]);