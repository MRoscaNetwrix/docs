"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[618487],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>c});var n=i(296540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},261181:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"config/netapp7mode/overview","title":"NetApp Data ONTAP 7-Mode Target Requirements","description":"Netwrix Access Analyzer (formerly Enterprise Auditor) can execute Access Auditing (FSAA) and/or Sensitive Data Discovery Auditing scans on NetApp Data ONTAP 7-Mode devices. The Netwrix Activity Monitor can be configured to monitor activity on NetApp Data ONTAP 7-Mode devices and make the event data available for Access Analyzer Activity Auditing (FSAC) scans.","source":"@site/docs/accessanalyzer/config/netapp7mode/overview.md","sourceDirName":"config/netapp7mode","slug":"/config/netapp7mode/overview","permalink":"/docs/accessanalyzer/config/netapp7mode/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/config/netapp7mode/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Enable HTTP or HTTPS","permalink":"/docs/accessanalyzer/config/netapp7mode/enablehttp"},"next":{"title":"Provision Account","permalink":"/docs/accessanalyzer/config/netapp7mode/provisionaccess"}}');var s=i(474848),r=i(28453);const o={},c="NetApp Data ONTAP 7-Mode Target Requirements",d={},a=[{value:"Access &amp; Sensitive Data Auditing Permissions",id:"access--sensitive-data-auditing-permissions",level:2},{value:"Access &amp; Sensitive Data Auditing Port Requirements",id:"access--sensitive-data-auditing-port-requirements",level:2},{value:"Activity Auditing Permissions",id:"activity-auditing-permissions",level:2},{value:"Activity Auditing Port Requirements",id:"activity-auditing-port-requirements",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"netapp-data-ontap-7-mode-target-requirements",children:"NetApp Data ONTAP 7-Mode Target Requirements"})}),"\n",(0,s.jsx)(t.p,{children:"Netwrix Access Analyzer (formerly Enterprise Auditor) can execute Access Auditing (FSAA) and/or Sensitive Data Discovery Auditing scans on NetApp Data ONTAP 7-Mode devices. The Netwrix Activity Monitor can be configured to monitor activity on NetApp Data ONTAP 7-Mode devices and make the event data available for Access Analyzer Activity Auditing (FSAC) scans."}),"\n",(0,s.jsx)(t.h2,{id:"access--sensitive-data-auditing-permissions",children:"Access & Sensitive Data Auditing Permissions"}),"\n",(0,s.jsx)(t.p,{children:"The credentials used by the Access Analyzer scans must have the following permissions on the target host:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Enumerate shares by executing specific API calls"}),"\n",(0,s.jsx)(t.li,{children:"Bypass NTFS security to read the entire folder structure to be scanned and collect file/folder permissions"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["These permissions grant the credential the ability to enumerate shares, access the remote registry, and bypass NTFS security on folders. The credential used within the assigned Connection Profile for these target hosts requires these permissions. See the ",(0,s.jsx)(t.a,{href:"/docs/accessanalyzer/config/netapp7mode/access",children:"NetApp Data ONTAP 7-Mode Access & Sensitive Data Auditing Configuration"})," topic for instructions."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE:"})," These permissions are in addition to those needed to either deploy applet scans for running scans in proxy mode with applet or installing the File System Proxy Service Permissions for running scans in proxy mode as a service. See the ",(0,s.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/scanoptions",children:"File System Scan Options"})," topic for additional information."]}),"\n",(0,s.jsx)(t.h2,{id:"access--sensitive-data-auditing-port-requirements",children:"Access & Sensitive Data Auditing Port Requirements"}),"\n",(0,s.jsxs)(t.p,{children:["The firewall ports required by Access Analyzer for Access Auditing (FSAA) and/or Sensitive Data Discovery Auditing scans are based on the File System scan mode to be used. See the ",(0,s.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/filesystem/scanoptions",children:"File System Scan Options"})," topic for additional information."]}),"\n",(0,s.jsx)(t.h2,{id:"activity-auditing-permissions",children:"Activity Auditing Permissions"}),"\n",(0,s.jsx)(t.p,{children:"Windows Proxy Server for Activity Agent Monitoring of NetApp Data ONTAP 7-Mode Device"}),"\n",(0,s.jsx)(t.p,{children:"The Netwrix Activity Monitor must have an Activity Agent deployed on a Windows proxy server. While actively monitoring, the Activity Agent generates activity log files stored on the proxy server. The credential used to deploy the Activity Agent must have the following permissions on the proxy server:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Membership in the local Administrators group"}),"\n",(0,s.jsx)(t.li,{children:"READ and WRITE access to the archive location for Archiving feature only"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"It is also necessary to enable the Remote Registry Service on the Activity Agent server."}),"\n",(0,s.jsx)(t.p,{children:"For integration between the Activity Monitor and Access Analyzer, the credential used by Access Analyzer to read the activity log files must have also have this permission."}),"\n",(0,s.jsx)(t.p,{children:"NetApp Data ONTAP 7-Mode Device Requirements"}),"\n",(0,s.jsx)(t.p,{children:"An FPolicy must be configured on the target device for Activity Auditing (FSAC) scans. A tailored FPolicy is recommended as it decreases the impact on the NetApp device. The credential associated with the FPolicy used to monitor activity must be provisioned with access to the following API calls:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"login-http-admin  \napi-system-api-list  \napi-system-get-version  \napi-cifs-share-list-iter-*  \napi-volume-list-info-iter-*\n"})}),"\n",(0,s.jsx)(t.p,{children:"If the Activity Monitor will be automatically configuring the FPolicy, then the following command is also needed:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"api-fpolicy*\n"})}),"\n",(0,s.jsx)(t.p,{children:"If the Activity Monitor will be configured to use the \u201cEnable and connect to the FPolicy\u201d option, then the following command is also needed:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"cli-fpolicy*\n"})}),"\n",(0,s.jsx)(t.p,{children:"The credential must also have the following permissions on the target device:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Group membership in both of the following groups:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"ONTAP Power Users"}),"\n",(0,s.jsx)(t.li,{children:"ONTAP Backup Operators"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["See the ",(0,s.jsx)(t.a,{href:"/docs/accessanalyzer/config/netapp7mode/activity",children:"NetApp Data ONTAP 7-Mode Activity Auditing Configuration"})," topic for instructions."]}),"\n",(0,s.jsx)(t.p,{children:"Activity Monitor Archive Location"}),"\n",(0,s.jsx)(t.p,{children:"If the activity log files are being archived, configurable within the Netwrix Activity Monitor Console, then the credential used by Access Analyzer to read the activity log files must also have READ and WRITE permissions on the archive location."}),"\n",(0,s.jsx)(t.h2,{id:"activity-auditing-port-requirements",children:"Activity Auditing Port Requirements"}),"\n",(0,s.jsx)(t.p,{children:"Firewall settings depend on the type of environment being targeted. The following firewall settings are required for communication between the Agent server and the Netwrix Activity Monitor Console:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Communication Direction"}),(0,s.jsx)(t.th,{children:"Protocol"}),(0,s.jsx)(t.th,{children:"Ports"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Monitor to Agent Server"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"4498"}),(0,s.jsx)(t.td,{children:"Agent Communication"})]})})]}),"\n",(0,s.jsxs)(t.p,{children:["The Windows firewall rules need to be configured on the Windows server, which require certain inbound rules be created if the scans are running in applet mode. These scans operate over a default port range, which cannot be specified via an inbound rule. For more information, see the Microsoft ",(0,s.jsx)(t.a,{href:"https://msdn.microsoft.com/en-us/library/windows/desktop/aa389290(v=vs.85).aspx",children:"Connecting to WMI on a Remote Computer"})," article."]}),"\n",(0,s.jsx)(t.p,{children:"Additional Firewall Rules for NetApp Data ONTAP 7-Mode Device"}),"\n",(0,s.jsx)(t.p,{children:"The following firewall settings are required for communication between the Activity Monitor Activity Agent server and the target NetApp Data ONTAP 7-Mode device:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Communication Direction"}),(0,s.jsx)(t.th,{children:"Protocol"}),(0,s.jsx)(t.th,{children:"Ports"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Agent Server to NetApp*"}),(0,s.jsx)(t.td,{children:"HTTP (optional)"}),(0,s.jsx)(t.td,{children:"80"}),(0,s.jsx)(t.td,{children:"ONTAPI"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Agent Server to NetApp*"}),(0,s.jsx)(t.td,{children:"HTTPS (optional)"}),(0,s.jsx)(t.td,{children:"443"}),(0,s.jsx)(t.td,{children:"ONTAPI"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Agent Server to NetApp"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"135, 139  Dynamic Range (49152-65535)"}),(0,s.jsx)(t.td,{children:"RPC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Agent Server to NetApp"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"445"}),(0,s.jsx)(t.td,{children:"SMB"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity Agent Server to NetApp"}),(0,s.jsx)(t.td,{children:"UDP"}),(0,s.jsx)(t.td,{children:"137, 138"}),(0,s.jsx)(t.td,{children:"RPC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"NetApp to Activity Agent Server"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"135, 139  Dynamic Range (49152-65535)"}),(0,s.jsx)(t.td,{children:"RPC"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"NetApp to Activity Agent Server"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"445"}),(0,s.jsx)(t.td,{children:"SMB"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"NetApp to Activity Agent Server"}),(0,s.jsx)(t.td,{children:"UDP"}),(0,s.jsx)(t.td,{children:"137, 138"}),(0,s.jsx)(t.td,{children:"RPC"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"*Only required if using the FPolicy Configuration and FPolicy Enable and Connect options in Activity Monitor."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE:"})," If either HTTP or HTTPS are not enabled, the FPolicy on the NetApp Data ONTAP 7-Mode device must be configured manually. Also, the External Engine will not reconnect automatically in the case of a server reboot or service restart."]}),"\n",(0,s.jsx)(t.p,{children:"Additional Firewall Rules for Integration between Access Analyzer and Activity Monitor"}),"\n",(0,s.jsx)(t.p,{children:"Firewall settings are dependent upon the type of environment being targeted. The following firewall settings are required for communication between the agent server and the Access Analyzer Console:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Communication Direction"}),(0,s.jsx)(t.th,{children:"Protocol"}),(0,s.jsx)(t.th,{children:"Ports"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Access Analyzer to Agent Server"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"445"}),(0,s.jsx)(t.td,{children:"SMB, used for Agent Deployment"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Access Analyzer to Agent Server"}),(0,s.jsx)(t.td,{children:"TCP"}),(0,s.jsx)(t.td,{children:"Predefined"}),(0,s.jsx)(t.td,{children:"WMI, used for Agent Deployment"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);