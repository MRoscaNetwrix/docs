"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[335195],{28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var r=s(296540);const i={},t=r.createContext(i);function c(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:n},e.children)}},664862:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"auditor/configuration/fileservers/nutanix/useraccount","title":"Create User Account to Access Nutanix REST API","description":"To create a user account using the ncli utility:","source":"@site/docs/auditor/auditor/configuration/fileservers/nutanix/useraccount.md","sourceDirName":"auditor/configuration/fileservers/nutanix","slug":"/auditor/configuration/fileservers/nutanix/useraccount","permalink":"/docs/auditor/auditor/configuration/fileservers/nutanix/useraccount","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/fileservers/nutanix/useraccount.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Nutanix Ports","permalink":"/docs/auditor/auditor/configuration/fileservers/nutanix/ports"},"next":{"title":"File Servers","permalink":"/docs/auditor/auditor/configuration/fileservers/overview"}}');var i=s(474848),t=s(28453);const c={},a="Create User Account to Access Nutanix REST API",o={},l=[];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"create-user-account-to-access-nutanix-rest-api",children:"Create User Account to Access Nutanix REST API"})}),"\n",(0,i.jsx)(n.p,{children:"To create a user account using the ncli utility:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Download and install the ",(0,i.jsx)(n.em,{children:"ncli"})," (Nutanix command-line interface) on any server in your infrastructure, as described ",(0,i.jsx)(n.a,{href:"https://portal.nutanix.com/#here",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Start the utility and establish a ",(0,i.jsx)(n.em,{children:"ncli"})," session by the following command:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ncli -s management_ip_addr -u 'username' -p 'user_password'"})}),"\n",(0,i.jsx)(n.p,{children:"here:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"management_ip_addr"})," - the IP address of any Nutanix Controller VM in the cluster"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"username"})," - user name to access that VM; if not specified, ",(0,i.jsx)(n.em,{children:"admin"})," (default name) will be used"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"user_password"})," - password to access that VM"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run the ",(0,i.jsx)(n.code,{children:"fs list"})," command in ",(0,i.jsx)(n.em,{children:"ncli"})," to get the list of Nutanix Files servers."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Locate the name of Nutanix Files server you want to audit; locate and save the following server parameters to a text file:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Uuid"})," - Nutanix Files server ID"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Finally, create a new user and specify credentials that will be used to access this Nutanix Files server. For that, run the following command in ",(0,i.jsx)(n.em,{children:"ncli"})," :"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"fs add-user uuid=<fs_uuid> user=<username> password=<password>"})}),"\n",(0,i.jsx)(n.p,{children:"here:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<fs_uuid>"})," - Nutanix Files server ID (Uuid)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<username>"})," - user name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<password>"})," - password"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To create a new user account with Nutanix Prism:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open Nutanix Prism web portal."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select ",(0,i.jsx)(n.strong,{children:"File Server"})," category. In the list of servers, select the server you want to audit."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Manage roles"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.strong,{children:"Manage roles"})," dialog locate the ",(0,i.jsx)(n.strong,{children:"REST API\xa0access user"})," section and click ",(0,i.jsx)(n.strong,{children:"+New user"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"nutanix_user_thumb_0_0",src:s(916442).A+"",width:"1913",height:"969"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Enter local user account name and password, then click ",(0,i.jsx)(n.strong,{children:"Save"})," next to them to save the settings."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Close"})," button to close the ",(0,i.jsx)(n.strong,{children:"Manage roles"})," dialog."]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},916442:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/nutanix_user_thumb_0_0-edfe1ceeed0c1fa5c90b7f942a8d7c89.jpg"}}]);