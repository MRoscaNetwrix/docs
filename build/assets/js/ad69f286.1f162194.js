"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[168289],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var o=s(296540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},799728:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"enterpriseauditor/solutions/aws/recommended","title":"Recommended Configuration for the AWS\xa0Solution","description":"The AWS Solution is configured to inherit settings from the global Settings node. The Connection Profile must be assigned before job execution. Once it is assigned to the job group, it can be run directly or scheduled.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/aws/recommended.md","sourceDirName":"enterpriseauditor/solutions/aws","slug":"/enterpriseauditor/solutions/aws/recommended","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/aws/recommended","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/aws/recommended.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"5.Policies Job Group","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/aws/policies/overview"},"next":{"title":"AWS\\\\_Roles Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/aws/roles/aws_roles"}}');var t=s(474848),r=s(28453);const i={},a="Recommended Configuration for the AWS\xa0Solution",c={},l=[];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"recommended-configuration-for-the-awssolution",children:"Recommended Configuration for the AWS\xa0Solution"})}),"\n",(0,t.jsx)(n.p,{children:"The AWS Solution is configured to inherit settings from the global Settings node. The Connection Profile must be assigned before job execution. Once it is assigned to the job group, it can be run directly or scheduled."}),"\n",(0,t.jsx)(n.p,{children:"Dependencies"}),"\n",(0,t.jsx)(n.p,{children:"For AWS IAM Auditing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"AWS Permissions must be configured on the target databases."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/aws",children:"Configure AWS for Scans"})," topic for information on configuring Roles within AWS and obtaining an Access Key"]}),"\n",(0,t.jsxs)(n.li,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/aws",children:"Target Amazon Web Service Requirements, Permissions, and Ports"})," topic for additional information on permissions"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Some of the 0.Collection job group queries can be scoped to target specific S3 Objects. However, it is necessary for the SA_AWS_Instances table to be populated before attempting to scope the queries. Therefore, the AWS_S3Scan job must be manually executed before attempting to scope the S3 queries."}),"\n",(0,t.jsx)(n.p,{children:"Target Host"}),"\n",(0,t.jsx)(n.p,{children:"The AWS Data Collector identifies AWS instances via the created Roles and therefore does not require a host list to be assigned. No target host is required (assign Local Host)."}),"\n",(0,t.jsx)(n.p,{children:"Connection Profile"}),"\n",(0,t.jsxs)(n.p,{children:["The AWS Data Collector requires a specific set of permissions. The account used can be either a Web Services (JWT) account or an Amazon Web Services account. Once the account has been provisioned, create a custom Connection Profile containing the credentials for the targeted environment. See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/connection/profile/aws",children:"Amazon Web Services for User Credentials"})," topic for additional information."]}),"\n",(0,t.jsxs)(n.p,{children:["The Connection Profile is assigned under the ",(0,t.jsx)(n.strong,{children:"AWS"})," > ",(0,t.jsx)(n.strong,{children:"Settings"})," > ",(0,t.jsx)(n.strong,{children:"Connection"})," node. It is set to ",(0,t.jsx)(n.strong,{children:"Use Default Profile"}),", as configured at the global Settings level. However, if this is not the Connection Profile with the necessary permissions for targeting the AWS instances, click the ",(0,t.jsx)(n.strong,{children:"Select one of the following user defined profiles"})," option and select the appropriate Connection Profile."]}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/connection/overview",children:"Connection"})," topic for additional information on creating a Connection Profile."]}),"\n",(0,t.jsx)(n.p,{children:"Access Token"}),"\n",(0,t.jsxs)(n.p,{children:["Creating the Connection Profile requires having the ",(0,t.jsx)(n.strong,{children:"Access Key ID"})," and the ",(0,t.jsx)(n.strong,{children:"Secret Access Key"})," that was generated by the Amazon Web Services application. See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/config/aws",children:"Configure AWS for Scans"})," topic for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"Schedule Frequency"}),"\n",(0,t.jsx)(n.p,{children:"Schedule the AWS job group to run weekly or daily, depending on the amount of data in the environment. If there are frequent AWS changes within the target environment, then it can be executed more often. It is best to rerun it anytime AWS changes might have occurred."}),"\n",(0,t.jsx)(n.p,{children:"History Retention"}),"\n",(0,t.jsx)(n.p,{children:"Not supported."}),"\n",(0,t.jsx)(n.p,{children:"Multi Console Support"}),"\n",(0,t.jsx)(n.p,{children:"Not supported."}),"\n",(0,t.jsx)(n.p,{children:"Run Order"}),"\n",(0,t.jsx)(n.p,{children:"The jobs in the 0.Collection job group must be run first and in order. The other job groups can be run in any order, together or individually, after running the 0.Collection job group."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"RECOMMENDED:"})})," Run the solution at the top level."]}),"\n",(0,t.jsx)(n.p,{children:"Run at the Solution Level"}),"\n",(0,t.jsx)(n.p,{children:"The jobs in the AWS job group should be run together and in order by running the entire solution, instead of the individual jobs."}),"\n",(0,t.jsx)(n.p,{children:"Run at the Job Group Level"}),"\n",(0,t.jsx)(n.p,{children:"For environments with a large amount of S3 data, it may be desirable to run the 3.AWS_S3Scan job and the 4.AWS_S3SDDScan job less frequently than the other jobs in the 0.Collection job group."}),"\n",(0,t.jsx)(n.p,{children:"Query Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The following queries in the 0.Collection job group require the created AWS Roles to be added to the Login Roles page:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/aws/collection/aws_orgscan",children:"1.AWS_OrgScan Job"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/aws/collection/aws_s3scan",children:"2.AWS_S3Scan Job"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/aws/collection/aws_iamscan",children:"3.AWS_IAMScan Job"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The following queries in the 0.Collection job group can be modified to limit the depth of the scan:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/aws/collection/aws_s3scan",children:"2.AWS_S3Scan Job"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/solutions/aws/collection/aws_s3sddscan",children:"4.AWS_S3SDDScan Job"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Analysis Configuration"}),"\n",(0,t.jsx)(n.p,{children:"This solution can be run with the default analysis configuration. However, the following parameters can be modified:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"@STALETHRESHOLD"})," parameter determines the number of days after which content is considered stale. It is set to default of 60 days. The ",(0,t.jsx)(n.code,{children:"@STALETHRESHOLD"})," parameter can be customized in the following analysis tasks:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"2. Users"})," > ",(0,t.jsx)(n.strong,{children:"AWS_StaleUsers"})," > ",(0,t.jsx)(n.strong,{children:"Stale Users"})," Analysis Task"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"3.Groups"})," > ",(0,t.jsx)(n.strong,{children:"AWS_StaleGroups"})," > ",(0,t.jsx)(n.strong,{children:"Stale Groups Details"})," Analysis Task"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"4.Roles"})," > ",(0,t.jsx)(n.strong,{children:"AWS_StaleRoles"})," > ",(0,t.jsx)(n.strong,{children:"Stale Roles Details"})," Analysis Task"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Workflow"}),"\n",(0,t.jsx)(n.p,{children:"The following is the recommended workflow:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 1 \u2013"})," Configure and assign the Connection Profile."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 2 \u2013"})," Configure the Scan query to add the AWS Roles to the Login Roles page."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 3 \u2013"})," (Optional) Modify query configurations for the 0.Collection job group to limit the scan depth."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 4 \u2013"})," (Optional) Modify analysis task parameters for the reporting jobs."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 5 \u2013"})," Schedule the AWS job group to run as desired."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Step 6 \u2013"})," Review the reports generated by the AWS job group."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);