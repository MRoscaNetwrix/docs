"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[289133],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>a});var n=i(296540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},333479:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"usercube/integration-guide/toolkit/expressions/csharp-utility-functions/index","title":"C# utility functions","description":"utility functions","source":"@site/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/csharp-utility-functions/index.md","sourceDirName":"usercube/integration-guide/toolkit/expressions/csharp-utility-functions","slug":"/usercube/integration-guide/toolkit/expressions/csharp-utility-functions/","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/csharp-utility-functions/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/csharp-utility-functions/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"Expressions","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/"},"next":{"title":"Predefined functions","permalink":"/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/predefined-functions/"}}');var s=i(474848),r=i(28453);const o={},a="C# utility functions",u={},c=[{value:"BuildUsername",id:"buildusername",level:2},{value:"Example of use in a BuildUniqueValue aspect:",id:"example-of-use-in-a-builduniquevalue-aspect",level:3},{value:"BuildUsernameWithInitials",id:"buildusernamewithinitials",level:2},{value:"Example of use in a BuildUniqueValue aspect:",id:"example-of-use-in-a-builduniquevalue-aspect-1",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"c-utility-functions",children:"C# utility functions"})}),"\n",(0,s.jsxs)(t.p,{children:["These functions can be called in any C# expression specified in the configuration. See the ",(0,s.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/",children:"Expressions"})," topic for additional information."]}),"\n",(0,s.jsxs)(t.p,{children:["These are static functions defined in the class ",(0,s.jsx)(t.code,{children:"Usercube.Expressions.Functions.UtilExpressions"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["The way these functions are configured, they require the ",(0,s.jsx)(t.code,{children:"UtilExpressions"})," prefix, but not necessarily the rest (",(0,s.jsx)(t.code,{children:"Usercube.Expressions.Functions"}),"). However, using the full namespace would also work."]}),"\n",(0,s.jsxs)(t.p,{children:["For example, you could use ",(0,s.jsx)(t.code,{children:"UtilExpressions.BuildUsername(...)"})," as shown in the example below."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable?view=net-8.0",children:"LinQ methods"})," can be used, without needing to add a prefix."]}),"\n",(0,s.jsx)(t.h2,{id:"buildusername",children:"BuildUsername"}),"\n",(0,s.jsx)(t.p,{children:"Builds a username by concatenating a first name, a separator, a last name and a possible suffix."}),"\n",(0,s.jsxs)(t.p,{children:["First name and last name are simplified using the Simplify function. See the ",(0,s.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/expressions/predefined-functions/",children:"Predefined functions"}),"topic for additional information."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"string? BuildUsername(string? firstName, string? lastName, string? separator, string? suffix, int? iteration)\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The iteration argument is usually used with the help of ",(0,s.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/builduniquevalueaspect/",children:"\nBuild Unique Value Aspect\n"}),". If the iteration number is greater than 0, it is inserted after the last name."]}),"\n",(0,s.jsx)(t.h3,{id:"example-of-use-in-a-builduniquevalue-aspect",children:"Example of use in a BuildUniqueValue aspect:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'<BuildUniqueValueAspect\n    Identifier="Directory_UserRecord_UniqueValue_Mail"\n    Binding="Workflow_Directory_User:Directory_User.Records.Mail"\n    ExpressionBinding="Workflow_Directory_User:Directory_User.Records"\n    Expression="C#:person:return UtilExpressions.BuildUsername(person.FirstName, person.LastName, &quot;.&quot;, ((person.EmployeeType != null) &amp;&amp; (person.EmployeeType.Category != null) &amp;&amp; (person.EmployeeType.Category.Identifier == &quot;Internal&quot;)) ? null : &quot;.ext&quot;, iteration) + &quot;@acme.com&quot;;"\n    SqlCheckExpression="SELECT TOP 1 mail FROM zz_ad_entry WHERE mail=@VALUE" IterationsCount="10">    <PointCut Activity="Directory_User_StartInternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_StartInternal:Review" ActivityState="ReviewWithFeedback-Approved" Mode="After" />    <PointCut Activity="Directory_User_StartExternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_StartInternalByHR:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_CreateFromHR:Request" ActivityState="Action-Executed" Mode="After" /></BuildUniqueValueAspect>\n'})}),"\n",(0,s.jsx)(t.h2,{id:"buildusernamewithinitials",children:"BuildUsernameWithInitials"}),"\n",(0,s.jsx)(t.p,{children:"Builds a username by concatenating a first name initials, a separator, a last name and a possible suffix."}),"\n",(0,s.jsx)(t.p,{children:"Hyphenated first names are accepted (In this case, we consider the initial of each first name)."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"string? BuildUsernameWithInitials(string? firstName, string? lastName, string? separator, string? suffix, int? maxLength, int? iteration)\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"maxLength"})," argument limits the length of the username."]}),"\n",(0,s.jsxs)(t.p,{children:["The iteration argument is usually used with the help of ",(0,s.jsx)(t.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/builduniquevalueaspect/",children:"\nBuild Unique Value Aspect\n"}),". If it is greater than 0, we use several letters of the first name avoiding as much as possible to insert a number in the built username."]}),"\n",(0,s.jsx)(t.h3,{id:"example-of-use-in-a-builduniquevalue-aspect-1",children:"Example of use in a BuildUniqueValue aspect:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'<BuildUniqueValueAspect\n    Identifier="Directory_UserRecord_UniqueValue_Mail"\n    Binding="Workflow_Directory_User:Directory_User.Records.Mail"\n    ExpressionBinding="Workflow_Directory_User:Directory_User.Records"\n    Expression="C#:person:return UtilExpressions.BuildUsernameWithInitials(person.FirstName, person.LastName, &quot;.&quot;, ((person.EmployeeType != null) &amp;&amp; (person.EmployeeType.Category != null) &amp;&amp; (person.EmployeeType.Category.Identifier == &quot;Internal&quot;)) ? null : &quot;.ext&quot;, 16, iteration) + &quot;@acme.com&quot;;"\n    SqlCheckExpression="SELECT TOP 1 mail FROM zz_ad_entry WHERE mail=@VALUE" IterationsCount="10">    <PointCut Activity="Directory_User_StartInternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_StartInternal:Review" ActivityState="ReviewWithFeedback-Approved" Mode="After" />    <PointCut Activity="Directory_User_StartExternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_StartInternalByHR:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />    <PointCut Activity="Directory_User_CreateFromHR:Request" ActivityState="Action-Executed" Mode="After" /></BuildUniqueValueAspect>\n'})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);