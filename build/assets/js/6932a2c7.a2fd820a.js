"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[37208],{28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>o});var n=s(296540);const a={},r=n.createContext(a);function c(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),n.createElement(r.Provider,{value:t},e.children)}},953924:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"enterpriseauditor/admin/settings/access/restapi/obtaintoken","title":"Use the Client Credentials Grant to Obtain an Access Token","description":"An access token is a credential that can be used by an application to access an API. To obtain an access token, the application accessing data remotely through the Web Service must connect to the Access Analyzer token endpoint and use the Client ID and Client Secret to authenticate the access request. This is done using the Client Credentials grant. The Client Credentials grant is used when applications request an access token to access their own resources, not on behalf of a user. The following request parameters should be used:","source":"@site/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/obtaintoken.md","sourceDirName":"enterpriseauditor/admin/settings/access/restapi","slug":"/enterpriseauditor/admin/settings/access/restapi/obtaintoken","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/obtaintoken","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/obtaintoken.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Use Access Token to Get Data from the Access Analyzer Endpoint","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/getdata"},"next":{"title":"Web Service REST API for Applications Accessing Data Remotely","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/overview"}}');var a=s(474848),r=s(28453);const c={},o="Use the Client Credentials Grant to Obtain an Access Token",i={},l=[];function d(e){const t={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"use-the-client-credentials-grant-to-obtain-an-access-token",children:"Use the Client Credentials Grant to Obtain an Access Token"})}),"\n",(0,a.jsx)(t.p,{children:"An access token is a credential that can be used by an application to access an API. To obtain an access token, the application accessing data remotely through the Web Service must connect to the Access Analyzer token endpoint and use the Client ID and Client Secret to authenticate the access request. This is done using the Client Credentials grant. The Client Credentials grant is used when applications request an access token to access their own resources, not on behalf of a user. The following request parameters should be used:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"grant_type"})," (required) \u2013 The ",(0,a.jsx)(t.code,{children:"grant_type"})," parameter must be set to ",(0,a.jsx)(t.code,{children:"client_credentials"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"scope"})," (optional) \u2013 Your service may support different scopes for the client credentials grant"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["The client must then be authenticated for the request. Typically, the service will allow either additional request parameters, ",(0,a.jsx)(t.code,{children:"client_ID"})," and ",(0,a.jsx)(t.code,{children:"client_secret"}),", or accept those parameters in the HTTP Basic auth header."]}),"\n",(0,a.jsx)(t.p,{children:"The following example shows how to retrieve an access token:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"POST /token HTTP/1.1  \nHost: authorization-server.com  \ngrant_type=client_credentials  \n&client_id=xxxxxxxxxx  \n&client_secret=xxxxxxxxxx\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.em,{children:(0,a.jsx)(t.strong,{children:"RECOMMENDED:"})})," Tokens contain sensitive information and should be stored securely. See the Microsoft ",(0,a.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.security/convertto-securestring?view=powershell-7.4",children:"ConvertTo-SecureString"})," article for additional information."]}),"\n",(0,a.jsx)(t.p,{children:"If the token does not have the ability to perform this request, is invalid, or the specific resource has been blocked from access remotely, an HTTP status code of 401 is returned."}),"\n",(0,a.jsx)(t.p,{children:"If the request for an access token is valid, the authorization server generates an access token and returns it to the client. The following example shows a successful access token response:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'HTTP/1.1 200 OK  \nContent-Type: application/json  \nCache-Control: no-store  \nPragma: no-cache\xa0  \n{  \n\xa0\xa0"access_token":"MTQ0NjJkZmQ5OTM2NDE1ZTZjNGZmZjI3",  \n\xa0\xa0"token_type":"bearer",  \n\xa0\xa0"expires_in":3600,  \n\xa0\xa0"refresh_token":"IwOGYzYTlmM2YxOTQ5MGE3YmNmMDFkNTVk",  \n\xa0\xa0"scope":"create"  \n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["See the Okta ",(0,a.jsx)(t.a,{href:"https://www.oauth.com/oauth2-servers/access-tokens/access-token-response/",children:"Access Token Response"})," article for additional information on successful and unsuccessful responses to requests for access tokens."]}),"\n",(0,a.jsxs)(t.p,{children:["The Client Secret expires after 72 hours. The access token expires after 1 hour after which time you can request a refresh token. See the ",(0,a.jsx)(t.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/access/restapi/refreshtoken",children:"Use the Client Credentials to Grant a Refesh Token"}),"\xa0topic for additional information."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);