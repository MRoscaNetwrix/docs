"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[915300],{28453:(e,i,r)=>{r.d(i,{R:()=>o,x:()=>n});var s=r(296540);const t={},l=s.createContext(t);function o(e){const i=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function n(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(l.Provider,{value:i},e.children)}},517746:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>n,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"auditor/configuration/fileservers/netappcmode/ports","title":"Configure System Service Firewall Policies","description":"Configure firewall to make file shares and Clustered Data ONTAP HTTP/HTTPS ports accessible from the computer where Netwrix Auditor Server is installed. Your firewall configuration depends on network settings and security policies in your organization. Below is an example of configuration:","source":"@site/docs/auditor/auditor/configuration/fileservers/netappcmode/ports.md","sourceDirName":"auditor/configuration/fileservers/netappcmode","slug":"/auditor/configuration/fileservers/netappcmode/ports","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/ports","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/fileservers/netappcmode/ports.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Permissions for NetApp Auditing","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/permissions"},"next":{"title":"Configure Service Policy","permalink":"/docs/auditor/auditor/configuration/fileservers/netappcmode/servicepolicy"}}');var t=r(474848),l=r(28453);const o={},n="Configure System Service Firewall Policies",c={},d=[];function a(e){const i={a:"a",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"configure-system-service-firewall-policies",children:"Configure System Service Firewall Policies"})}),"\n",(0,t.jsx)(i.p,{children:"Configure firewall to make file shares and Clustered Data ONTAP HTTP/HTTPS ports accessible from the computer where Netwrix Auditor Server is installed. Your firewall configuration depends on network settings and security policies in your organization. Below is an example of configuration:"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"NOTE:"})," For NetApp ONTAP 9.10.1 and higher, the command context system services firewall policy is deprecated and might be removed in a future ONTAP release. Review the NetApp ",(0,t.jsx)(i.a,{href:"https://docs.netapp.com/us-en/ontap-cli-9101/",children:"ONTAP 9.10.1 commands"})," article for additional information."]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Navigate to your cluster command prompt through the SSH/Telnet connection."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Log in as a cluster administrator and review your current firewall configuration. For example:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{}),(0,t.jsx)(i.th,{}),(0,t.jsx)(i.th,{})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"cluster1::> system services firewall show"}),(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Node"}),(0,t.jsx)(i.td,{children:"Enabled"}),(0,t.jsx)(i.td,{children:"Logging"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"------------"}),(0,t.jsx)(i.td,{children:"------------"}),(0,t.jsx)(i.td,{children:"-------"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"cluster1-01"}),(0,t.jsx)(i.td,{children:"true"}),(0,t.jsx)(i.td,{children:"false"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Create firewall policy or edit existing policy to allow HTTP/HTTPS (note that modifying a policy you may overwrite some settings). For example:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"To..."}),(0,t.jsx)(i.th,{children:"Execute..."})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"NetApp Clustered Data ONTAP 8.2"}),(0,t.jsx)(i.td,{})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Create a policy"}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy create -policy netwrix_policy -service http -vserver svm1 -action allow -ip-list 192.168.1.0/24"}),"  ",(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy create -policy netwrix_policy -service https -vserver svm1 -action allow -ip-list 192.168.1.0/24"})]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Modify existing policy"}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy modify -policy netwrix_policy -service http -vserver svm1 -action allow -ip-list 192.168.1.0/24"}),"  ",(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy modify -policy netwrix_policy -service https -vserver svm1 -action allow -ip-list 192.168.1.0/24"})]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"NetApp Clustered Data ONTAP 8.3, ONTAP 9.0 - 9.10"}),(0,t.jsx)(i.td,{})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Create a policy"}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy create -policy netwrix_policy -service http -vserver svm1 -allow-list 192.168.1.0/24"}),"  ",(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy create -policy netwrix_policy -service https -vserver svm1 -allow-list 192.168.1.0/24"})]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Modify existing policy"}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy modify -policy netwrix_policy -service http -vserver svm1 -allow-list 192.168.1.0/24"}),"  ",(0,t.jsx)(i.code,{children:"cluster1::> system services firewall policy modify -policy netwrix_policy -service https -vserver svm1 -allow-list 192.168.1.0/24"})]})]})]})]}),"\n",(0,t.jsxs)(i.p,{children:["where ",(0,t.jsx)(i.code,{children:"pol1"})," is your Firewall policy name and ",(0,t.jsx)(i.code,{children:"192.168.1.0/24"})," is your subnet where Netwrix Auditor Server resides."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Apply the firewall policy to a LIF."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.code,{children:"cluster1::>network interface modify -vserver svm -lif vs1-cifs-lif1 -firewall-policy netwrix_policy"})}),"\n",(0,t.jsx)(i.p,{children:"To verify the policy was applied correctly, execute the following:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.code,{children:"cluster1::>network interface show -fields firewall-policy"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);