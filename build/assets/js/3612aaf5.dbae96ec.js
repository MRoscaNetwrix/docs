"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[12352],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>c});var t=n(296540);const r={},o=t.createContext(r);function a(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:s},e.children)}},277536:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/maintenance_4-812af1d07348f3f1a50f756f10915a86.webp"},294905:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/maintenance_3-54f0fff2c6ec57d2127b1b3f3c9b8d0c.webp"},509620:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"enterpriseauditor/admin/maintenance/backuprecovery","title":"Backup and Recovery","description":"For data recovery purposes, the Access Analyzer does not need a complete image back up of the Access Analyzer Console server. Rather a standard file level back up of a few key components is all that is necessary. This document contains a step-by-step guide for back up and recovery. The choice of back up utility is left to the Access Analyzer user.","source":"@site/docs/accessanalyzer/enterpriseauditor/admin/maintenance/backuprecovery.md","sourceDirName":"enterpriseauditor/admin/maintenance","slug":"/enterpriseauditor/admin/maintenance/backuprecovery","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/maintenance/backuprecovery","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/admin/maintenance/backuprecovery.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"Antivirus Exclusions","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/maintenance/antivirusexclusions"},"next":{"title":"Best Practices","permalink":"/docs/accessanalyzer/enterpriseauditor/admin/maintenance/bestpractices"}}');var r=n(474848),o=n(28453);const a={},c="Backup and Recovery",i={},l=[{value:"Steps to Back Up the Console Server",id:"steps-to-back-up-the-console-server",level:2},{value:"Steps to Restore the Console Server",id:"steps-to-restore-the-console-server",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"backup-and-recovery",children:"Backup and Recovery"})}),"\n",(0,r.jsx)(s.p,{children:"For data recovery purposes, the Access Analyzer does not need a complete image back up of the Access Analyzer Console server. Rather a standard file level back up of a few key components is all that is necessary. This document contains a step-by-step guide for back up and recovery. The choice of back up utility is left to the Access Analyzer user."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"NOTE:"})," This does not cover back up of the Access Analyzer database."]}),"\n",(0,r.jsx)(s.h2,{id:"steps-to-back-up-the-console-server",children:"Steps to Back Up the Console Server"}),"\n",(0,r.jsx)(s.p,{children:"Follow these steps to back up the key components necessary for data recovery of the Access Analyzer Console server."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 1 \u2013"})," Obtain or save the installation media for Access Analyzer."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 2 \u2013"})," Back up the following files and folders from the Access Analyzer folder (Typically found at ",(0,r.jsx)(s.code,{children:"C:\\Program Files(x86)\\STEALTHbits\\StealthAUDIT"})," and can be more directly found with the built-in environment variable ",(0,r.jsx)(s.code,{children:"%SAINSTALLDIR%"}),"):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"...\\STEALTHbits\\StealthAUDIT\\Jobs: Contains the jobs from the Access Analyzer jobs tree"}),"\n",(0,r.jsx)(s.li,{children:"\u2026 \\STEALTHbits\\StealthAUDIT\\CLU: Contains any CLU parameters"}),"\n",(0,r.jsx)(s.li,{children:"\u2026 \\STEALTHbits\\StealthAUDIT\\ODBCProfiles\\Custom: Contains any custom ODBC connect strings"}),"\n",(0,r.jsx)(s.li,{children:"\u2026\\STEALTHbits\\StealthAUDIT\\SADatabase\\Views: Contains the host list definitions"}),"\n",(0,r.jsx)(s.li,{children:"...\\ STEALTHbits\\StealthAUDIT\\SecurityMap: Contains all of the Connection Profiles"}),"\n",(0,r.jsx)(s.li,{children:"... \\STEALTHbits\\StealthAUDIT\\GlobalOptions.XML: Contains the Global Options"}),"\n",(0,r.jsx)(s.li,{children:"...\\ STEALTHbits\\StealthAUDIT\\SPProfiles.XML: Contains the Storage Profiles (SQL connection)"}),"\n",(0,r.jsx)(s.li,{children:"...\\ STEALTHbits\\StealthAUDIT\\rba.conf: Contains the Role Based Access Configuration"}),"\n",(0,r.jsx)(s.li,{children:"...\\ STEALTHbits\\StealthAUDIT\\StealthAUDIT.LIC: The license key"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 3 \u2013"})," Back up all Scheduled Tasks. The method of back up is determined by the Access Analyzer user. This can be as simple as copying the contents of the tasks folder from the following two locations:"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"C:\\Windows\\Tasks",src:n(294905).A+"",width:"1010",height:"221"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"C:\\Windows\\Tasks"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"C:\\Windows\\System32\\Tasks",src:n(277536).A+"",width:"1012",height:"204"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"C:\\Windows\\System32\\Tasks"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"All key components necessary for data recovery have now been backed up."}),"\n",(0,r.jsx)(s.h2,{id:"steps-to-restore-the-console-server",children:"Steps to Restore the Console Server"}),"\n",(0,r.jsx)(s.p,{children:"Follow these steps for data recovery of the Access Analyzer Console server."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 1 \u2013"})," Confirm the prerequisites have been met on the Access Analyzer Console Server. See the ",(0,r.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/overview",children:"Requirements"})," topic for specific prerequisites."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 2 \u2013"})," Install the Access Analyzer application. Do not start the Access Analyzer application at this time."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 3 \u2013"})," Restore all of the backed up files and folders from Step 2 of Steps to Back up the Access Analyzer Console Server to their corresponding location."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 4 \u2013"})," Restore all of the backed up scheduled tasks from Step 3 of Steps to Back up the Access Analyzer Console Server to the corresponding tasks folder of the operating system."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 5 \u2013"})," For Host Management and Host List Replication in a new host scenario, run the following code within the SQL Studio on the Access Analyzer database."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Replace ",(0,r.jsx)(s.code,{children:"OldServer"})," and ",(0,r.jsx)(s.code,{children:"NewServer"})," in the script below with the names of the old and new Access Analyzer servers"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Declare @OHost varchar (128)  \nDeclare @NHost varchar (128)  \nSet @OHost = 'OldServer'  \nSet @NHost = 'NewServer'  \nUpdate [HostMaster_SANodeFilter]  \nSET SA_Node = @NHost  \nWhere SA_Node = @OHost;  \nUpdate [HostListsTbl]  \nSET SA_Node = @NHost  \nWhere SA_Node = @OHost  \nand ListID not in (Select ListID from [HostListsTbl] where SA_Node = @NHost);  \nUpdate [QueryTbl]  \nSET SA_Node = @NHost  \nWhere SA_Node = @OHost;\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 6 \u2013"})," Start Access Analyzer and confirm all settings and jobs have been restored."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 7 \u2013"})," Enable Role Based Access to write the necessary registry keys:"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Role Based Access",src:n(676931).A+"",width:"1408",height:"784"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Navigate to the ",(0,r.jsx)(s.strong,{children:"Settings"})," > ",(0,r.jsx)(s.strong,{children:"Access"})," node in the Access Analyzer Console and select ",(0,r.jsx)(s.strong,{children:"Access"})]}),"\n",(0,r.jsxs)(s.li,{children:["Use the ",(0,r.jsx)(s.strong,{children:"Add Access"}),", ",(0,r.jsx)(s.strong,{children:"Edit Member Role"}),", and ",(0,r.jsx)(s.strong,{children:"Delete Member Role"})," buttons to add, remove, and edit roles"]}),"\n",(0,r.jsxs)(s.li,{children:["See the ",(0,r.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/access/rolebased/overview",children:"Role Based Access"})," topic for more information"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The Access Analyzer Console Server is now restored."})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},676931:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/maintenance_5-55c06d5cbe9da9f9b845c369a44269ff.webp"}}]);