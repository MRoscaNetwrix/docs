"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[350738],{28453:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>s});var t=n(296540);const i={},c=t.createContext(i);function a(e){const o=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(c.Provider,{value:o},e.children)}},517427:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"admin/datacollection/activedirectory/logonasbatch","title":"Define Log On As a Batch Job Policy","description":"During the source addition, the Log on as a batch job policy is automatically defined for the Data Processing Account as a local security policy. However, if you have the Deny log on as a batch job policy defined locally or on the domain level, the local Log on as a batch job policy will be reset. In this case, redefine the Deny log on as a batch job policy through the Local Security Policy console on your computer or on the domain level through the Group Policy Management console.","source":"@site/docs/1secure/admin/datacollection/activedirectory/logonasbatch.md","sourceDirName":"admin/datacollection/activedirectory","slug":"/admin/datacollection/activedirectory/logonasbatch","permalink":"/docs/1secure/admin/datacollection/activedirectory/logonasbatch","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1secure/admin/datacollection/activedirectory/logonasbatch.md","tags":[],"version":"current","frontMatter":{},"sidebar":"oneSecureSidebar","previous":{"title":"Assigning Management Roles","permalink":"/docs/1secure/admin/datacollection/activedirectory/auditlogsrole"},"next":{"title":"Configure the Manage Auditing and Security Log Policy","permalink":"/docs/1secure/admin/datacollection/activedirectory/manageauditingsecuritylog"}}');var i=n(474848),c=n(28453);const a={},s="Define Log On As a Batch Job Policy",r={},l=[{value:"To configure the Log On As a Batch Job policy via the <strong>Local Security Policy</strong> snap-in",id:"to-configure-the-log-on-as-a-batch-job-policy-via-the-local-security-policy-snap-in",level:2},{value:"To configure the Log On As a Batch Job policy using the Group Policy Management console",id:"to-configure-the-log-on-as-a-batch-job-policy-using-the-group-policy-management-console",level:2}];function d(e){const o={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",strong:"strong",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"define-log-on-as-a-batch-job-policy",children:"Define Log On As a Batch Job Policy"})}),"\n",(0,i.jsx)(o.p,{children:"During the source addition, the Log on as a batch job policy is automatically defined for the Data Processing Account as a local security policy. However, if you have the Deny log on as a batch job policy defined locally or on the domain level, the local Log on as a batch job policy will be reset. In this case, redefine the Deny log on as a batch job policy through the Local Security Policy console on your computer or on the domain level through the Group Policy Management console."}),"\n",(0,i.jsxs)(o.p,{children:["You can configure this policy via the ",(0,i.jsx)(o.strong,{children:"Local Security Policy"})," snap-in or using the Group Policy Management console."]}),"\n",(0,i.jsxs)(o.h2,{id:"to-configure-the-log-on-as-a-batch-job-policy-via-the-local-security-policy-snap-in",children:["To configure the Log On As a Batch Job policy via the ",(0,i.jsx)(o.strong,{children:"Local Security Policy"})," snap-in"]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 1 \u2013"})," On any domain controller in the target domain, open the ",(0,i.jsx)(o.strong,{children:"Local Security Policy"})," snap-in: navigate to Start \u2192Windows Administrative Tools (Windows Server 2016 and higher) or Administrative Tools (Windows 2012) and select Local Security Policy."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 2 \u2013"})," Navigate to ",(0,i.jsx)(o.strong,{children:"Security Settings \u2192 Local Policies \u2192 User Rights Assignment"})," and locate the ",(0,i.jsx)(o.strong,{children:"Log on as a batch job"})," policy."]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{alt:"manualconfig_ws_logonasbatch",src:n(964190).A+"",width:"783",height:"340"})}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 3 \u2013"})," Double-click the ",(0,i.jsx)(o.strong,{children:"Log on as a batch job"})," policy, and click ",(0,i.jsx)(o.strong,{children:"Add User or Group"}),". Specify the account that you want to define this policy for."]}),"\n",(0,i.jsx)(o.h2,{id:"to-configure-the-log-on-as-a-batch-job-policy-using-the-group-policy-management-console",children:"To configure the Log On As a Batch Job policy using the Group Policy Management console"}),"\n",(0,i.jsx)(o.p,{children:"Perform this procedure only if the account selected for data collection is not a member of the Domain Admins group."}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 1 \u2013"})," Open the Group Policy Management console on any domain controller in the target domain: navigate to Start \u2192 Windows Administrative Tools (Windows Server 2016/2019) or Administrative Tools (Windows 2012 R2 and below) \u2192 Group Policy Management."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 2 \u2013"})," In the left pane, navigate to Forest: ",(0,i.jsx)(o.code,{children:"<forest name>"})," \u2192 Domains \u2192 ",(0,i.jsx)(o.code,{children:"<domain name>"})," \u2192 Domain Controllers. Right-click the effective domain controllers policy (by default, it is the ",(0,i.jsx)(o.em,{children:"Default Domain Controllers Policy"}),"), and select Edit ."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 3 \u2013"})," In the Group Policy Management Editor dialog, expand the Computer Configuration node on the left and navigate to Policies \u2192 Windows Settings \u2192 Security Settings \u2192 Local Policies."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 4 \u2013"})," On the right, double-click the User Rights Assignment policy."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 5 \u2013"})," Locate the Log on as a batch job policy and double-click it."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 6 \u2013"})," In the Log on as a batch job Properties dialog, click Add User or Group and specify the user that you want to define this policy for."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 7 \u2013"}),' Navigate to Start \u2192 Run and type "',(0,i.jsx)(o.em,{children:"cmd"}),'". Input the ',(0,i.jsx)(o.code,{children:"gpupdate /force"})," command and press Enter. The group policy will be updated."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 8 \u2013"})," Type ",(0,i.jsx)(o.code,{children:"repadmin /syncall"})," command and press Enter for replicate GPO changes to other domain controllers."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Step 9 \u2013"})," Ensure that new GPO settings applied on any audited domain controller."]})]})}function h(e={}){const{wrapper:o}={...(0,c.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},964190:(e,o,n)=>{n.d(o,{A:()=>t});const t=n.p+"assets/images/manualconfig_ws_logonasbatch-52ef68fd75ca803f6e96e2de4ef86898.webp"}}]);