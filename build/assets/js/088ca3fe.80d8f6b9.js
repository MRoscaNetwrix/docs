"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[92467],{16574:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/dqs_servers_list_thumb_0_0-851bbd8c9d808c8347854735f8a88e17.webp"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(296540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},264032:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/dqs_mode_page_thumb_0_0-dbbd47fb3f932b38b248a12b80fc31ef.webp"},609839:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"ndc/requirements/dqsmode","title":"Configuring NDC Servers Cluster and Load Balancing with DQS Mode","description":"The Distributed Query Server (DQS) mode allows you to balance the load between multiple Netwrix Data Classification Servers (NDC Servers) while data collection, indexing and classification. This approach is strongly recommended if you need to process large data volumes, for example:","source":"@site/docs/dataclassification/ndc/requirements/dqsmode.md","sourceDirName":"ndc/requirements","slug":"/ndc/requirements/dqsmode","permalink":"/docs/dataclassification/ndc/requirements/dqsmode","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/dataclassification/ndc/requirements/dqsmode.md","tags":[],"version":"current","frontMatter":{},"sidebar":"dataClassificationSidebar","previous":{"title":"Accounts and Required Permissions","permalink":"/docs/dataclassification/ndc/requirements/accountreqs"},"next":{"title":"Hardware Requirements","permalink":"/docs/dataclassification/ndc/requirements/hardwarerequirements"}}');var r=s(474848),i=s(28453);const a={},o="Configuring NDC Servers Cluster and Load Balancing with DQS Mode",l={},d=[{value:"Applying DQS Mode",id:"applying-dqs-mode",level:2}];function c(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuring-ndc-servers-cluster-and-load-balancing-with-dqs-mode",children:"Configuring NDC Servers Cluster and Load Balancing with DQS Mode"})}),"\n",(0,r.jsx)(n.p,{children:"The Distributed Query Server (DQS) mode allows you to balance the load between multiple Netwrix Data Classification Servers (NDC Servers) while data collection, indexing and classification. This approach is strongly recommended if you need to process large data volumes, for example:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"File Servers\u2014Up to 64 m objects per cluster of 4 servers."}),"\n",(0,r.jsx)(n.li,{children:"SharePoint\u2014Up to 32 m objects per cluster of 4 servers."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To apply Distributed Query Server mode, you need to arrange your NDC Servers in a 'cluster' for load distribution, as described below. Each clustered NDC Server will store its own set of .CSE files \u2014 that is, ",(0,r.jsx)(n.strong,{children:"NDC Index"})," will be a distributed index. To assemble and combine data required for the search results, each NDC Server will automatically communicate with the other clustered servers."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"})," All NDC Servers in the cluster will share a single NDC SQL database."]}),"\n",(0,r.jsxs)(n.p,{children:["This functionality is implemented through the ",(0,r.jsx)(n.em,{children:"QueryServer"})," application installed together with NDC Server."]}),"\n",(0,r.jsx)(n.h2,{id:"applying-dqs-mode",children:"Applying DQS Mode"}),"\n",(0,r.jsx)(n.p,{children:"DQS mode can be configured via the administrative web console."}),"\n",(0,r.jsx)(n.p,{children:"If you want to implement DQS configuration for your NDC deployment, consider the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This action cannot easily be undone, so before applying the DQS mode, take a full backup of your NDC deployment. Also, read the related documentation sections thoroughly before you start."}),"\n",(0,r.jsx)(n.li,{children:"Make sure all servers you plan to add to the DQS cluster have proper network connection and are visible to each other across the network. Adjust firewall settings if necessary."}),"\n",(0,r.jsx)(n.li,{children:"Initially, all existing documents will be \u2018allocated\u2019 to the first server in the 'cluster' and then re-distributed across all configured servers."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To be able to configure the DQS mode, current account requires a ",(0,r.jsx)(n.strong,{children:"Superuser"})," role."]}),"\n",(0,r.jsx)(n.p,{children:"To arrange NDC Servers cluster and apply DQS mode"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Install and configure the first Netwrix Data Classification Server as described in the ",(0,r.jsx)(n.a,{href:"/docs/dataclassification/ndc/install/overview",children:"Install Netwrix Data Classification"})," section."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open administrative web console."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Navigate to Settings \u2192 Utilities \u2192 DQS."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Select Enable DQS."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"})," Once the DQS\xa0mode is enabled, you cannot roll back your configuration. Netwrix strongly recommends to ensure that you have taken a full backup of your environment. If ready, confirm the DOS enablement operation when prompted."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On the DQS tab, click Add to add servers you prepared, one by one."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"dqs_mode_page_thumb_0_0",src:s(264032).A+"",width:"1450",height:"563"})}),"\n",(0,r.jsx)(n.p,{children:"Complete the following fields:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Setting"}),(0,r.jsx)(n.th,{children:"Value"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Server"}),(0,r.jsx)(n.td,{children:"Provide the NDC Server name or IP\xa0address (name format is case-insensitive)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"QS Path"}),(0,r.jsx)(n.td,{children:"Path to the solution component responsible for DQS mode, residing on the server being added.  Filled in automatically; leave the default value."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Active"}),(0,r.jsx)(n.td,{children:"Select to enable clustering for the instance being added."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Alternate Server"}),(0,r.jsx)(n.td,{children:"Netwrix recommends using default values."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Alternate QS Path"}),(0,r.jsx)(n.td,{children:"Netwrix recommends using default values."})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Save"})," to close the dialog."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Prepare to install other Netwrix Data Classification Server instances, assuming each server requires a dedicated machine.\nMake sure they meet the ",(0,r.jsx)(n.a,{href:"/docs/dataclassification/ndc/requirements/hardwarerequirements",children:"Hardware Requirements"})," and general ",(0,r.jsx)(n.a,{href:"/docs/dataclassification/ndc/requirements/softwarerequirements",children:"Software Requirements"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["On each server, follow the installation steps as described in the ",(0,r.jsx)(n.a,{href:"/docs/dataclassification/ndc/install/overview",children:"Install Netwrix Data Classification"})," section until SQL Database configuration."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"On the SQL Database step, provide the name of the SQL Server instance that hosts NDC SQL\xa0database you configured for the first NDC Server."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"})," Ignore the confirmation dialog on the existing schema in the selected SQL database."]}),"\n",(0,r.jsxs)(n.ol,{start:"10",children:["\n",(0,r.jsx)(n.li,{children:"Complete the installation."}),"\n",(0,r.jsx)(n.li,{children:"Repeat steps 2 - 6 for every NDC\xa0Server, then review the list of servers to make sure the new server was included."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"dqs_servers_list_thumb_0_0",src:s(16574).A+"",width:"1194",height:"567"})}),"\n",(0,r.jsxs)(n.ol,{start:"12",children:["\n",(0,r.jsx)(n.li,{children:"If you were configuring the DQS mode for the existing NDC deployment, you will be prompted to re-collect data from the data sources \u2014in order to re-distribute the content index across all NDC Servers in the cluster."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"})," To force re-distribution when necessary, you can use the Re-Collect command available after clicking ",(0,r.jsx)(n.strong,{children:"Run Cleaner"})," button on the ",(0,r.jsx)(n.strong,{children:"Settings > Core > Collector"})," tab."]}),"\n",(0,r.jsxs)(n.p,{children:["To review system health and check your configuration, use the product dashboards. ",(0,r.jsx)(n.a,{href:"/docs/dataclassification/ndc/admin/reporting/dashboards",children:"See Operations and Health Dashboards for more information."})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);