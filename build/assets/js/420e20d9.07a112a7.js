"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[701431],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var t=i(296540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}},802233:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"policypak/license/mdm/adminrights","title":"Why does the Endpoint Policy Manager Licensing Tool (LT.EXE) require admin rights to query for Intune / Azure data?","description":"The short","source":"@site/docs/policypak/policypak/license/mdm/adminrights.md","sourceDirName":"policypak/license/mdm","slug":"/policypak/license/mdm/adminrights","permalink":"/docs/policypak/policypak/license/mdm/adminrights","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/license/mdm/adminrights.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"I received multiple license files back from the Sales team (one for each Endpoint Policy Manager component.) Should I install all of them?","permalink":"/docs/policypak/policypak/license/filemultiple"},"next":{"title":"How do I license Autopilot pre-provisioning foouser and autopilot user for my Intune MDM service?","permalink":"/docs/policypak/policypak/license/mdm/autopilot"}}');var o=i(474848),r=i(28453);const s={},c="Why does the Endpoint Policy Manager Licensing Tool (LT.EXE) require admin rights to query for Intune / Azure data?",a={},d=[];function l(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"why-does-the-endpoint-policy-manager-licensing-tool-ltexe-require-admin-rights-to-query-for-intune--azure-data",children:"Why does the Endpoint Policy Manager Licensing Tool (LT.EXE) require admin rights to query for Intune / Azure data?"})}),"\n",(0,o.jsx)(n.p,{children:"The short\nversion is that Microsoft doesn't allow us to retrieve the\ncount of devices from Intune / Azure without admin consent."}),"\n",(0,o.jsxs)(n.p,{children:["The Netwrix Netwrix Endpoint Policy Manager (formerly PolicyPak) Licensing Tool",(0,o.jsx)(n.code,{children:" (LT.EXE)"})," uses the Microsoft.Graph.Intune API to retrieve the number of\ndevices from Azure AD. Unfortunately, this API requires Admin Consent to count the number of computers in Azure."]}),"\n",(0,o.jsx)(n.p,{children:"Below are\nthe technical details and references to Microsoft API\ndocumentation where it is specified that these commands require admin consent: For LT we use the command\nGet-Organization. This command requires one of the following permissions:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"DeviceManagementServiceConfig.Read.All"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"DeviceManagementConfiguration.Read.All"})}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["See the ",(0,o.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/graph/permissions-reference#microsoft-graph-permissions-reference",children:"Microsoft Graph permissions reference"})," article for additional information on the Get-Organization command and the permissions it needs (we need this command to get the number of\ndevices)."]}),"\n",(0,o.jsx)(n.p,{children:"The table below is taken from the link above, where we can see that both of the commands used in LT require admin\nconsent:"}),"\n",(0,o.jsx)(n.p,{children:"Application permissions"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Permission"}),(0,o.jsx)(n.th,{children:"Display String"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Admin Consent Required"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DeviceManagementServiceConfig.Read.All"}),(0,o.jsx)(n.td,{children:"Read Microsoft Intune configuration"}),(0,o.jsx)(n.td,{children:"Allows the app to read Intune service properties, including device enrollment and third party service connection configuration."}),(0,o.jsx)(n.td,{children:"Yes"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DeviceManagementConfiguration.Read.All"}),(0,o.jsx)(n.td,{children:"Read Microsoft Intune device configuration and policies"}),(0,o.jsx)(n.td,{children:"Allows the app to read properties of Microsoft Intune-managed device configuration and device compliance policies and their assignment to groups."}),(0,o.jsx)(n.td,{children:"Yes"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);