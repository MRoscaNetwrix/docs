"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[302268],{3003:(e,o,r)=>{r.d(o,{A:()=>t});const t=r.p+"assets/images/menuitems_userview_v603-405d87598c23ef097c69001b063a2b3d.webp"},28453:(e,o,r)=>{r.d(o,{R:()=>s,x:()=>a});var t=r(296540);const n={},i=t.createContext(n);function s(e){const o=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),t.createElement(i.Provider,{value:o},e.children)}},688414:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"usercube/integration-guide/workflows/how-to/workflow-update-mono/index","title":"For Resource Update (Mono Record)","description":"This section guides you through the procedure for the creation of a workflow to schedule the replacement of the unique record of an existing resource with a new one.","source":"@site/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-update-mono/index.md","sourceDirName":"usercube/integration-guide/workflows/how-to/workflow-update-mono","slug":"/usercube/integration-guide/workflows/how-to/workflow-update-mono/","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-update-mono/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-update-mono/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSaasSidebar","previous":{"title":"For Resource Creation (Multi Records)","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-create-multi/"},"next":{"title":"For Resource Update (Multi Records)","permalink":"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/workflow-update-multi/"}}');var n=r(474848),i=r(28453);const s={},a="For Resource Update (Mono Record)",c={},d=[{value:"Declare a Workflow",id:"declare-a-workflow",level:2},{value:"Create Forms",id:"create-forms",level:2},{value:"Link the Forms to the Workflow",id:"link-the-forms-to-the-workflow",level:2},{value:"Assign the Right Permissions",id:"assign-the-right-permissions",level:2},{value:"Create Menu Items in the UI",id:"create-menu-items-in-the-ui",level:2},{value:"Add Aspects",id:"add-aspects",level:2},{value:"Homonym Detection (Optional)",id:"homonym-detection-optional",level:2},{value:"Customize the Display Table (Optional)",id:"customize-the-display-table-optional",level:2}];function l(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"for-resource-update-mono-record",children:"For Resource Update (Mono Record)"})}),"\n",(0,n.jsx)(o.p,{children:"This section guides you through the procedure for the creation of a workflow to schedule the replacement of the unique record of an existing resource with a new one."}),"\n",(0,n.jsx)(o.h2,{id:"declare-a-workflow",children:"Declare a Workflow"}),"\n",(0,n.jsxs)(o.p,{children:["This ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/workflow/",children:"\nWorkflow\n"})," is made of two activities:"]}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"Action With Refine"}),": sends the resource's record update request with a possibility of delegation."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"Persist"}),": saves the collected data and triggers provisioning."]}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["See the ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/workflows/activity-templates/",children:"\nActivity Templates\n"})," topic for additional information."]}),"\n",(0,n.jsx)(o.p,{children:"The example below creates a workflow to update only the user's name."}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n  <Workflow Identifier="Directory_User_ChangeName" DisplayName_L1="User - Update Name" VariablesType="Workflow_Directory_User">    <Activity Identifier="Request" DisplayName_L1="Request" Template="ActionWithRefine" />    <Activity Identifier="Persist" DisplayName_L1="Commit" Template="Persist" />  </Workflow>\n\n'})}),"\n",(0,n.jsx)(o.p,{children:"For now, our workflow works with an immediate validation and an immediate effect."}),"\n",(0,n.jsx)(o.h2,{id:"create-forms",children:"Create Forms"}),"\n",(0,n.jsxs)(o.p,{children:["The XML configuration below represents the creation of a ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/user-interface/form/",children:"Form"})," that defines the elements to display in the workflow."]}),"\n",(0,n.jsx)(o.p,{children:"Here we just have the full name field to update the corresponding attributes for a given user:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<Form Identifier="Workflow_Directory_User_ChangeName_Base" EntityType="Workflow_Directory_User">  <Control DisplayName_L1="Full Name" OutputType="LayoutRowset" EntityType="Directory_UserRecord">    <Control Binding="LastName" />    <Control Binding="FirstName" />  </Control></Form>\n\n'})}),"\n",(0,n.jsx)(o.h2,{id:"link-the-forms-to-the-workflow",children:"Link the Forms to the Workflow"}),"\n",(0,n.jsxs)(o.p,{children:["After creating a workflow with given activities, it is necessary to create the form to be displayed when launching the workflow. It has the type corresponding to a (unique) record's replacement, i.e. ",(0,n.jsx)(o.code,{children:"WorkflowAddAndEndRecordEntityForm"})," and it must specify the workflow's context (the entity type of the involved resources, the main property, the activity when the form is called, etc):"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<WorkflowAddAndEndRecordEntityForm Identifier="Workflow_Directory_User_ChangeName" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_ChangeName:Request" HideRoles="true" FormTitle_L1="Change Name"></WorkflowAddAndEndRecordEntityForm>\n\n'})}),"\n",(0,n.jsxs)(o.p,{children:["A ",(0,n.jsx)(o.code,{children:"WorkflowAddAndEndRecordEntityForm"})," requires the following child elements:"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"MainControl"})," that defines user's data;"]}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<WorkflowAddAndEndRecordEntityForm Identifier="Workflow_Directory_User_ChangeName_Base" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_ChangeName:Request" HideRoles="true" FormTitle_L1="Change Name">\n  <MainControl OutputType="LayoutContainer"/>\n</WorkflowAddAndEndRecordEntityForm>\n\n'})}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"MainControl"})," attribute is here an empty container, because it is a mandatory attribute that is not involved in the changes of this workflow."]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"RecordControl"})," that defines record data, and call the form created previously."]}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<WorkflowAddAndEndRecordEntityForm Identifier="Workflow_Directory_User_ChangeName" EntityType="Workflow_Directory_User" MainProperty="Workflow_Directory_User:Directory_User" RecordProperty="Directory_User:Records" WorkflowRequestType="Self" Activity="Directory_User_ChangeName:Request" HideRoles="true" FormTitle_L1="Change Name" >  <MainControl OutputType="LayoutContainer"/>\n  <RecordControl OutputType="TransformImport" EmbeddedForm="Workflow_Directory_User_ChangeName_Base" />\n</WorkflowAddAndEndRecordEntityForm>\n\n'})}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"UI Form",src:r(753474).A+"",width:"1251",height:"399"})}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"End of transition"})," sets the date for the change of records scheduled by this form."]}),"\n",(0,n.jsx)(o.h2,{id:"assign-the-right-permissions",children:"Assign the Right Permissions"}),"\n",(0,n.jsxs)(o.p,{children:["Some profiles must get specific permissions so that the workflow is visible and usable by the right users.\nRead about ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/workflows/workflow/",children:"\nWorkflow\n"}),"s permissions."]}),"\n",(0,n.jsxs)(o.p,{children:["Below is an example of an access control rule where the ",(0,n.jsx)(o.code,{children:"Administrator"})," profile gets the permissions for the whole update request from the previously created workflow:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<AccessControlRule Profile="Administrator" EntityType="Workflow_Directory_User" Identifier="Administrator_Workflows_Directory_User_*" DisplayName_L1="Administrator_Workflows_Directory_User_*">  <Entry Permission="/Custom/Workflows/Directory_User_ChangeName/Request/ActionPending" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_ChangeName/Request/RefinePending" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_ChangeName/Request/Aborted" CanExecute="true" />  <Entry Permission="/Custom/Workflows/Directory_User_ChangeName/Request/Purged" CanExecute="true" /></AccessControlRule>\n\n'})}),"\n",(0,n.jsx)(o.h2,{id:"create-menu-items-in-the-ui",children:"Create Menu Items in the UI"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/user-interface/menuitem/",children:"\nMenu Item\n"})," must be defined to make the workflow accessible in the UI."]}),"\n",(0,n.jsx)(o.p,{children:"Updating an existing resource, this workflow manages one given resource at a time. Hence an interesting location for this workflow could be the individual view page of users."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"Workflow Menu Items - User&#39;s Page",src:r(3003).A+"",width:"3594",height:"985"})}),"\n",(0,n.jsx)(o.p,{children:"To create a menu item here for the new workflow, you can add the following XML configuration to the existing menu items list:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:'\n<MenuItem Identifier="Menu_Directory_User" DisplayName_L1="Menu">  <MenuItem Identifier="Menu_Directory_User_Changes" DisplayName_L1="Actions">    <MenuItem Identifier="Menu_Directory_User_Changes_Update" DisplayName_L1="Section">      ...\n      <MenuItem Identifier="Menu_Directory_User_Changes_ChangeName" DisplayName_L1="Update Name" IconCode="Edit" Workflow="Directory_User_ChangeName" />\n    </MenuItem>  </MenuItem></MenuItem>\n\n'})}),"\n",(0,n.jsx)(o.h2,{id:"add-aspects",children:"Add Aspects"}),"\n",(0,n.jsx)(o.p,{children:"For each workflow, it is possible to add aspects according to the workflow's purpose."}),"\n",(0,n.jsx)(o.h2,{id:"homonym-detection-optional",children:"Homonym Detection (Optional)"}),"\n",(0,n.jsxs)(o.p,{children:["To perform a homonymy check on a workflow and thus prevent user duplicates, see the ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/workflows/how-to/configure-homonym-test/",children:"\nConfigure a Homonym Detection\n"})," topic for additional information."]}),"\n",(0,n.jsx)(o.p,{children:"When using records, the homonym detection displays the list of records and not just the list of users."}),"\n",(0,n.jsx)(o.h2,{id:"customize-the-display-table-optional",children:"Customize the Display Table (Optional)"}),"\n",(0,n.jsxs)(o.p,{children:["To configure a display table different from the default one provided by Identity Manager, see the ",(0,n.jsx)(o.a,{href:"/docs/usercube_saas/usercube/integration-guide/ui/how-tos/custom-display-table/",children:"Customize Display Tables"})," topic for additional information."]})]})}function u(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},753474:(e,o,r)=>{r.d(o,{A:()=>t});const t=r.p+"assets/images/howto_resourceupdatemono_form_v603-6247801b67f1c95d42e8298d4d24e91f.webp"}}]);