"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[103966],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(296540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}},327816:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"policypak/troubleshooting/leastprivilege/overview","title":"Troubleshooting","description":"Endpoint Policy Manager Least Privilege Manager problems can generally be divided into three categories:","source":"@site/docs/policypak/policypak/troubleshooting/leastprivilege/overview.md","sourceDirName":"policypak/troubleshooting/leastprivilege","slug":"/policypak/troubleshooting/leastprivilege/overview","permalink":"/docs/policypak/policypak/troubleshooting/leastprivilege/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/troubleshooting/leastprivilege/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"How-to troubleshoot LPM rules for Kaseya Agent Service?","permalink":"/docs/policypak/policypak/troubleshooting/leastprivilege/kaseyaagentservice"},"next":{"title":"If multiple Endpoint Privilege Manager rules would apply, which rule takes precedence?","permalink":"/docs/policypak/policypak/troubleshooting/leastprivilege/ruleprecedence"}}');var s=i(474848),t=i(28453);const r={},l="Troubleshooting",a={},c=[];function p(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,s.jsx)(n.p,{children:"Endpoint Policy Manager Least Privilege Manager problems can generally be divided into three categories:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Case 1: You expected a rule to bypass UAC, but it did not."}),"\n",(0,s.jsx)(n.li,{children:"Case 2: A rule is bypassing UAC, and it was not expected."}),"\n",(0,s.jsx)(n.li,{children:"Case 3: A rule is preventing an item from running when not expected."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["In all cases, you can see detailed information about the occurrence within the Endpoint Policy Manager Least Privilege Manager log files which are found in: ",(0,s.jsx)(n.code,{children:"%appdata%\\local\\PolicyPak\\PolicyPak Least Privilege Manager and %Programdata%\\PolicyPak\\PolicyPak Least Privilege Manager"})]}),"\n",(0,s.jsx)(n.p,{children:"First, you need to open the correct log file, based on the activity that has occurred, to see which Endpoint Policy Manager Least Privilege Manager policies you have. There are several files to check:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ppUser_OnLogon.log. This log gets new data when Group Policy applies at logon, and items are set for the User side, not the Computer side."}),"\n",(0,s.jsx)(n.li,{children:"ppUser_Switched.log. This log file is updated when Group Policy applies at logon, but items are set for the Computer side."}),"\n",(0,s.jsx)(n.li,{children:"ppUser_OnGroupPolicy.log. This log gets new data when Group Policy applies in the background when GPupdate is run, or when Group Policy applies in the background."}),"\n",(0,s.jsx)(n.li,{children:"ppUser_onPolicyChanged.log. This log file is updated when Group Policy applies in the background, or when a non-Group Policy method is used (e.g., Microsoft Endpoint Manager (SCCM and Intune) or Endpoint Policy Manager Cloud)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Start troubleshooting by verifying that the following conditions (seen here) are true:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You have the GPO (or file)."}),"\n",(0,s.jsx)(n.li,{children:"There is a collection within the GPO."}),"\n",(0,s.jsx)(n.li,{children:"The rules are within the collection."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"![A screenshot of a computer"}),"\n",(0,s.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/troubleshooting/preferences/troubleshooting_1.webp)"}),"\n",(0,s.jsx)(n.p,{children:"The final log to check is the ppUser_Operational.log, which can indicate why something is denied (blocked), allowed, or elevated. It shows what was trying to run and which GPO, collection, and policy performed the action, along with the ultimate result. For example, this log shows a Deny result."}),"\n",(0,s.jsx)(n.p,{children:"![A screenshot of a computer code"}),"\n",(0,s.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/troubleshooting/preferences/troubleshooting_2.webp)"}),"\n",(0,s.jsx)(n.p,{children:"An Allowed result can be seen here."}),"\n",(0,s.jsx)(n.p,{children:"![A screenshot of a computer code"}),"\n",(0,s.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/troubleshooting/preferences/troubleshooting_3.webp)"}),"\n",(0,s.jsx)(n.p,{children:"An Elevated result can be seen here."}),"\n",(0,s.jsx)(n.p,{children:"![A screenshot of a computer code"}),"\n",(0,s.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/troubleshooting/preferences/troubleshooting_4.webp)"}),"\n",(0,s.jsx)(n.p,{children:"Additionally, as expressed earlier, you can also see when Admin Approval dialogs are shown to end users, when they are canceled, and which processes failed to run because they did not get Administrator privileges. In this screenshot you can see that the dialog was canceled, which means the end user was not permitted to perform an action which required a UAC prompt."}),"\n",(0,s.jsx)(n.p,{children:"![A screenshot of a computer program"}),"\n",(0,s.jsx)(n.p,{children:"Description automatically generated](/img/product_docs/policypak/policypak/leastprivilege/adminapproval/avoid_pop_ups_with_admin_approval_1.webp)"}),"\n",(0,s.jsx)(n.p,{children:"Additionally, Admin Approval is logged in the ppUser_Operational.log file as well, which shows when applications require Admin privileges and when the user successfully enters in a response code from an Admin when he or she uses the Endpoint Policy Manager Admin Approval Tool."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"NOTE:"})," The Reason Code is also stored here and is a fixed list from within the Endpoint Policy Manager Admin Approval Tool."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Admin Approval Dialog (2018/07/14, 15:55:20.312, PID: 1360, TID: 3020)  \n{  \n\xa0\xa0\xa0\xa0Process requires administrator privileges  \n\xa0\xa0\xa0\xa0Dialog Guide: {3F8058CB-AB08-F878-D146-78312F2B7031} User Sid: S-1-5-\xa0\xa0\xa0\xa021-934088035-149717768-3671783038-1116  \n\xa0\xa0\xa0\xa0User Name: FABRIKAM\\EastSalesUser1 Process Id: 7072  \n\xa0\xa0\xa0\xa0Process Path: C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe  \n\xa0\xa0\xa0\xa0Command Line: "C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe"  \n\xa0\xa0\xa0\xa0Task Kind: ApplicationInstaller\xa0  \n\xa0\xa0\xa0\xa0Task Hash:  \n25AA5CA53202838E3937FCFF39B3DB34C6B5A7188D28F45D7BFEDE81CF37ED6D  \n\xa0\xa0\xa0\xa0Executable: C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe  \n\xa0\xa0\xa0\xa0File Owner Sid: S-1-5-21-934088035-149717768-3671783038-1116  \n\xa0\xa0\xa0\xa0File Owner Name: FABRIKAM\\EastSalesUser1 Trusted: No  \n\xa0\xa0\xa0\xa0Signed: Yes  \n} // End of Admin Approval Dialog, elapsed time: 00:00:00.001  \nAdmin Approval Dialog (2018/07/14, 15:56:10.279, PID: 1360, TID: 2920)  \n{  \n\xa0\xa0\xa0\xa0Dialog success  \n\xa0\xa0\xa0\xa0Dialog Guid: S-1-5-21-934088035-149717768-3671783038-1116 User Sid: S-1-5-21-934088035-149717768-3671783038-1116  \n\xa0\xa0\xa0\xa0User Name: FABRIKAM\\EastSalesUser1 Process Id: 7072  \n\xa0\xa0\xa0\xa0Process Path: C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe  \n\xa0\xa0\xa0\xa0Command Line: "C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe"  \n\xa0\xa0\xa0\xa0Task Kind: ApplicationInstaller\xa0  \n\xa0\xa0\xa0\xa0Task Hash:  \n25AA5CA53202838E3937FCFF39B3DB34C6B5A7188D28F45D7BFEDE81CF37ED6D  \n\xa0\xa0\xa0\xa0Executable: C:\\Users\\eastsalesuser1\\Desktop\\Silverlight install.exe  \n\xa0\xa0\xa0\xa0File Owner Sid: S-1-5-21-934088035-149717768-3671783038-1116  \n\xa0\xa0\xa0\xa0File Owner Name: FABRIKAM\\EastSalesUser1 Trusted: No  \n\xa0\xa0\xa0\xa0Signed: Yes  \n\xa0\xa0\xa0\xa0Reason: Application_LOB\xa0  \n\xa0\xa0\xa0\xa0Forced Elevation: No  \n\n'})}),"\n",(0,s.jsx)(n.p,{children:"If requested by support, logs are automatically wrapped up and can be sent to Netwrix Support with the PPLOGS.EXE command on any endpoint where the client-side extension is installed."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);