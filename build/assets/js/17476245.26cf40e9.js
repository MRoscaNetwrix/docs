"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[67449],{28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var i=r(296540);const s={},t=i.createContext(s);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},186451:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"usercube/integration-guide/connectors/references-connectors/azure/index","title":"Azure","description":"This connector exports Azure resources, role definitions and assignments.","source":"@site/docs/usercube/usercube/integration-guide/connectors/references-connectors/azure/index.md","sourceDirName":"usercube/integration-guide/connectors/references-connectors/azure","slug":"/usercube/integration-guide/connectors/references-connectors/azure/","permalink":"/docs/usercube/usercube/integration-guide/connectors/references-connectors/azure/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube/usercube/integration-guide/connectors/references-connectors/azure/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSidebar","previous":{"title":"Active Directory","permalink":"/docs/usercube/usercube/integration-guide/connectors/references-connectors/activedirectory/"},"next":{"title":"CSV","permalink":"/docs/usercube/usercube/integration-guide/connectors/references-connectors/csv/"}}');var s=r(474848),t=r(28453);const c={},o="Azure",d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Export",id:"export",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Setting attributes",id:"setting-attributes",level:4},{value:"Output details",id:"output-details",level:3},{value:"Fulfill",id:"fulfill",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Password reset",id:"password-reset",level:3},{value:"Credential protection",id:"credential-protection",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"azure",children:"Azure"})}),"\n",(0,s.jsxs)(n.p,{children:["This connector exports ",(0,s.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/resources/cloud-computing-dictionary/what-is-azure",children:"Azure"})," resources, role definitions and assignments."]}),"\n",(0,s.jsxs)(n.p,{children:["This page is about ",(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/connectors/references-packages/azure/",children:"\nAzure\n"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Package: Cloud/Azure",src:r(906067).A+"",width:"183",height:"67"})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["Implementing this connector requires at least the ",(0,s.jsx)(n.code,{children:"Security Reader"})," role, because Identity Manager\xa0does not access the ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/rest/api/azure/",children:"Azure API"})," on behalf of a user but with ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/rest/api/azure/",children:"its own identity"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"export",children:"Export"}),"\n",(0,s.jsx)(n.p,{children:"For a given Azure tenant with resources, this connector exports Azure resources, role definitions and role assignments to CSV files."}),"\n",(0,s.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["This process is configured through a ",(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/connectors/connection/",children:"\nConnection\n"})," in the UI and/or the XML configuration, and in the ",(0,s.jsx)(n.code,{children:"appsettings.agent.json > Connections"})," section:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"<ConnectionIdentifier>": {\n...\n}\n}\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"The identifier of the connection and thus the name of the subsection must:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"be unique."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"not begin with a digit."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["not contain ",(0,s.jsx)(n.code,{children:"<"}),", ",(0,s.jsx)(n.code,{children:">"}),", ",(0,s.jsx)(n.code,{children:":"}),", ",(0,s.jsx)(n.code,{children:'"'}),", ",(0,s.jsx)(n.code,{children:"/"}),", ",(0,s.jsx)(n.code,{children:"\\"}),", ",(0,s.jsx)(n.code,{children:"|"}),", ",(0,s.jsx)(n.code,{children:"?"}),", ",(0,s.jsx)(n.code,{children:"*"})," and ",(0,s.jsx)(n.code,{children:"_"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The following example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\n    appsettings.agent.json\n{\n...\n"Connections": {\n...\n"AzureExport": {\n"ApplicationId": "contosoAzure897",\n"ApplicationKey": "25d408a1925d4c081925b\\\\d40819",\n"SubscriptionId": "Contoso",\n"TenantId": "25d40819-f23f-4837-9d50-a9a52da50b8c",\n"AzurePath": "https://management.azure.com/.default",\n"AzurePathApi": "https://management.azure.com",\n"ResponseUri": "https://agent.usercubecontoso.com"\n}\n}\n}\n'})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"setting-attributes",children:"Setting attributes"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Details"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ApplicationId   required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," GUID that uniquely identifies the application registration in the Azure tenant.   ",(0,s.jsx)(n.strong,{children:"Note:"})," value obtained at registration: ",(0,s.jsx)(n.strong,{children:"App registrations"})," > ",(0,s.jsx)(n.strong,{children:"Owned applications"})," > ",(0,s.jsx)(n.strong,{children:"Identity Manager"})," > ",(0,s.jsx)(n.strong,{children:"Overview"})," > ",(0,s.jsx)(n.strong,{children:"Application (client) ID"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ApplicationKey   required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," Secret associated with the ",(0,s.jsx)(n.code,{children:"ApplicationId"}),".   ",(0,s.jsx)(n.strong,{children:"Note:"})," value obtained at registration: ",(0,s.jsx)(n.strong,{children:"App registrations"})," > ",(0,s.jsx)(n.strong,{children:"Owned applications"})," > ",(0,s.jsx)(n.strong,{children:"Identity Manager"})," > ",(0,s.jsx)(n.strong,{children:"Certificate & secrets"})," > ",(0,s.jsx)(n.strong,{children:"Client secrets"})," > ",(0,s.jsx)(n.strong,{children:"Client Secret"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TenantId   required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," GUID that uniquely identifies the Azure tenant.   ",(0,s.jsx)(n.strong,{children:"Note:"})," value obtained at registration: ",(0,s.jsx)(n.strong,{children:"App registrations"})," > ",(0,s.jsx)(n.strong,{children:"Owned applications"})," > ",(0,s.jsx)(n.strong,{children:"Identity Manager"})," > ",(0,s.jsx)(n.strong,{children:"Overview"})," > ",(0,s.jsx)(n.strong,{children:"Application (tenant) ID"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["ResponseUri   default value: ",(0,s.jsx)(n.code,{children:"http://localhost"})]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," URI used by Azure to contact back the application with the tokens. This response Uri needs to be registered in the ",(0,s.jsx)(n.a,{href:"https://aka.ms/msal-net-register-app",children:"app registration"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"---"}),(0,s.jsx)(n.td,{children:"---"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SubscriptionId   required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," GUID that uniquely identifies the subscription associated to the ",(0,s.jsx)(n.code,{children:"ApplicationId"}),". ",(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=6b1J03fDnOg&t=3s",children:"See how to find it"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["AzurePath   default value: ",(0,s.jsx)(n.code,{children:"https://management.azure.com/.default"})]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," Scope requested to access a protected API. For this flow (client credentials), the scope should be of the form ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{ResourceIdUri/.default}"})}),". ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow#see-microsofts-documentation",children:"See Microsoft's documentation"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["AzurePathApi   default value: ",(0,s.jsx)(n.code,{children:"https://management.azure.com"})]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Type"}),"    String   ",(0,s.jsx)(n.strong,{children:"Description"})," Azure Uri API."]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"output-details",children:"Output details"}),"\n",(0,s.jsxs)(n.p,{children:["This connector is meant to generate to the ",(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings/",children:"Application Settings"})," folder the following CSV files:"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<identifier>_RoleDefinition.csv"})," with the following columns:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": role definition's Azure id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"name"}),": role definition's id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"roleName"}),": role definition's name;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"type"}),": role definition's type, for example it can describe if it is a built-in role or a customized one;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"description"}),": role definition's description."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<identifier>_Resource.csv"})," with the following columns:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": resource's Azure id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"name"}),": resource's name;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"type"}),": resource's type;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"location"}),": resource's geographical location;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"managedBy"}),": GUID or Azure id of the resource's manager;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"principalId"}),": resource's identity PrincipalId;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ResourceIdentitytype"}),": resource's identity type."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<identifier>_RoleAssignment.csv"})," with the following columns:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"id"}),": role assignment's Azure id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"name"}),": role assignment's id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"roleDefinitionId"}),": role definition's Azure id;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"principalId"}),": Microsoft Entra ID (formerly Microsoft Azure AD)'s object GUID;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"scope"}),": resource's Azure id."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"fulfill",children:"Fulfill"}),"\n",(0,s.jsx)(n.p,{children:"There are no fulfill capabilities for this connector."}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(n.h3,{id:"password-reset",children:"Password reset"}),"\n",(0,s.jsx)(n.p,{children:"This connector does not reset passwords."}),"\n",(0,s.jsx)(n.h3,{id:"credential-protection",children:"Credential protection"}),"\n",(0,s.jsx)(n.p,{children:"Data protection can be ensured through:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/rsa-encryption/",children:"\nRSA Encryption\n"})," configured in the ",(0,s.jsx)(n.code,{children:"appsettings.encrypted.agent.json"})," file;"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["An ",(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/azure-key-vault/",children:"Azure Key Vault"})," safe;"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/",children:"CyberArk's AAM Credential Providers\n"})," able to store Azure's ",(0,s.jsx)(n.code,{children:"ApplicationId"})," and ",(0,s.jsx)(n.code,{children:"ApplicationKey"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},906067:(e,n,r)=>{r.d(n,{A:()=>i});const i="data:image/webp;base64,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"}}]);