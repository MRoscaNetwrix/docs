"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[211675],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var r=n(296540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}},833560:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"auditor/configuration/useractivity/datacollection","title":"Configure Data Collection Settings","description":"To successfully track user activity, make sure that the following settings are configured on the audited computers and on the computer where Netwrix Auditor Server is installed:","source":"@site/docs/auditor/auditor/configuration/useractivity/datacollection.md","sourceDirName":"auditor/configuration/useractivity","slug":"/auditor/configuration/useractivity/datacollection","permalink":"/docs/auditor/auditor/configuration/useractivity/datacollection","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/useractivity/datacollection.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"SQL Server Ports","permalink":"/docs/auditor/auditor/configuration/sqlserver/ports"},"next":{"title":"User Activity","permalink":"/docs/auditor/auditor/configuration/useractivity/overview"}}');var s=n(474848),i=n(28453);const o={},l="Configure Data Collection Settings",c={},d=[{value:"Check the Windows Services Status",id:"check-the-windows-services-status",level:2},{value:"Windows Features Communication",id:"windows-features-communication",level:2},{value:"Open Local TCP Port 9004",id:"open-local-tcp-port-9004",level:2},{value:"Open Local TCP Port 9003",id:"open-local-tcp-port-9003",level:2},{value:"Open Remote TCP Port 9004",id:"open-remote-tcp-port-9004",level:2}];function a(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"configure-data-collection-settings",children:"Configure Data Collection Settings"})}),"\n",(0,s.jsx)(t.p,{children:"To successfully track user activity, make sure that the following settings are configured on the audited computers and on the computer where Netwrix Auditor Server is installed:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"Windows Management Instrumentation"})," and the ",(0,s.jsx)(t.strong,{children:"Remote Registry"})," services are running and their ",(0,s.jsx)(t.strong,{children:"Startup Type"})," is set to ",(0,s.jsx)(t.em,{children:'"Automatic"'}),". See the ",(0,s.jsx)(t.a,{href:"#Check-the-Windows-Services-Status",children:"Check the Windows Services Status"})," topic for additional information."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"File and Printer Sharing"})," and the ",(0,s.jsx)(t.strong,{children:"Windows Management Instrumentation"})," features are allowed to communicate through Windows Firewall. See the ",(0,s.jsx)(t.a,{href:"#Windows-Features-Communication",children:"Windows Features Communication"})," topic for additional information."]}),"\n",(0,s.jsxs)(t.li,{children:["Local TCP Port 9004 is opened for inbound connections on the computer where Netwrix Auditor Server is installed. This is done automatically on the product installation. See the ",(0,s.jsx)(t.a,{href:"#Open-Local-TCP-Port-9004",children:"Open Local TCP Port 9004"})," topic for additional information."]}),"\n",(0,s.jsxs)(t.li,{children:["Local TCP Port 9003 is opened for inbound connections on the audited computers. See the ",(0,s.jsx)(t.a,{href:"#Open-Local-TCP-Port-9003",children:"Open Local TCP Port 9003"})," topic for additional information."]}),"\n",(0,s.jsxs)(t.li,{children:["Remote TCP Port 9004 is opened for outbound connections on the audited computers. See the ",(0,s.jsx)(t.a,{href:"#Open-Remote-TCP-Port-9004",children:"Open Remote TCP Port 9004"})," topic for additional information."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"check-the-windows-services-status",children:"Check the Windows Services Status"}),"\n",(0,s.jsx)(t.p,{children:"Follow the steps to check the status and startup type of Windows services."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to Start > Windows Administrative Tools > Services."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the ",(0,s.jsx)(t.strong,{children:"Services"})," snap-in, locate the ",(0,s.jsx)(t.strong,{children:"Remote Registry"})," service and make sure that its status is ",(0,s.jsx)(t.em,{children:'"Started"'})," (on pre-Windows Server 2012 versions) and ",(0,s.jsx)(t.em,{children:'"Running"'})," (on Windows Server 2012 and above). If it is not, right-click the service and select Start from the pop-up menu."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," Check that the ",(0,s.jsx)(t.strong,{children:"Startup Type"})," is set to ",(0,s.jsx)(t.em,{children:'"Automatic"'}),". If it is not, double-click the service. In the ",(0,s.jsx)(t.strong,{children:"Remote Registry Properties"})," dialog, in the ",(0,s.jsx)(t.strong,{children:"General"})," tab, select ",(0,s.jsx)(t.em,{children:'"Automatic"'})," from the drop-down list."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"})," Perform the steps above for the ",(0,s.jsx)(t.strong,{children:"Windows Management Instrumentation"})," service."]}),"\n",(0,s.jsx)(t.h2,{id:"windows-features-communication",children:"Windows Features Communication"}),"\n",(0,s.jsx)(t.p,{children:"Follow the steps to allow Windows features to communicate through Firewall."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to ",(0,s.jsx)(t.strong,{children:"Start \u2192 Control Panel"})," and select ",(0,s.jsx)(t.strong,{children:"Windows Firewall."})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the ",(0,s.jsx)(t.strong,{children:"Help Protect your computer with Windows Firewall"})," page, click ",(0,s.jsx)(t.strong,{children:"Allow a program or feature through Windows Firewall"})," on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," In the Allow an app or feature through Windows Firewall page that opens, locate the ",(0,s.jsx)(t.strong,{children:"File and Printer Sharing"})," feature and make sure that the corresponding checkbox is selected under Domain."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"})," Repeat step 3 for the ",(0,s.jsx)(t.strong,{children:"Windows Management Instrumentation (WMI)"})," feature."]}),"\n",(0,s.jsx)(t.h2,{id:"open-local-tcp-port-9004",children:"Open Local TCP Port 9004"}),"\n",(0,s.jsx)(t.p,{children:"Follow the steps to open Local TCP Port 9004 for inbound connections."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," On the computer where Netwrix Auditor is installed, navigate to ",(0,s.jsx)(t.strong,{children:"Start \u2192 Control Panel"})," and select ",(0,s.jsx)(t.strong,{children:"Windows Firewall."})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the ",(0,s.jsx)(t.strong,{children:"Help Protect your computer with Windows Firewall"})," page, click ",(0,s.jsx)(t.strong,{children:"Advanced settings"})," on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," In the Windows Firewall with Advanced Security dialog, select Inbound Rules on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"})," Click New Rule. In the New Inbound Rule wizard, complete the steps as described below:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On the Rule Type step, select Program."}),"\n",(0,s.jsx)(t.li,{children:"On the Program step, specify the path: %Netwrix Auditor installation folder%/Netwrix Auditor/User Activity Video Recording/UAVRServer.exe."}),"\n",(0,s.jsx)(t.li,{children:"On the Action step, select the Allow the connection action."}),"\n",(0,s.jsx)(t.li,{children:"On the Profile step, make sure that the rule applies to Domain."}),"\n",(0,s.jsx)(t.li,{children:"On the Name step, specify the rule's name, for example UA Server inbound rule."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 5 \u2013"})," Double-click the newly created rule and open the Protocols and Ports tab."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 6 \u2013"})," In the Protocols and Ports tab, complete the steps as described below:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set Protocol type to ",(0,s.jsx)(t.em,{children:'"TCP"'}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Set Local port to ",(0,s.jsx)(t.em,{children:'"Specific Ports"'})," and specify to ",(0,s.jsx)(t.em,{children:'"9004"'}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"open-local-tcp-port-9003",children:"Open Local TCP Port 9003"}),"\n",(0,s.jsx)(t.p,{children:"Follow the steps to open Local TCP Port 9003 for inbound connections."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," On a target computer navigate to ",(0,s.jsx)(t.strong,{children:"Start \u2192 Control Panel"})," and select ",(0,s.jsx)(t.strong,{children:"Windows Firewall."})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the ",(0,s.jsx)(t.strong,{children:"Help Protect your computer with Windows Firewall"})," page, click ",(0,s.jsx)(t.strong,{children:"Advanced settings"})," on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," In the Windows Firewall with Advanced Security dialog, select Inbound Rules on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"})," Click New Rule. In the New Inbound Rule wizard, complete the steps as described below."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Option"}),(0,s.jsx)(t.th,{children:"Setting"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Rule Type"}),(0,s.jsx)(t.td,{children:"Program"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Program"}),(0,s.jsxs)(t.td,{children:["Specify the path to the Core Service. By default, ",(0,s.jsx)(t.em,{children:"%ProgramFiles% (x86)\\Netwrix Auditor\\User Activity Core Service\\UAVRAgent.exe"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Action"}),(0,s.jsx)(t.td,{children:"Allow the connection"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Profile"}),(0,s.jsx)(t.td,{children:"Applies to Domain"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Name"}),(0,s.jsx)(t.td,{children:"Rule name, for example UA Core Service inbound rule."})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 5 \u2013"})," Double-click the newly created rule and open the Protocols and Ports tab."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 6 \u2013"})," In the Protocols and Ports tab, complete the steps as described below:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set Protocol type to ",(0,s.jsx)(t.em,{children:'"TCP"'}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Set Local port to ",(0,s.jsx)(t.em,{children:'"Specific Ports"'})," and specify to ",(0,s.jsx)(t.em,{children:'"9003"'}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"open-remote-tcp-port-9004",children:"Open Remote TCP Port 9004"}),"\n",(0,s.jsx)(t.p,{children:"Follow the steps to open Remote TCP Port 9004 for outbound connections."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 1 \u2013"})," On a target computer, navigate to ",(0,s.jsx)(t.strong,{children:"Start \u2192 Control Panel"})," and select ",(0,s.jsx)(t.strong,{children:"Windows Firewall."})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 2 \u2013"})," In the ",(0,s.jsx)(t.strong,{children:"Help Protect your computer with Windows Firewall"})," page, click ",(0,s.jsx)(t.strong,{children:"Advanced settings"})," on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 3 \u2013"})," In the Windows Firewall with Advanced Security dialog, select Outbound Rules on the left."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 4 \u2013"}),"  Click New Rule. In the New Outbound Rule wizard, complete the steps as described below."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Option"}),(0,s.jsx)(t.th,{children:"Setting"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Rule Type"}),(0,s.jsx)(t.td,{children:"Program"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Program"}),(0,s.jsxs)(t.td,{children:["Specify the path to the Core Service. By default, ",(0,s.jsx)(t.em,{children:"%ProgramFiles% (x86)\\Netwrix Auditor\\User Activity Core Service\\UAVRAgent.exe"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Action"}),(0,s.jsx)(t.td,{children:"Allow the connection"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Profile"}),(0,s.jsx)(t.td,{children:"Applies to Domain"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Name"}),(0,s.jsx)(t.td,{children:"Rule name, for example UA Core Service outbound rule."})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 5 \u2013"})," Double-click the newly created rule and open the Protocols and Ports tab."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Step 6 \u2013"})," In the Protocols and Ports tab, complete the steps as described below:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set Protocol type to ",(0,s.jsx)(t.em,{children:'"TCP"'}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Set Remote port to ",(0,s.jsx)(t.em,{children:'"Specific Ports"'})," and specify to ",(0,s.jsx)(t.em,{children:'"9004"'}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);