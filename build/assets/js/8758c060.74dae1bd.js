"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[352048],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(296540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},449380:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"enterpriseauditor/solutions/sharepoint/recommended","title":"Recommended Configuration for the SharePoint Solution","description":"The SharePoint Solution has been configured to inherit down from the SharePoint > Settings node. However, it is a best practice to assign the host list and the Connection Profile at the data collection level, 0.Collection Job Group. Once these are assigned to the job group, it can be run directly or scheduled.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/sharepoint/recommended.md","sourceDirName":"enterpriseauditor/solutions/sharepoint","slug":"/enterpriseauditor/solutions/sharepoint/recommended","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/sharepoint/recommended","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/sharepoint/recommended.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"SharePoint Solution","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/sharepoint/overview"},"next":{"title":"3.Broken Inheritance > SP\\\\_BrokenInheritance Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/sharepoint/sp_brokeninheritance"}}');var t=s(474848),o=s(28453);const r={},l="Recommended Configuration for the SharePoint Solution",c={},a=[];function d(e){const n={a:"a",em:"em",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"recommended-configuration-for-the-sharepoint-solution",children:"Recommended Configuration for the SharePoint Solution"})}),"\n",(0,t.jsxs)(n.p,{children:["The SharePoint Solution has been configured to inherit down from the ",(0,t.jsx)(n.strong,{children:"SharePoint"})," > ",(0,t.jsx)(n.strong,{children:"Settings"})," node. However, it is a best practice to assign the host list and the Connection Profile at the data collection level, 0.Collection Job Group. Once these are assigned to the job group, it can be run directly or scheduled."]}),"\n",(0,t.jsx)(n.p,{children:"Dependencies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:".Active Directory Inventory"})," Job Group needs to be executed prior to running the SharePoint Solution against a SharePoint on-premises environment"]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:".Entra ID Inventory"})," Job Group needs to be executed prior to running the SharePoint Solution against a SharePoint Online environment"]}),"\n",(0,t.jsx)(n.li,{children:"For Agent-based scans, the SharePoint Agent must be installed on the application server (for Access Auditing & Sensitive Data Discovery Auditing only)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Targeted Host(s)"}),"\n",(0,t.jsx)(n.p,{children:"For the 0.Collection Job Group:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Single SharePoint Application server hosting Central Administration per SharePoint farm"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The host list assignment should be assigned under the ",(0,t.jsx)(n.strong,{children:"SharePoint"})," > ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"Settings"})," > ",(0,t.jsx)(n.strong,{children:"Host List Assignment"})," node. The list should be a custom-created list for the SharePoint environments to be targeted. Select the checkbox for the custom-created host list."]}),"\n",(0,t.jsx)(n.p,{children:"Since SharePoint Online environments can only be targeted for Access Auditing and Sensitive Data Discovery Auditing, it is best practice to set the host list at the job level."}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/hostmanagement/actions/add",children:"Add Hosts"})," topic for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"Connection Profile"}),"\n",(0,t.jsxs)(n.p,{children:["The SPAA Data Collector requires a specific set of permissions. See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/solutions/sharepoint/scanoptions",children:"SharePoint Scan Options"})," and ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/requirements/target/sharepoint",children:"SharePoint Support"})," topics for the necessary permissions for both on-premises and online target environments. Then create a custom Connection Profile containing the appropriate credentials for the targeted environment. If a single Connection Profile contains both on-premises and online credentials, it is necessary for the online credentials to be above the on-premises credentials in the Connection Profile credentials list."]}),"\n",(0,t.jsxs)(n.p,{children:["The Connection Profile should be assigned under the ",(0,t.jsx)(n.strong,{children:"SharePoint"})," > ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"Settings"})," > ",(0,t.jsx)(n.strong,{children:"Connection"})," node. It is set to ",(0,t.jsx)(n.strong,{children:"Use the Default Profile"}),", as configured at the global settings level. However, since this may not be the Connection Profile with the necessary permissions for the assigned hosts, select the ",(0,t.jsx)(n.strong,{children:"Select one of the following user defined profiles"})," option and select the appropriate Connection Profile from the drop-down menu."]}),"\n",(0,t.jsxs)(n.p,{children:["The jobs within the 5.Effective Access Audits Job Group import CSV files from the jobs\u2019 directories using the TextSearch Data Collector. Therefore, it is necessary to assign a Connection Profile with rights on the Access Analyzer Console server to access the CSV file saved in the job\u2019s directory. The Connection Profile can be set at either the ",(0,t.jsx)(n.strong,{children:"Effective Access Audits"})," > ",(0,t.jsx)(n.strong,{children:"Settings"})," > ",(0,t.jsx)(n.strong,{children:"Connection"})," node (applies to both jobs) or in the job\u2019s Properties window on the Connection tab."]}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/settings/connection/overview",children:"Connection"})," topic for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"Schedule Frequency"}),"\n",(0,t.jsx)(n.p,{children:"The jobs in this job group can be scheduled to run as desired."}),"\n",(0,t.jsx)(n.p,{children:"Run Order"}),"\n",(0,t.jsx)(n.p,{children:"The 0.Collection Jobs must be run first and in order. RunSystem Scans jobs and then the Bulk Import jobs according to the desired workflow. The other SharePoint Solution sub-job groups can be run in any order, together or individually, after running the 0.Collection Job Group. It is recommended to run at the sub-job group level. The SP_Overview Job pulls information from both the 0.Collection Job Group and the other sub-job groups, and the report may contain blank sections if only select sub-job groups are run."}),"\n",(0,t.jsx)(n.p,{children:"The Access Information Center requires the execution of the 2-SPAA_BulkImport Job default analysis tasks in order for permission/access reports to be accessible. For activity reports, the Access Information Center requires the execution of both the 2-SPAA Bulk Import Job default analysis tasks and the 2-SPAC Bulk Import Job default analysis tasks."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"RECOMMENDED:"})})," If only conducting one or two types of auditing, scope the solution by disabling the undesired collection jobs. Disabling them allows the solution to run more efficiently. It is not recommended to delete any jobs. See the ",(0,t.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/disableenable",children:"Disable or Enable a Job"})," topic for additional information."]}),"\n",(0,t.jsx)(n.p,{children:"Query Configuration"}),"\n",(0,t.jsx)(n.p,{children:"This solution can be run with the default query configuration. However, the most common customizations include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"If using agent-based scanning, it is necessary to enable the agent services on the SharePoint Access Auditor Data Collector Wizard pages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Agent Settings page, enable agent service scans:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAA_SystemScans"})," Job for Access Auditing"]}),"\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job for Sensitive Data Discovery Auditing"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"SharePoint Access Auditor Data Collector Wizard pages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"SharePoint Data Collection Settings page, configure probable owner scanning:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Enable ",(0,t.jsx)(n.strong,{children:"Scan for Document Metadata"})," for probable owners calculations"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Set on the:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAA_SystemScans"})," Job for Access Auditing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job for Sensitive Data Discovery Auditing"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Scan Scoping Options page (optional):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Limit scans to specific Web Applications and site collections"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Set on the:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAA_SystemScans"})," Job for Access Auditing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job for Sensitive Data Discovery Auditing"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Additional Scoping page (optional):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Limit scan depth"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Set on the:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAA_SystemScans"})," Job for Access Auditing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job for Sensitive Data Discovery Auditing"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"DLP Audit Settings page, scope to not scan files larger than a specific size for Sensitive Data Discovery Auditing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select DLP Criteria page, scope to scan for specific criteria or customizing criteria for Sensitive Data Discovery Auditing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPSEEK_SystemScans"})," Job"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Activity Data Scope page:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Customize date ranges for activity to be collected"}),"\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAC_SystemScans"})," Job for Activity Auditing"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Activity Log Locations page (optional):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Specify the log locations to avoid requiring remote registry access to locate the activity event log files"}),"\n",(0,t.jsxs)(n.li,{children:["Set on the ",(0,t.jsx)(n.strong,{children:"0.Collection"})," > ",(0,t.jsx)(n.strong,{children:"1-SPAC_SystemScans"})," Job for Activity Auditing"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Analysis Configuration"}),"\n",(0,t.jsx)(n.p,{children:"This solution should be run with the default analysis configuration. Most of these analysis tasks are preconfigured. There are a few which are deselected by default, as they are for troubleshooting purposes."}),"\n",(0,t.jsx)(n.p,{children:"Though the analysis tasks should not be deselected, the following parameters can be modified:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Stale File is defined by default to 365 days"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Customize within the ",(0,t.jsx)(n.strong,{children:"4.Content"})," > ",(0,t.jsx)(n.strong,{children:"SP_StaleFiles"})," Job"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Stale Teams is defined by default to 30 days"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Customize within the ",(0,t.jsx)(n.strong,{children:"8.M365"})," > ",(0,t.jsx)(n.strong,{children:"SP_StaleTeamSites"})," Job"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The .Active Directory Inventory Solution defines large groups, deeply nested groups, stale users, and users with large tokens. These parameters can be customized and are applicable to any solution, including SharePoint, which incorporate this analyzed data into further analysis."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Customize within .Active Directory Inventory > 3-AD_Exceptions Job analysis tasks"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Additional Considerations"}),"\n",(0,t.jsx)(n.p,{children:"The Effective Access Audits Job Group is designed to work independently of the rest of the solution, but it is dependent upon the 0.Collection Job Group and the user-modified CSV files."}),"\n",(0,t.jsx)(n.p,{children:"Additional Notes"}),"\n",(0,t.jsx)(n.p,{children:"The jobs contained in the group use custom SQL scripts to render views on collected data. SQL views are used to populate report element tables and graphs. Changing or modifying the group, job, or table names results in no data displayed within the reports or the Access Information Center."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);