"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[568411],{28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>n});var r=i(296540);const o={},c=r.createContext(o);function a(e){const t=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(c.Provider,{value:t},e.children)}},421051:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>n,default:()=>l,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"auditor/api/postdata/activityrecords","title":"Activity Records","description":"In Netwrix terms, one operable chunk of information is called the Activity Record. Netwrix Auditor Integration API processes both XML and JSON Activity Records. The Activity Records have the format similar to the following\u2014the exact schema depends on operation (input or output).","source":"@site/docs/auditor/auditor/api/postdata/activityrecords.md","sourceDirName":"auditor/api/postdata","slug":"/auditor/api/postdata/activityrecords","permalink":"/docs/auditor/auditor/api/postdata/activityrecords","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/api/postdata/activityrecords.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Integration API Ports","permalink":"/docs/auditor/auditor/api/ports"},"next":{"title":"Continuation Mark","permalink":"/docs/auditor/auditor/api/postdata/continuationmark"}}');var o=i(474848),c=i(28453);const a={},n="Activity Records",s={},d=[{value:"Schema",id:"schema",level:2},{value:"Example",id:"example",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"activity-records",children:"Activity Records"})}),"\n",(0,o.jsx)(t.p,{children:"In Netwrix terms, one operable chunk of information is called the Activity Record. Netwrix Auditor Integration API processes both XML and JSON Activity Records. The Activity Records have the format similar to the following\u2014the exact schema depends on operation (input or output)."}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Format"}),(0,o.jsx)(t.th,{children:"Example"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"XML"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:'<?xml version="1.0" encoding="UTF-8" ?> `````` <ActivityRecordList xmlns="http://schemas.netwrix.com/api/v1/activity_records/"> `````` <ActivityRecord> `````` <Who>Who</Who> `````` <ObjectType>Object Type</ObjectType> `````` <Action>Action</Action> `````` <What>What</What> `````` <When>When</When> `````` <Where>Where</Where> `````` <MonitoringPlan> `````` <ID>Unique ID</ID> `````` <Name>Name</Name> `````` </MonitoringPlan> `````` <DataSource>Data source</DataSource> `````` <Item> `````` <Name>Item name (Item type)</Name> `````` </Item> `````` <DetailList> `````` <Detail> `````` <Before>Before Value</Before> `````` <After>After Value</After> `````` <PropertyName>Property</PropertyName> `````` <Message>Text</Message> `````` </Detail> `````` </DetailList> `````` </ActivityRecord> `````` <ActivityRecord>...</ActivityRecord> `````` </ActivityRecordList>'})})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"JSON"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:'[ `````` { `````` "Action": "Action", `````` "MonitoringPlan": { `````` "ID": "Unique ID", `````` "Name": "Name" `````` }, `````` "DataSource": "Data source", `````` "Item": {"Name": "Item name (Item type)"}, `````` "DetailList": [ `````` { `````` "Before": "Before Value", `````` "After": "After Value", `````` "PropertyName": "Property", `````` "Message": "Text" `````` } `````` ], `````` "ObjectType": "Object Type", `````` "What": "What", `````` "When": "When", `````` "Where": "Where", `````` "Who": "Who" `````` }, `````` {...} `````` ]'})})]})]})]}),"\n",(0,o.jsxs)(t.p,{children:["To feed data from a custom audit source to Netwrix Auditor, send a POST request containing Activity Records. ",(0,o.jsx)(t.a,{href:"/docs/auditor/auditor/api/writeactivityrecords",children:"Write Activity Records"})]}),"\n",(0,o.jsx)(t.h2,{id:"schema",children:"Schema"}),"\n",(0,o.jsx)(t.p,{children:"The Activity Records you want to feed to Netwrix Auditor must be compatible with input schema. The output schema resembles the input schema and can be used to validate Activity Records returned by\xa0Netwrix Auditor before further data parsing."}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Format"}),(0,o.jsx)(t.th,{children:"Schema description"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"XML"}),(0,o.jsxs)(t.td,{children:["The file must be compatible with the XML schema. On the computer where Auditor Server resides, you can find XSD file under ",(0,o.jsx)(t.em,{children:"Netwrix_Auditor_installation_folder\\Audit Core\\API Schemas"}),".  The ",(0,o.jsx)(t.code,{children:"ActivityRecordList"})," root element includes the ",(0,o.jsx)(t.code,{children:"ActivityRecord "}),"elements. Each ",(0,o.jsx)(t.code,{children:"ActivityRecord"})," contains values in the ",(0,o.jsx)(t.code,{children:"Who"}),", ",(0,o.jsx)(t.code,{children:"When"}),", ",(0,o.jsx)(t.code,{children:"Where"}),", etc. fields. The ",(0,o.jsx)(t.code,{children:"MonitoringPlan"})," element contains sub-elements such as ",(0,o.jsx)(t.code,{children:"Name "}),"and ",(0,o.jsx)(t.code,{children:"ID"}),", the ",(0,o.jsx)(t.code,{children:"Item "}),"element contains ",(0,o.jsx)(t.code,{children:"Name"}),". Both ",(0,o.jsx)(t.code,{children:"MonitoringPlan"})," and ",(0,o.jsx)(t.code,{children:"Item "}),"are optional for input Activity Records. The ",(0,o.jsx)(t.code,{children:"DetailList "}),"element is optional too, it may include one or more ",(0,o.jsx)(t.code,{children:"Detail "}),"entries. The ",(0,o.jsx)(t.code,{children:"Detail "}),'element may contain sub-elements with values (e.g., before and after values). For input Activity Records, the data source is automatically set to Netwrix API.  minOccurs="0" indicates that element is optional and may be absent when writing data to the Audit Database.']})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"JSON"}),(0,o.jsxs)(t.td,{children:["Activity Records are sent as an array collected within square brackets [ ]. Each ",(0,o.jsx)(t.code,{children:"ActivityRecord"})," object is collected in braces "," and contains values in the ",(0,o.jsx)(t.code,{children:"Who"}),", ",(0,o.jsx)(t.code,{children:"When"}),", ",(0,o.jsx)(t.code,{children:"Where"}),", etc. fields. The ",(0,o.jsx)(t.code,{children:"DetailList "}),"field is not mandatory, it may include one or more detail. The ",(0,o.jsx)(t.code,{children:"Detail "}),"field may contain sub-fields with values (e.g., before and after values). For input Activity Records, the data source is automatically set to Netwrix API."]})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,o.jsx)(t.p,{children:"The examples below show an output Activity Record."}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsx)(t.tr,{children:(0,o.jsx)(t.th,{})})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsx)(t.tr,{children:(0,o.jsx)(t.td,{children:"XML"})}),(0,o.jsx)(t.tr,{children:(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:'<?xml version="1.0" encoding="UTF-8" ?> `````` <ActivityRecordList xmlns="http://schemas.netwrix.com/api/v1/activity_records/"> `````` <ActivityRecord> `````` <Action>Modified</Action> `````` <MonitoringPlan> `````` <ID>{42F64379-163E-4A43-A9C5-4514C5A23798}</ID> `````` <Name>Compliance</Name> `````` </MonitoringPlan> `````` <DataSource>Exchange Online</DataSource> `````` <Item> `````` <Name>mail@enterprise.onmicrosoft.com (Office 365 tenant)</Name> `````` </Item> `````` <ObjectType>Mailbox</ObjectType> `````` <What>Shared Mailbox</What> `````` <When>2017-03-17T09:37:11Z</When> `````` <Where>BLUPR05MB1940</Where> `````` <Who>admin@enterprise.onmicrosoft.com</Who> `````` <DetailList> `````` <Detail> `````` <Before>1</Before> `````` <After>2</After> `````` <PropertyName>Custom_attribute</PropertyName> `````` </Detail> `````` </DetailList> `````` </ActivityRecord> `````` </ActivityRecordList>'})})}),(0,o.jsx)(t.tr,{children:(0,o.jsx)(t.td,{children:"JSON"})}),(0,o.jsx)(t.tr,{children:(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:'[ `````` { `````` "Action": "Modified", `````` "MonitoringPlan": { `````` "ID": "{42F64379-163E-4A43-A9C5-4514C5A23798}", `````` "Name": "Compliance" `````` }, `````` "DataSource": "Exchange Online", `````` "Item": {"Name": "mail@enterprise.onmicrosoft.com (Office 365 tenant)"}, `````` "ObjectType": "Mailbox", `````` "What": "Shared Mailbox", `````` "When": "2017-03-17T09:37:11Z", `````` "Where": "BLUPR05MB1940", `````` "Who": "admin@enterprise.onmicrosoft.com", `````` "DetailList": [ `````` {  `````` "PropertyName": "Custom_Attribute", `````` "Before": "1", `````` "After": "2" `````` } `````` ] `````` } `````` ]'})})})]})]})]})}function l(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);