"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[978046],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var t=r(296540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},528869:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"auditor/configuration/windowsserver/ports","title":"Windows Server Ports","description":"Review a full list of protocols and ports required for Netwrix Auditor for Windows Server.","source":"@site/docs/auditor/auditor/configuration/windowsserver/ports.md","sourceDirName":"auditor/configuration/windowsserver","slug":"/auditor/configuration/windowsserver/ports","permalink":"/docs/auditor/auditor/configuration/windowsserver/ports","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/windowsserver/ports.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Configure Enable Persistent Time Stamp Policy","permalink":"/docs/auditor/auditor/configuration/windowsserver/persistenttimestamp"},"next":{"title":"Windows Server Registry Keys","permalink":"/docs/auditor/auditor/configuration/windowsserver/registrykey"}}');var o=r(474848),i=r(28453);const s={},d="Windows Server Ports",l={},c=[{value:"Configure Windows Firewall Inbound Connection Rules",id:"configure-windows-firewall-inbound-connection-rules",level:2}];function a(e){const n={h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"windows-server-ports",children:"Windows Server Ports"})}),"\n",(0,o.jsx)(n.p,{children:"Review a full list of protocols and ports required for Netwrix Auditor for Windows Server."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Allow outbound connections from the dynamic (1024 - 65535) local port on the computer where Netwrix Auditor Server resides."}),"\n",(0,o.jsx)(n.li,{children:"Allow outbound connections to remote ports on the source and inbound connections to local ports on the target."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Tip for reading the table: For example, on the computer where Netwrix Auditor Server resides (source), allow outbound connections to remote 139 TCP port. On monitored computers (target), allow inbound connections to local 139 TCP port."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Port"}),(0,o.jsx)(n.th,{children:"Protocol"}),(0,o.jsx)(n.th,{children:"Source"}),(0,o.jsx)(n.th,{children:"Target"}),(0,o.jsx)(n.th,{children:"Purpose"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"139  445"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"Service Control Manager Remote Protocol (RPC)  Remote registry"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"135  + Dynamic:  1024 -65535"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"Windows Management Instrumentation  Collect objects"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"135  + Dynamic:  1024 -65535"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"Collect removable storage insertions. Allow the following process to use the port: %systemroot%\\system32\\plasrv.exe"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"135"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"Service Control Manager Remote Protocol (RPC)  Core Service installation"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"137 through 139"}),(0,o.jsx)(n.td,{children:"UDP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"Service Control Manager Remote Protocol (RPC)  Core Service installation"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"445"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Monitored computer"}),(0,o.jsx)(n.td,{children:"SMB 2.0/3.0"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"9011"}),(0,o.jsx)(n.td,{children:"TCP"}),(0,o.jsx)(n.td,{children:"Computers where Netwrix Auditor for Windows Server Compression Services reside"}),(0,o.jsx)(n.td,{children:"Netwrix Auditor Server"}),(0,o.jsx)(n.td,{children:"Network traffic compression and interaction with services"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"configure-windows-firewall-inbound-connection-rules",children:"Configure Windows Firewall Inbound Connection Rules"}),"\n",(0,o.jsx)(n.p,{children:"You can also configure Windows Firewall settings through Group Policy settings. To do this, edit the GPO affecting your firewall settings. Navigate to Computer Configuration > Administrative Templates > Network >Network Connections > Windows Firewall, select Domain Profile or Standard Profile. Then, enable the Allow inbound remote administration exception."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1 \u2013"})," On each audited server, navigate to ",(0,o.jsx)(n.strong,{children:"Start"})," > ",(0,o.jsx)(n.strong,{children:"Control Panel"})," and select ",(0,o.jsx)(n.strong,{children:"Windows Firewall"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2 \u2013"})," In the Help Protect your computer with Windows Firewall page, click ",(0,o.jsx)(n.strong,{children:"Advanced settings"})," on the left."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 3 \u2013"})," In the Windows Firewall with Advanced Security dialog, select ",(0,o.jsx)(n.strong,{children:"Inbound Rules"})," on the left."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"manualconfig_nla_inbound_connections2016",src:r(788595).A+"",width:"974",height:"188"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 4 \u2013"})," Enable the following inbound connection rules:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Remote Event Log Management (NP-In)"}),"\n",(0,o.jsx)(n.li,{children:"Remote Event Log Management (RPC)"}),"\n",(0,o.jsx)(n.li,{children:"Remote Event Log Management (RPC-EPMAP)"}),"\n",(0,o.jsx)(n.li,{children:"Windows Management Instrumentation (ASync-In)"}),"\n",(0,o.jsx)(n.li,{children:"Windows Management Instrumentation (DCOM-In)"}),"\n",(0,o.jsx)(n.li,{children:"Windows Management Instrumentation (WMI-In)"}),"\n",(0,o.jsx)(n.li,{children:"Network Discovery (NB-Name-In)"}),"\n",(0,o.jsx)(n.li,{children:"File and Printer Sharing (NB-Name-In)"}),"\n",(0,o.jsx)(n.li,{children:"File and Printer Sharing (Echo Request - ICMPv4-In)"}),"\n",(0,o.jsx)(n.li,{children:"File and Printer Sharing (Echo Request - ICMPv6-In)"}),"\n",(0,o.jsx)(n.li,{children:"Remote Service Management (NP-In)"}),"\n",(0,o.jsx)(n.li,{children:"Remote Service Management (RPC)"}),"\n",(0,o.jsx)(n.li,{children:"Performance Logs and Alerts (DCOM-In)"}),"\n",(0,o.jsx)(n.li,{children:"Performance Logs and Alerts (Tcp-In)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"If you plan to audit Windows Server 2019 or Windows 10 Update 1803 without network compression service, make sure the following inbound connection rules are enabled:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Remote Scheduled Tasks Management (RPC)"}),"\n",(0,o.jsx)(n.li,{children:"Remote Scheduled Tasks Management (RPC-EMAP)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},788595:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/manualconfig_nla_inbound_connections2016-87b2fe15877e67bd1dd82b3d5df9c581.webp"}}]);