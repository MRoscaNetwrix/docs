"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[709212],{7707:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postgresqlwarning-f047c0c235c4ff79a09715fe4ee0ae2d.webp"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var a=n(296540);const r={},s=a.createContext(r);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:t},e.children)}},140716:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postgresql-6933b5780462310667d2d6fc471a2348.jpg"},460461:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"threatmanager/install/upgrade2.8","title":"Upgrade Threat Manager from 2.6/2.7 To 2.8","description":"Follow the steps to upgrade Threat Manager 2.6/2.7 to 2.8 or to apply a hotfix to Threat Manager.","source":"@site/docs/threatmanager/threatmanager/install/upgrade2.8.md","sourceDirName":"threatmanager/install","slug":"/threatmanager/install/upgrade2.8","permalink":"/docs/threatmanager/threatmanager/install/upgrade2.8","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/threatmanager/threatmanager/install/upgrade2.8.md","tags":[],"version":"current","frontMatter":{},"sidebar":"threatManagerSidebar","previous":{"title":"Upgrade Procedure","permalink":"/docs/threatmanager/threatmanager/install/upgrade"},"next":{"title":"Upgrade Threat Manager from 2.8 to 3.0","permalink":"/docs/threatmanager/threatmanager/install/upgrade3.0"}}');var r=n(474848),s=n(28453);const i={},o="Upgrade Threat Manager from 2.6/2.7 To 2.8",d={},l=[{value:"Clean up Dependencies",id:"clean-up-dependencies",level:2},{value:"Check for Deprecated App Tokens",id:"check-for-deprecated-app-tokens",level:2},{value:"Identify and Update App Tokens",id:"identify-and-update-app-tokens",level:3}];function h(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"upgrade-threat-manager-from-2627-to-28",children:"Upgrade Threat Manager from 2.6/2.7 To 2.8"})}),"\n",(0,r.jsx)(t.p,{children:"Follow the steps to upgrade Threat Manager 2.6/2.7 to 2.8 or to apply a hotfix to Threat Manager."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1 \u2013"})," Install the new version of PostreSQL."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"postgresql",src:n(140716).A+"",width:"758",height:"623"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," The migration of PostgreSQL 10 to 14 will require a migration of theThreat Manager database. You may proceed through the migration process in the following menu."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2 \u2013"})," Configure the following settings:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Only transfer events associated with a threat \u2013 this option provides a migration of the events only associated with threats that have been detected"}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Show Advanced Settings \u2013 Advanced settings contains the following parameters:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"PG Tools Directory \u2013 Path to the directory where PostgreSQL binaries are located"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"postgresqlcompression",src:n(628828).A+"",width:"356",height:"201"})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Compression Level \u2013 Select the compression level to be applied to the data. It contains the following options:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"None \u2013 Compression will not be applied to the data"}),"\n",(0,r.jsx)(t.li,{children:"Low \u2013 Lower level of compression requires more disk space to perform the migration, but takes faster to complete"}),"\n",(0,r.jsx)(t.li,{children:"Medium \u2013 Medium level of compression balances disk space usage and migration speed"}),"\n",(0,r.jsx)(t.li,{children:"High \u2013 Higher level of compression reduces the disk space needed for the migration, but it increases the time required for completion"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," The compression algorithm option is used on the exported data. It does not affect either the old or the new database."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"postgresqlthreads",src:n(762053).A+"",width:"374",height:"177"})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Number of Threads \u2013 Select the number of threads to be applied. Adding more threads can considerably reduce the time to import data to the target server. It contains the following options:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Reliable \u2013 One thread"}),"\n",(0,r.jsx)(t.li,{children:"Recommended \u2013 Number of threads equal to half of the available processor cores"}),"\n",(0,r.jsx)(t.li,{children:"Performant \u2013 Number of threads equal to the number of processor cores"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Reduce Source Databaze Size \u2013 This action will lead to the migration dropping the indexes in the old databases, prior to performing the migration"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," This setting is not recommended as it will leave the old database in a broken state, but the data is preserved. Some users may need this option if they do not have enough free disk space to perform the migration."]}),"\n",(0,r.jsx)(t.p,{children:"If the migration fails, it can be re-run from the installer."}),"\n",(0,r.jsxs)(t.p,{children:["This option is also reveals a ",(0,r.jsx)(t.strong,{children:"Delete Source Database"})," checkbox. After exporting the data from the old database, the old database will be deleted."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"CAUTION:"})," The use of ",(0,r.jsx)(t.strong,{children:"Delete Source Database"})," is an extreme option that highly not recommended. It should only be used if you fully understand its purpose and the actions it entails."]}),"\n",(0,r.jsx)(t.p,{children:"If the migration fails, user will need to manually import the data into the new database from the export file."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3 \u2013"})," Click ",(0,r.jsx)(t.strong,{children:"Validate"})," to proceed. Then, click ",(0,r.jsx)(t.strong,{children:"Next"})," in the bottom right corner."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," The migration of PostgreSQL 10 to 14 may require significant disk space to perform safely. The disk space required for the backup does not need to be on the same disk as the database itself."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"updatentm",src:n(540563).A+"",width:"942",height:"504"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4 \u2013"})," Install the new version of Threat Manager."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 5 \u2013"})," Click ",(0,r.jsx)(t.strong,{children:"Test"})," on the ",(0,r.jsx)(t.strong,{children:"Connect to a Threat Manager Database"})," page. The installer should see the existing PostgreSQL database and prompt to migrate."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"postgresqlwarning",src:n(7707).A+"",width:"766",height:"645"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 6 \u2013"})," Click ",(0,r.jsx)(t.strong,{children:"OK"}),", click ",(0,r.jsx)(t.strong,{children:"Next"}),", then click ",(0,r.jsx)(t.strong,{children:"Test"}),". You will see the following message."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"readyformigration",src:n(591163).A+"",width:"444",height:"105"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 7 \u2013"})," Click ",(0,r.jsx)(t.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," Migrating a large database can take about 24 hours or more. During this time Netwrix Threat Manager will not work. Installing Netwrix Threat Manager 2.8 with a new database, and directing event streams to that server after the installation is complete, will eliminate downtime."]}),"\n",(0,r.jsx)(t.h2,{id:"clean-up-dependencies",children:"Clean up Dependencies"}),"\n",(0,r.jsx)(t.p,{children:"After installation it is necessary to clean up dependencies associated with the previous version of the Threat Manager. To do this, uninstall the following dependencies:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"PGSQL10"}),"\n",(0,r.jsx)(t.li,{children:"Python 3.7 and below"}),"\n",(0,r.jsx)(t.li,{children:".NET Runtime 5"}),"\n",(0,r.jsx)(t.li,{children:"ASP.NET Core 5"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Complete any post-installation tasks required for your configured environment. See the following topics for additional information:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/threatmanager/threatmanager/install/actionservice",children:"Optionally Install the Action Service on Additional Servers"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/threatmanager/threatmanager/install/secure",children:"Secure the Threat Manager Console"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Clear the cache of the browser that will be used to view the Threat Manager Console prior to launching Threat Manager."}),"\n",(0,r.jsx)(t.h2,{id:"check-for-deprecated-app-tokens",children:"Check for Deprecated App Tokens"}),"\n",(0,r.jsx)(t.p,{children:"If upgrading from a version prior to 2.8, the app tokens may have been deprecated. This can be identified by navigating to the Integrations page in Threat Manager. If an app token is deprecated, it is necessary to create a new one for the application to use."}),"\n",(0,r.jsx)(t.h3,{id:"identify-and-update-app-tokens",children:"Identify and Update App Tokens"}),"\n",(0,r.jsx)(t.p,{children:"Follow the steps to identify and create new app tokens."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1 \u2013"})," In the Threat Manager Console, navigate to the Integrations page."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2 \u2013"})," Expand the App Tokens section of the Integrations box and identify any of the app tokens that have been deprecated during the upgrade. A deprecated app token can be identified by the presence of a red warning triangle."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"NOTE:"})," Non-local action services will need their app tokens updated. Local action services will be automatically updated."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"apptokensdep",src:n(772409).A+"",width:"443",height:"787"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3 \u2013"})," Take note of the app token name and description and create a new one to be used with the application. See the ",(0,r.jsx)(t.a,{href:"/docs/threatmanager/threatmanager/administration/configuration/integrations/apptoken",children:"App Tokens Page"}),"\xa0topic for additional information."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4 \u2013"})," Update the application to use the new app token. See the ",(0,r.jsx)(t.a,{href:"/docs/threatmanager/threatmanager/install/integration/overview",children:"Integration with Other Netwrix Products"})," topic for additional information."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 5 \u2013"})," Delete the old, deprecated app token."]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},540563:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/updatentm-0af4b973a2ed21e18f8f927ec361b0c9.webp"},591163:(e,t,n)=>{n.d(t,{A:()=>a});const a="data:image/webp;base64,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"},628828:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postgresqlcompression-d06251ba86c41eabd2ee66d941616ef0.jpg"},762053:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postgresqlthreads-84cfccfba3719f30c323d310ff851bef.jpg"},772409:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/apptokensdep-09b4c07a62ff6d74dce2321d8d44fbe9.webp"}}]);