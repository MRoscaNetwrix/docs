"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[159743],{28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>r});var o=a(296540);const i={},n=o.createContext(i);function s(e){const t=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(n.Provider,{value:t},e.children)}},875006:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"policypak/video/windowsvirtualdesktops/elevateapplication","title":"Endpoint Policy Manager + WVD: Elevate application inside WVD and bypass UAC prompts","description":"Sometimes and app won\'t run unless you\'re running with local admin rights. NOT a good idea with WVD. Instead, use Netwrix Endpoint Policy Manager (formerly PolicyPak) Least Privilege Manager to elevate applications when needed, and keep Standard Users just that... users and NOT admins.","source":"@site/docs/policypak/policypak/video/windowsvirtualdesktops/elevateapplication.md","sourceDirName":"policypak/video/windowsvirtualdesktops","slug":"/policypak/video/windowsvirtualdesktops/elevateapplication","permalink":"/docs/policypak/policypak/video/windowsvirtualdesktops/elevateapplication","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/video/windowsvirtualdesktops/elevateapplication.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"Endpoint Policy Manager + WVD: Browser Router ... the right browser for the right website.","permalink":"/docs/policypak/policypak/video/windowsvirtualdesktops/browserrouter"},"next":{"title":"Endpoint Policy Manager + WVD: Elevate the installation of the Remote Deskop app","permalink":"/docs/policypak/policypak/video/windowsvirtualdesktops/elevateinstall"}}');var i=a(474848),n=a(28453);const s={},r="Endpoint Policy Manager + WVD: Elevate application inside WVD and bypass UAC prompts",l={},h=[];function d(e){const t={h1:"h1",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"endpoint-policy-manager--wvd-elevate-application-inside-wvd-and-bypass-uac-prompts",children:"Endpoint Policy Manager + WVD: Elevate application inside WVD and bypass UAC prompts"})}),"\n",(0,i.jsx)(t.p,{children:"Sometimes and app won't run unless you're running with local admin rights. NOT a good idea with WVD. Instead, use Netwrix Endpoint Policy Manager (formerly PolicyPak) Least Privilege Manager to elevate applications when needed, and keep Standard Users just that... users and NOT admins."}),"\n",(0,i.jsx)(t.p,{children:"Hi. This is Jeremy Moskowitz, former 15-year Group Policy MVP and Founder of PolicyPak Software. In this video, we're going to talk about a Windows Virtual Desktop problem that you can overcome with PolicyPak Least Privilege Manager."}),"\n",(0,i.jsx)(t.p,{children:"Now this application is being run with Windows Virtual Desktop, and parts of it are going to work just fine when you are a standard user, as you can see here. But then other parts are going to only work when you run this application as an admin."}),"\n",(0,i.jsx)(t.p,{children:"The problem is that if you try to start it as an admin, let's go ahead and see what happens here if we try to \"Restart as administrator,\" what happens? You get a UAC prompt, and the last thing you want to do is to give admin credentials to standard users doing things on your Windows Virtual Desktop machines. That's a terrible idea."}),"\n",(0,i.jsx)(t.p,{children:"But instead, you can use PolicyPak Least Privilege Manager to elevate these applications to let them run with admin rights instead of the user running with the scissors all the time with full admin rights."}),"\n",(0,i.jsx)(t.p,{children:'What we\'re going to do is use our management station. This is my GPMC management station. For my "Sales > East Sales > East Sales Users" here I want to right click and "Create a GPO in this domain, and link it here" and call it "Let WVD users run SOME apps as elevated." There we go.'}),"\n",(0,i.jsx)(t.p,{children:'Now here is the GPO that I want. I\'ll go ahead and click "Edit" here, and I\'ll dive down. I\'m doing this on the user side. So if I go to user side, "PolicyPak," I\'m going to hit "Least Privilege Manager" component on the user side because I want all of my East Sales Users to be able to perform this.'}),"\n",(0,i.jsx)(t.p,{children:'I\'m going to right click and "Add" a "New Executable Policy." What I\'m going to do is "Use combo rule." A combo rule says look at the digital "Signature" and the inner "File info" for applications that you want to match, and only elevate those.'}),"\n",(0,i.jsx)(t.p,{children:'The other thing that I want to do here is uncheck "Apply to child processes" because if that application has a way for that user to break out and elevate another application, we don\'t want to give the keys to enable that. So we\'re going to turn that off for safety. Go ahead and click "Next."'}),"\n",(0,i.jsx)(t.p,{children:'We\'re going to select "Select reference file" "From EXE file" which is "TreeSizeFree" which I happen to also have on this machine to make things go a little bit easier. You can see it\'s signed by "JAM Software." The "File Info Condition" is if it\'s "Higher or Equals" this version, then I what I want to do is "Run with elevated privileges." Now I\'m off to the races.'}),"\n",(0,i.jsx)(t.p,{children:"Now to be clear, this probably won't work the very first time you try to run it again. In fact, I'll show you why. If you go ahead and try to run it one more time, it will be exactly the way it was before we got started on our journey. Which is to say it still might know that you need to run it with admin rights. Sure enough, no change. So again, it still works as a standard user, but it doesn't know that you need to run this application with admin rights."}),"\n",(0,i.jsx)(t.p,{children:"Why is that? What's going on here? Well, what's happening here is that the Windows Virtual Desktop that I'm connected to doesn't know that I need to drop off. Once you make your Windows Virtual Desktop connection here, you have a bunch of processes and things that you're doing. So what you may need to do is to forcefully \"Disconnect\" them or just naturally wait for that user to go home or wait for that session till you finish up."}),"\n",(0,i.jsx)(t.p,{children:'But I\'m going to forcefully "Disconnect user" to end that session here, so now that it\'s disconnected in full\u2014oh, actually I meant to "Sign off." That\'s what I want to do, completely "Sign out user." So that guy, now he\'s completely neutered, so there we go.'}),"\n",(0,i.jsx)(t.p,{children:"Now with that in mind, I'm ready to now run that same application because now what's happening is when you instantiate your session in creating that session again, that's when Group Policy kicks back in. That's when PolicyPak Least Privilege Manager is going to kick in."}),"\n",(0,i.jsx)(t.p,{children:"Now at this time, this application you can see here no more checking to see if you're an admin. Now you are in fact running as an admin. So if you want to \"Select Directory\" and pick the entire C drive, it's going to do its thing just the way we expect. So there we go."}),"\n",(0,i.jsx)(t.p,{children:"Okay, well, with that in mind, I hope this helps you out and gets you past a bunch of least privilege problems using PolicyPak Least Privilege Manager."}),"\n",(0,i.jsx)(t.p,{children:"Thanks so very much for watching and talk to you soon."})]})}function c(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);