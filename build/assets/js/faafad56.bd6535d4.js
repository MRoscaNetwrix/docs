"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[297595],{13450:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/kerberoastingriskanalysis-f679e1bd208a7b60a0031242fccff06d.webp"},28453:(e,s,r)=>{r.d(s,{R:()=>n,x:()=>o});var t=r(296540);const i={},a=t.createContext(i);function n(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),t.createElement(a.Provider,{value:s},e.children)}},688175:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>n,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"enterpriseauditor/solutions/activedirectory/domains/ad_kerberoastingrisk","title":"AD\\\\_KerberoastingRisk Job","description":"The AD\\\\_KerberoastingRisk job identifies accounts vulnerable to kerberoasting. Kerberoasting is a threat where attackers target service accounts in Active Directory to steal their passwords.","source":"@site/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/domains/ad_kerberoastingrisk.md","sourceDirName":"enterpriseauditor/solutions/activedirectory/domains","slug":"/enterpriseauditor/solutions/activedirectory/domains/ad_kerberoastingrisk","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/domains/ad_kerberoastingrisk","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/domains/ad_kerberoastingrisk.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"AD\\\\_DSRMSettings Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/domains/ad_dsrmsettings"},"next":{"title":"AD\\\\_DomainControllers Job","permalink":"/docs/accessanalyzer/enterpriseauditor/solutions/activedirectory/domains/collection/ad_domaincontrollers"}}');var i=r(474848),a=r(28453);const n={},o="AD_KerberoastingRisk Job",c={},d=[{value:"Parameter Configuration",id:"parameter-configuration",level:2},{value:"Analysis Tasks for the AD_KerberoastingRisk Job",id:"analysis-tasks-for-the-ad_kerberoastingrisk-job",level:2}];function l(e){const s={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"ad_kerberoastingrisk-job",children:"AD_KerberoastingRisk Job"})}),"\n",(0,i.jsx)(s.p,{children:"The AD_KerberoastingRisk job identifies accounts vulnerable to kerberoasting. Kerberoasting is a threat where attackers target service accounts in Active Directory to steal their passwords."}),"\n",(0,i.jsx)(s.p,{children:"In a kerberoasting attack, attackers request service tickets (TGS) for service accounts from the Key Distribution Center (KDC). These tickets are encrypted with the service account's password hash. Attackers attempt to crack these hashes offline to reveal the passwords for the service accounts."}),"\n",(0,i.jsx)(s.p,{children:"Encryption types vulnerable to kerberoasting include RC4 and DES. AES-128 can also be considered weak, depending on the implementation and threat model."}),"\n",(0,i.jsxs)(s.p,{children:["See the Netwrix ",(0,i.jsx)(s.a,{href:"https://www.netwrix.com/cracking_kerberos_tgs_tickets_using_kerberoasting.html",children:"Kerberoasting Attack"})," article for additional information on kerberoasting."]}),"\n",(0,i.jsx)(s.h2,{id:"parameter-configuration",children:"Parameter Configuration"}),"\n",(0,i.jsxs)(s.p,{children:["The Configuration section on a Job's overview page allows you to easily modify any customizable parameters used by analysis tasks in the job. See the ",(0,i.jsx)(s.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/overview#parameter-configuration",children:"Parameter Configuration"})," topic for instructions on how to edit parameters on a job overview page."]}),"\n",(0,i.jsx)(s.p,{children:"The AD_KerberoastingRisk job has the following configurable parameters:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Consider AES 128 as weak encryption (DES and RC4 always considered weak) \u2013 Enable to include AES-128 as a weak encryption type"}),"\n",(0,i.jsx)(s.li,{children:'Consider "Password Never Expires" as an easily crackable password \u2013 Enable to include accounts having the Password Never Expires policy as a password exception'}),"\n",(0,i.jsx)(s.li,{children:"Report on disabled user accounts \u2013 Enable to include disabled user accounts in the analysis"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"All of these parameters are disabled by default."}),"\n",(0,i.jsx)(s.h2,{id:"analysis-tasks-for-the-ad_kerberoastingrisk-job",children:"Analysis Tasks for the AD_KerberoastingRisk Job"}),"\n",(0,i.jsxs)(s.p,{children:["Navigate to the ",(0,i.jsx)(s.strong,{children:"Active Directory"})," > ",(0,i.jsx)(s.strong,{children:"5.Domains"})," > ",(0,i.jsx)(s.strong,{children:"AD_KerberoastingRisk"})," > ",(0,i.jsx)(s.strong,{children:"Configure"})," node and select ",(0,i.jsx)(s.strong,{children:"Analysis"})," to view the analysis tasks."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"CAUTION:"})," Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Analysis Tasks for the AD_KerberoastingRisk Job",src:r(13450).A+"",width:"640",height:"219"})}),"\n",(0,i.jsx)(s.p,{children:"The default analysis tasks are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Kerberoasting Details \u2013 Provides details on accounts vulnerabilities to Kerberoasting"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["This task uses three customizable parameters. These allow you to optionally consider AES-128 as a weak encryption type, consider Password Never Expires as being easily crackable, and include disabled user accounts. See the ",(0,i.jsx)(s.a,{href:"#parameter-configuration",children:"Parameter Configuration"}),"\xa0topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Kerberoasting Summary \u2013 Summarizes accounts by domain with counts for multiple vulnerabilities"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"In addition to the tables and views created by the analysis tasks, the AD_KerberoastingRisk job produces the following pre-configured report:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Report"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Default Tags"}),(0,i.jsx)(s.th,{children:"Report Elements"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Kerberoasting Risk"}),(0,i.jsx)(s.td,{children:"An account is vulnerable to kerberoasting if it has an SPN assigned and one of the following is true:   - RC4 or DES (or AES-128 if enabled) - Weak password exception - Trusted for delegation - Is an administrator"}),(0,i.jsx)(s.td,{children:"None"}),(0,i.jsx)(s.td,{children:"This report is comprised of three elements:   - Stacked Bar Chart \u2013 Displays vulnerable accounts - Table \u2013 Provides a summary of accounts vulnerable to kerberoasting - Table \u2013 Provides details on the accounts vulnerabilities to kerberoasting"})]})})]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);