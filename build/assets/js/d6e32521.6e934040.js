"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[930781],{19742:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/item_o365_basic_auth_thumb_0_0-05eeb099e95aef44b2ea1ca60f60fe75.webp"},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var t=i(296540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}},190950:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/npsdatacollectingaccountresourced-e08bef61f6f46401d1622c23fdf3f74e.webp"},413966:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/npsdatacollectingaccount-5a4fda6e3025e3096e005d480f82a7b2.webp"},422072:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"auditor/admin/monitoringplans/microsoftentraid/overview","title":"Microsoft Entra ID","description":"NOTE","source":"@site/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/overview.md","sourceDirName":"auditor/admin/monitoringplans/microsoftentraid","slug":"/auditor/admin/monitoringplans/microsoftentraid/overview","permalink":"/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Logon Activity Monitoring Scope","permalink":"/docs/auditor/auditor/admin/monitoringplans/logonactivity/scope"},"next":{"title":"Microsoft Entra ID Monitoring Scope","permalink":"/docs/auditor/auditor/admin/monitoringplans/microsoftentraid/scope"}}');var o=i(474848),r=i(28453);const s={},a="Microsoft Entra ID",c={},d=[{value:"Configure Data Source Settings",id:"configure-data-source-settings",level:2},{value:"How to Add Microsoft Entra ID Monitoring Plan Using Netwrix Privilege Secure",id:"how-to-add-microsoft-entra-id-monitoring-plan-using-netwrix-privilege-secure",level:2}];function l(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"microsoft-entra-id",children:"Microsoft Entra ID"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"})," Prior to configuring your monitoring plan, please read and complete the instructions in the following topics:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/requirements/ports",children:"Protocols and Ports Required"})," \u2013 To ensure successful data collection and activity monitoring configure necessary protocols and ports for inbound and outbound connections"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/admin/monitoringplans/dataaccounts",children:"Data Collecting Account"})," \u2013 Configure data collecting accounts as required to audit your IT systems"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/overview",children:"Microsoft Entra ID"})," \u2013 Configure data source as required to be monitored"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can use the following data collecting account options:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Username and password."}),"\n",(0,o.jsxs)(n.li,{children:["Integration with the Netwrix Privilege Secure. See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/admin/settings/privilegesecure",children:"Netwrix Privilege Secure"})," and ",(0,o.jsx)(n.a,{href:"#How-to-Add-Microsoft-Entra-ID-Monitoring-Plan-Using-Netwrix-Privilege-Secure",children:"How to Add Microsoft Entra ID Monitoring Plan Using Netwrix Privilege Secure"})," topics for additional information."]}),"\n",(0,o.jsx)(n.li,{children:"Application and secret for Microsoft 365 with modern authentication."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"To add a new monitoring plan for Entra ID, you need to launch the New Monitoring Plan wizard, either from the Home screen, or from the Monitoring plans menu under the All Monitoring Plans section."}),"\n",(0,o.jsx)(n.h2,{id:"configure-data-source-settings",children:"Configure Data Source Settings"}),"\n",(0,o.jsxs)(n.p,{children:["Default data source settings will be configured during the completion of the New Monitoring Plan wizard. To customize the settings, you need to open your monitoring plan, and click ",(0,o.jsx)(n.strong,{children:"Edit data source"})," on the right side of the screen."]}),"\n",(0,o.jsx)(n.p,{children:"Complete the following fields:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Option"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Monitor this data source and collect activity data"}),(0,o.jsx)(n.td,{children:"Enable monitoring of the selected data source and configure Auditor to collect and store audit data."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Monitor Microsoft Entra ID logon activity"}),(0,o.jsx)(n.td,{children:"Specify what types of logon events you want to monitor: successful or failed, performed through Windows and SQL authentication.   - Failed logons - Successful logons"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Collect data for state-in-time reports"}),(0,o.jsxs)(n.td,{children:["Configure Netwrix Auditor to store daily snapshots of your system configuration required for further state-in-time reports generation. See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/admin/reports/types/stateintime/overview",children:"State\u2013In\u2013Time Reports"})," topic for additional information."]})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["Review your data source settings and click ",(0,o.jsx)(n.strong,{children:"Add"})," to go back to your plan. The newly created data source will appear in the ",(0,o.jsx)(n.strong,{children:"Data source"})," list. As a next step, click ",(0,o.jsx)(n.strong,{children:"Add item"})," to specify an object for monitoring. See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/admin/monitoringplans/datasources#add-items-for-monitoring",children:"Add Items for Monitoring"})," topic for additional information."]}),"\n",(0,o.jsx)(n.p,{children:"This instruction shows how to collect audit data from the Microsoft 365 tenant."}),"\n",(0,o.jsxs)(n.p,{children:["If you plan to use modern authentication, see the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/modernauth#configuring-microsoft-entra-id-app-for-auditing-microsoft-entra-id",children:"Configuring Microsoft Entra ID App for Auditing Microsoft Entra ID"})," topic for additional information on how to prepare Microsoft Entra ID app with required permissions. Make sure you have the following at hand:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Tenant name"}),"\n",(0,o.jsx)(n.li,{children:"For modern authentication: Application (client) ID"}),"\n",(0,o.jsx)(n.li,{children:"Application secret"}),"\n",(0,o.jsx)(n.li,{children:"For basic authentication: User name and password"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Types of data that can be collected by Netwrix Auditor from the Microsoft 365 tenant depend on the authentication option you choose."}),"\n",(0,o.jsx)(n.p,{children:"Follow the steps to configure Office 365 tenant as a monitored item."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1 \u2013"})," On the ",(0,o.jsx)(n.strong,{children:"General"})," page of the item properties, specify ",(0,o.jsx)(n.strong,{children:"Tenant name"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["If you are going to use ",(0,o.jsx)(n.strong,{children:"Basic authentication"}),", you can proceed to the next step \u2013 ",(0,o.jsx)(n.strong,{children:"Tenant name"})," will be filled in automatically after it."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"})," Basic authentication is no longer possible for Exchange Online. For the already existing tenants it is still possible to use basic authentication for SharePoint Online and Microsoft Entra ID monitoring."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["If you are going to use ",(0,o.jsx)(n.strong,{children:"Modern authentication"}),", paste the obtained name. See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/modernauth",children:"Using Modern Authentication with Microsoft Entra ID"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"tenantenvironment",src:i(612133).A+"",width:"683",height:"482"})}),"\n",(0,o.jsxs)(n.p,{children:["If you are using a government tenant, please click the ",(0,o.jsx)(n.strong,{children:"Tenant Environment"})," tab and select the desired tenant environment."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2 \u2013"})," Select authentication method that will be used when accessing Office 365 services:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Basic authentication:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Selected, Office 365 organization will be accessed on behalf of the user you specify."}),"\n",(0,o.jsxs)(n.li,{children:["Enter ",(0,o.jsx)(n.strong,{children:"User name"})," and ",(0,o.jsx)(n.strong,{children:"password"}),"; use any of the following formats: ",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.a,{href:"mailto:user@domain.com",children:"user@domain.com"})})," or ",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.a,{href:"mailto:user@domain.onmicrosoft.com",children:"user@domain.onmicrosoft.com"})}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.strong,{children:"Tenant name"})," field then will be filled in automatically."]}),"\n",(0,o.jsxs)(n.li,{children:["Make sure this user account has sufficient access rights. See ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/basicauth",children:"Using Basic Authentication with Microsoft Entra ID"})," topic for additional information."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Modern authentication:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Selected, Office 365 organization will be accessed using the Microsoft Entra ID (formerly Azure AD) app you prepared. Enter:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Application ID"}),";"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Application secret"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/configuration/microsoft365/microsoftentraid/modernauth",children:"Using Modern Authentication with Microsoft Entra ID"})," for additional information."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 3 \u2013"})," Click the ",(0,o.jsx)(n.strong,{children:"Add"})," button."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Add Office 365 Item window",src:i(19742).A+"",width:"1135",height:"762"})}),"\n",(0,o.jsx)(n.p,{children:"You can use a single account to collect audit data for different Office 365 services (Microsoft Entra ID, Exchange Online, SharePoint Online); however, Netwrix recommends that you specify individual credentials for each of them."}),"\n",(0,o.jsx)(n.h2,{id:"how-to-add-microsoft-entra-id-monitoring-plan-using-netwrix-privilege-secure",children:"How to Add Microsoft Entra ID Monitoring Plan Using Netwrix Privilege Secure"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"})," Netwrix Privilege Secure resource-based integration works only with basic authentication. Ephemeral accounts will be created or elevated to be used as data collecting accounts. If you want to use modern authentication and the Netwrix Privilege Secure integration, you need to choose a credential-based access policy, save your application and secret in Netwrix Privilege Secure, and provide the Application ID instead of the user name."]}),"\n",(0,o.jsxs)(n.p,{children:["Starting with version 10.7, you can use Netwrix Privilege Secure to manage the account for collecting data, after configuring the integration. See the ",(0,o.jsx)(n.a,{href:"/docs/auditor/auditor/admin/settings/privilegesecure",children:"Netwrix Privilege Secure"})," topic for additional information about integration and supported data sources. In this case, the credentials will not be stored by Netwrix Auditor. Instead, they will be managed by Netwrix Privilege Secure and\xa0provided on demand, ensuring password rotation or using temporary accounts for data collection."]}),"\n",(0,o.jsx)(n.p,{children:"Follow the steps to use Netwrix Privilege Secure as\xa0an account for data collection."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1 \u2013"})," Select the desired item."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2 \u2013"})," In the item configuration menu, select Netwrix Privilege Secure as an option for data collection."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"npsdatacollectingaccount",src:i(413966).A+"",width:"577",height:"325"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 3 \u2013"})," Select the type of the Access Policy you want to use in Netwrix Privilege Secure. Credential-based is the default option. Refer to the ",(0,o.jsx)(n.a,{href:"https://helpcenter.netwrix.com/category/privilegesecure_accessmanagement",children:"Netwrix Privilege Secure"})," documentation to learn more about Access Policies."]}),"\n",(0,o.jsx)(n.p,{children:"In this case, you need to provide the username of the account managed by Netwrix Privilege Secure, and to which Netwrix Auditor has the access through a Credential-based access policy."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"})," Netwrix recommends using different credentials for different monitoring plans and data sources."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"npsdatacollectingaccountresourced",src:i(190950).A+"",width:"596",height:"436"})}),"\n",(0,o.jsx)(n.p,{children:"The second option is Resource-based. To use this option, you need to provide the Activity and Resource names, assigned to Netwrix Auditor in the corresponding Resource-based policy. Make sure that you specified the same names as in Netwrix Privilege Secure."}),"\n",(0,o.jsx)(n.p,{children:"The Resource name in this case is where the activity will be performed. For example, if you grant the data collecting account the access to a local Administrators group - the resource is the server where the permission will be granted."}),"\n",(0,o.jsx)(n.p,{children:"Netwrix Privilege Secure is ready to use as\xa0an account for data collection."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},612133:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/tenantenvironment-b4b45b3182b3d9636f5a41be5bb1bd4b.webp"}}]);