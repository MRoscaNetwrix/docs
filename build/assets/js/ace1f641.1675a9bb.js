"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[797364],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>s});var t=i(296540);const o={},r=t.createContext(o);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(r.Provider,{value:n},e.children)}},218793:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"admin/datacollection/activedirectory/activedirectoryauditing","title":"Active Directory Auditing","description":"To collect data from Active Directory, you need an account with specific permissions. The following options are available:","source":"@site/docs/1secure/admin/datacollection/activedirectory/activedirectoryauditing.md","sourceDirName":"admin/datacollection/activedirectory","slug":"/admin/datacollection/activedirectory/activedirectoryauditing","permalink":"/docs/1secure/admin/datacollection/activedirectory/activedirectoryauditing","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1secure/admin/datacollection/activedirectory/activedirectoryauditing.md","tags":[],"version":"current","frontMatter":{},"sidebar":"oneSecureSidebar","previous":{"title":"1Secure Dashboard","permalink":"/docs/1secure/admin/dashboard/overview"},"next":{"title":"Configure Exchange Administrator Audit Logging Settings","permalink":"/docs/1secure/admin/datacollection/activedirectory/auditlogging"}}');var o=i(474848),r=i(28453);const c={},s="Active Directory Auditing",a={},d=[{value:"Use Domain Admin Account",id:"use-domain-admin-account",level:2},{value:"Use Non-Domain Admin Account",id:"use-non-domain-admin-account",level:2},{value:"Use GMSA",id:"use-gmsa",level:2}];function l(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"active-directory-auditing",children:"Active Directory Auditing"})}),"\n",(0,o.jsx)(n.p,{children:"To collect data from Active Directory, you need an account with specific permissions. The following options are available:"}),"\n",(0,o.jsx)(n.h2,{id:"use-domain-admin-account",children:"Use Domain Admin Account"}),"\n",(0,o.jsx)(n.p,{children:"You can use an account from the Domain Admins group. This account inherently has all necessary permissions for data collection."}),"\n",(0,o.jsx)(n.h2,{id:"use-non-domain-admin-account",children:"Use Non-Domain Admin Account"}),"\n",(0,o.jsx)(n.p,{children:"If using a Non-Domain Admin account, set up the account with specific permissions depending on the following aspects:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{}),(0,o.jsx)(n.th,{})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"In the target domain"}),(0,o.jsx)(n.td,{children:"Account Permission Required"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["Do you plan to use ",(0,o.jsx)(n.a,{href:"/docs/1secure/configuration/networktrafficcompression",children:"Network Traffic Compression"})," for data processing?"]}),(0,o.jsxs)(n.td,{children:["If ",(0,o.jsx)(n.strong,{children:"YES"}),", account must belong to Domain Admin group.  If ",(0,o.jsx)(n.strong,{children:"NO"}),", add an account to 'Manage auditing and security log' policy. See ",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/activedirectory/manageauditingsecuritylog",children:"Configure the Manage Auditing and Security Log Policy"})," for more information."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Do you plan to use AD Deleted Objects container for data processing?"}),(0,o.jsxs)(n.td,{children:["If ",(0,o.jsx)(n.strong,{children:"YES"}),", account requires Read permission on the read container. See ",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/activedirectory/permissionsadcontainer",children:"Granting Permissions for 'Deleted Objects' Container"})," topic for more information."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["Is auto-backup ",(0,o.jsx)(n.em,{children:"enabled"})," for the domain controller event logs?"]}),(0,o.jsxs)(n.td,{children:["If ",(0,o.jsx)(n.strong,{children:"YES"}),", account needs the following:   - Access to specific registry key on the domain controllers. See",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/activedirectory/permissionsregistrykeys",children:"Assigning Permission To Read the Registry Key"})," for additional information. - Membership in either Administrators, Print Operators, or Server Operators group. - Read/Write and Full Control permissions on the logs back up folder."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Is there an on-premises Exchange server in your Active Directory domain?"}),(0,o.jsxs)(n.td,{children:["If ",(0,o.jsx)(n.strong,{children:"YES"}),", account needs the following:   - Membership in the ",(0,o.jsx)(n.strong,{children:"Organization Management"})," or ",(0,o.jsx)(n.strong,{children:"Records Management"})," group or having Audit Logs management role. See ",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/activedirectory/auditlogsrole",children:"Assigning Management Roles"})," topic for additional information. - Adjustment of the Exchange Administrator Audit Logging settings. See ",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/activedirectory/auditlogging",children:"Configure Exchange Administrator Audit Logging Settings"})," topic for additional information."]})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"use-gmsa",children:"Use GMSA"}),"\n",(0,o.jsx)(n.p,{children:"You can use group Managed Service Accounts (gMSA) as data collecting accounts. It should also meet the same requirements."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"})," If you are using gMSA for data collection, consider that AAL event data collection from your on-premise Exchange server will not be possible. Thus, changes made to your Active Directory domain via that Exchange server will be reported with ",(0,o.jsx)(n.em,{children:"domain\\Exchange_server_name$"}),' instead of the initiator (user) name in the "',(0,o.jsx)(n.em,{children:"Who"}),'" field of reports, search results and activity summaries.']}),"\n",(0,o.jsxs)(n.p,{children:["For more information on gMSA, refer to ",(0,o.jsx)(n.a,{href:"/docs/1secure/admin/datacollection/gmsa/",children:"Using Group Managed Service Account (gMSA)"})," and to ",(0,o.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows-server/security/group-managed-service-accounts/group-managed-service-accounts-overview",children:"Microsoft documentation"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);