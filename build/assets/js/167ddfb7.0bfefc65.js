"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[122744],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>c});var n=i(296540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},122122:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/pointcut-9d730f4070f82f7c21e17a6f48f014bb.webp"},408177:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect/index","title":"Invoke Script Aspect","description":"Runs a tailored script asynchronously, independent of the workflow event, necessitating the creation and execution of a job using an InvokeAspectsTask task.","source":"@site/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect/index.md","sourceDirName":"usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect","slug":"/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect/","permalink":"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokescriptaspect/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"userCubeSidebar","previous":{"title":"Build Unique Value Aspect","permalink":"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/builduniquevalueaspect/"},"next":{"title":"Invoke Workflow Aspect","permalink":"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/invokeworkflowaspect/"}}');var s=i(474848),r=i(28453);const o={},c="Invoke Script Aspect",d={},a=[{value:"Examples",id:"examples",level:2},{value:"Properties",id:"properties",level:2},{value:"ChildElement: PointCut",id:"childelement-pointcut",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"invoke-script-aspect",children:"Invoke Script Aspect"})}),"\n",(0,s.jsx)(t.p,{children:"Runs a tailored script asynchronously, independent of the workflow event, necessitating the creation and execution of a job using an InvokeAspectsTask task."}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(t.p,{children:["The following example executes the script ",(0,s.jsx)(t.code,{children:"aspect.ps1"})," on the local agent, when creating a new user."]}),"\n",(0,s.jsxs)(t.p,{children:["Code attributes enclosed with ",(0,s.jsx)(t.code,{children:"<>"})," need to be replaced with a custom value before entering the script in the command line."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'<InvokeScriptAspect Identifier="Directory_User_InvokeScript" Agent="Local" ScriptFile="C:/UsercubeDemo/Conf/InvokeAspects/aspect.ps1">  \n<PointCut Activity="Directory_User_StartInternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />  \n<PointCut Activity="Directory_User_StartExternal:Request" ActivityState="ActionWithRefine-Executed" Mode="After" />  \n</InvokeScriptAspect>  \n<Job Identifier="InvokeAspects" DisplayName_L1="00: Invoke Aspects" Agent="Local">  \n<InvokeAspectsTask Agent="Local" DisplayName_L1="Execute Powershell for aspects" OutputPath="C:/UsercubeDemo/Temp" OpenIdClient="Job" />  \n</Job>\n'})}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Identifier   required"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Unique identifier of the aspect."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Agent   optional"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Agent on which the script will be launched."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ExpressionBinding   optional"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Binding\xa0defines the variable type used in the potential expressions specified in the aspect.  The difference with ",(0,s.jsx)(t.code,{children:"Binding"})," defines the property involved in the aspect.  ",(0,s.jsx)(t.strong,{children:"NOTE:"})," It is required when handling the property of multi-valued objects, for example records, to make sure to modify the property in all records and not only in one."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"IfExpression   optional"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Expression that conditions the aspect execution. See the ",(0,s.jsx)(t.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/expressions/csharp-utility-functions/",children:" C# utility functions "})," topic for additional information."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Priority   default value: 0"}),(0,s.jsx)(t.td,{children:"Int32"}),(0,s.jsxs)(t.td,{children:["Execution priority among all aspects. At a given activity state, the aspect with the highest priority will be triggered first.  ",(0,s.jsx)(t.strong,{children:"NOTE:"})," The priority can be a negative value."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ScriptFile   optional"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Path of the script file to be executed by the aspect."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"childelement-pointcut",children:"ChildElement: PointCut"}),"\n",(0,s.jsxs)(t.p,{children:["A pointcut is a mechanism telling Identity Manager when to execute the linked aspect. See the ",(0,s.jsx)(t.a,{href:"/docs/usercube/usercube/integration-guide/toolkit/xml-configuration/workflows/aspects/",children:"Aspects"})," topic for additional information."]}),"\n",(0,s.jsx)(t.p,{children:"The position of the pointcut is specified by an activity state and a mode (before or after)."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"pointcut Schema",src:i(122122).A+"",width:"4282",height:"562"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Activity   required"}),(0,s.jsx)(t.td,{children:"Int64"}),(0,s.jsx)(t.td,{children:"Identifier of the activity whose specified state triggers the aspect."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ActivityState   required"}),(0,s.jsx)(t.td,{children:"Enumeration"}),(0,s.jsx)(t.td,{children:"Identifier of the activity state that triggers the aspect."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Mode   default value: 0"}),(0,s.jsx)(t.td,{children:"PointCutMode"}),(0,s.jsx)(t.td,{children:"Mode defining when exactly the aspect is triggered around the specified workflow's activity state.   0 - Before \u2014 The aspect will be executed on entry to the specified activity state, regardless of the transition used.   1 - After \u2014 The aspect will be executed on exit from the specified activity state, regardless of the transition used."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);