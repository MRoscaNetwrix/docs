"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[147434],{28453:(e,i,s)=>{s.d(i,{R:()=>t,x:()=>d});var n=s(296540);const r={},o=n.createContext(r);function t(e){const i=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(o.Provider,{value:i},e.children)}},383166:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"auditor/configuration/fileservers/dellisilon/compliance","title":"Compliance Mode","description":"You can configure your\xa0cluster for monitoring in one of the following ways:","source":"@site/docs/auditor/auditor/configuration/fileservers/dellisilon/compliance.md","sourceDirName":"auditor/configuration/fileservers/dellisilon","slug":"/auditor/configuration/fileservers/dellisilon/compliance","permalink":"/docs/auditor/auditor/configuration/fileservers/dellisilon/compliance","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/configuration/fileservers/dellisilon/compliance.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Configure Security Event Log Maximum Size","permalink":"/docs/auditor/auditor/configuration/fileservers/delldatastorage/securityeventlog"},"next":{"title":"Normal and Enterprise Modes for Clusters","permalink":"/docs/auditor/auditor/configuration/fileservers/dellisilon/normal"}}');var r=s(474848),o=s(28453);const t={},d="Compliance Mode",l={},c=[{value:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Via Shell Script",id:"configure-dell-isilonpowerscale-cluster-in-compliance-mode-via-shell-script",level:2},{value:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Manually",id:"configure-dell-isilonpowerscale-cluster-in-compliance-mode-manually",level:2}];function a(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"compliance-mode",children:"Compliance Mode"})}),"\n",(0,r.jsx)(i.p,{children:"You can configure your\xa0cluster for monitoring in one of the following ways:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Using the ",(0,r.jsx)(i.strong,{children:"configure_ifs.sh"})," shell script that comes with Netwrix Auditor. See the ",(0,r.jsx)(i.a,{href:"#Configure-Dell-IsilonPowerScale-Cluster-in-Compliance-Mode-Via-Shell-Script",children:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Via Shell Script"})," topic for additional information."]}),"\n",(0,r.jsxs)(i.li,{children:["Manual configuration. See the ",(0,r.jsx)(i.a,{href:"#Configure-Dell-IsilonPowerScale-Cluster-in-Compliance-Mode-Manually",children:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Manually"})," topic for additional information."]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configure-dell-isilonpowerscale-cluster-in-compliance-mode-via-shell-script",children:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Via Shell Script"}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to configure Dell Isilon/PowerScale cluster in Compliance mode via the shell script:"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 1 \u2013"})," On the computer where Auditor Server resides, navigate to ",(0,r.jsx)(i.em,{children:"C:\\Program Files (x86)\\Netwrix Auditor\\File Server Auditing"})," and copy the configure_ifs.sh shell script to ",(0,r.jsx)(i.em,{children:"/ifs/data"})," catalog on your cluster."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 2 \u2013"})," Navigate to your cluster command prompt through the SSH connection."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 3 \u2013"})," Log in to your cluster as a ",(0,r.jsx)(i.strong,{children:"compadmin"})," user."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 4 \u2013"})," Run the shell script by executing the following command:"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"sh /ifs/data/configure_ifs.sh -z zone1 -a 1"})}),"\n",(0,r.jsx)(i.p,{children:"where"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"zone1"})," is the name of the audited access zone on your file server."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"1"})," is a combination of the bitwise flags. The table below shows the example combination of 4 flags:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{}),(0,r.jsx)(i.th,{})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"Successful changes"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"1"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"Failed change attempts"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"2"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"Successful reads"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"4"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"Failed read attempts"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"8"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"Total:"})}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"15"})})]})]})]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 5 \u2013"})," Create a shared folder named netwrix_audit$ on a system zone. This folder points to ",(0,r.jsx)(i.em,{children:"/ifs"}),":"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"isi smb shares create --name=netwrix_audit$ --path=/ifs/ --zone=system --browsable=true"})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 6 \u2013"})," Add the BUILTIN\\Administrators group in the share permissions for netwrix_audit$ folder with ",(0,r.jsx)(i.em,{children:'"full access"'})," rights:"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:'isi smb shares permission create --share=netwrix_audit$ --group="BUILTIN\\Administrators" --permission-type=allow --permission=full --zone=system'})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 7 \u2013"})," Grant your data collection account the ",(0,r.jsx)(i.em,{children:'"read access"'})," rights to the catalog ",(0,r.jsx)(i.em,{children:"/ifs/.ifsvar/audit"})," :"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:'isi zone modify system --add-user-mapping-rules="Enterprise\\Administrator ++ compadmin [group]"'})}),"\n",(0,r.jsxs)(i.p,{children:["Where ",(0,r.jsx)(i.code,{children:"Enterprise\\Administrator"})," is your account name."]}),"\n",(0,r.jsx)(i.h2,{id:"configure-dell-isilonpowerscale-cluster-in-compliance-mode-manually",children:"Configure Dell Isilon/PowerScale Cluster in Compliance Mode Manually"}),"\n",(0,r.jsx)(i.p,{children:"Follow the steps to configure Dell Isilon/PowerScale cluster in Compliance mode manually:"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 1 \u2013"})," Navigate to your cluster command prompt through the SSH connection."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 2 \u2013"})," Log in to your cluster as a ",(0,r.jsx)(i.strong,{children:"compadmin"})," user."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 3 \u2013"})," Create a shared folder named netwrix_audit$ on a system zone. This folder points to ",(0,r.jsx)(i.em,{children:"/ifs"}),":"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"isi smb shares create --name=netwrix_audit$ --path=/ifs/ --zone=system --browsable=true"})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 4 \u2013"})," Add the BUILTIN\\Administrators group in the share permissions for netwrix_audit$ folder with ",(0,r.jsx)(i.em,{children:'"full access"'})," rights:"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:'isi smb shares permission create --share=netwrix_audit$ --group="BUILTIN\\Administrators" --permission-type=allow --permission=full --zone=system'})}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 5 \u2013"})," Grant your data collecting account the ",(0,r.jsx)(i.em,{children:'"read access"'})," rights to the catalog ",(0,r.jsx)(i.em,{children:"/ifs/.ifsvar/audit"})," :"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:'isi zone modify system --add-user-mapping-rules="Enterprise\\Administrator ++ compadmin [group]"'})}),"\n",(0,r.jsxs)(i.p,{children:["Where ",(0,r.jsx)(i.code,{children:"Enterprise\\Administrator"})," is your account name."]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 6 \u2013"})," Enable protocol auditing for a selected zone (for example, ",(0,r.jsx)(i.em,{children:'"zone1"'}),"). Do one of the following, depending on your Dell Isilon/PowerScale version:"]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"EMC\xa0Isilon/PowerScale 7.x"}),(0,r.jsx)(i.th,{children:"EMC\xa0Isilon/PowerScale 8.x"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings modify "}),"  ",(0,r.jsx)(i.code,{children:"--add-audited-zones=zone1 --protocol"}),"  ",(0,r.jsx)(i.code,{children:"-auditing-enabled=true"})]}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings global modify "}),"  ",(0,r.jsx)(i.code,{children:"--add-audited-zones=zone1 --protocol"}),"  ",(0,r.jsx)(i.code,{children:"-auditing-enabled=true"})]})]})})]}),"\n",(0,r.jsx)(i.p,{children:"Enable filters for auditing protocol operations that succeeded / failed for audited access zones on your cluster."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"EMC\xa0Isilon/PowerScale 7.x"}),(0,r.jsx)(i.th,{children:"EMC\xa0Isilon/PowerScale 8.2 and above"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Successful changes"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi zone zones modify "}),"  ",(0,r.jsx)(i.code,{children:"zone1 --audit-success"}),"  ",(0,r.jsx)(i.code,{children:"=write,delete,set_security,rename"})]}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings modify "}),"  ",(0,r.jsx)(i.code,{children:"--zone=zone1 --audit-success"}),"  ",(0,r.jsx)(i.code,{children:"=write,delete,set_security,rename, create"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Failed change attempts"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi zone zones modify "}),"  ",(0,r.jsx)(i.code,{children:"zone1 --audit-failure"}),"  ",(0,r.jsx)(i.code,{children:"=create,write,delete,set_security,rename"})]}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings modify "}),"  ",(0,r.jsx)(i.code,{children:"--zone=zone1 --audit-failure"}),"  ",(0,r.jsx)(i.code,{children:"=create,write,delete,set_security,rename,open"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Successful reads"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi zone zones modify "}),"  ",(0,r.jsx)(i.code,{children:"zone1 --audit-success=read"})]}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings modify --"}),"  ",(0,r.jsx)(i.code,{children:"zone=zone1 --audit-success=read"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Failed read attempts"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi zone zones modify "}),"  ",(0,r.jsx)(i.code,{children:"zone1 "}),"  ",(0,r.jsx)(i.code,{children:"--audit-failure= create,read"})]}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"isi audit settings "}),"  ",(0,r.jsx)(i.code,{children:"modify --zone=zone1 "}),"  ",(0,r.jsx)(i.code,{children:"--audit-failure=create,read, open"})]})]})]})]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Step 7 \u2013"})," Create the ",(0,r.jsx)(i.em,{children:'"netwrix_audit"'})," role and add the required privileges to this role. For example:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-isi",metastring:"auth roles create --name=netwrix_audit"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-isi",metastring:'auth roles modify netwrix_audit --add-priv-ro="ISI_PRIV_LOGIN_PAPI,ISI_PRIV_AUTH,ISI_PRIV_AUDIT,ISI_PRIV_IFS_BACKUP"'})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:'isi auth roles modify netwrix_audit --add-group="BUILTIN\\Administrators"'})})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);