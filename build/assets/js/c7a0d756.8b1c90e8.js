"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[840236],{28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var r=s(296540);const i={},o=r.createContext(i);function c(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(o.Provider,{value:n},e.children)}},113621:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"enterpriseauditor/requirements/target/unix","title":"Target Unix Requirements, Permissions, and Ports","description":"The Access Analyzer for Unix Solution provides the ability to audit Unix servers. It scans:","source":"@site/docs/accessanalyzer/enterpriseauditor/requirements/target/unix.md","sourceDirName":"enterpriseauditor/requirements/target","slug":"/enterpriseauditor/requirements/target/unix","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/unix","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/accessanalyzer/enterpriseauditor/requirements/target/unix.md","tags":[],"version":"current","frontMatter":{},"sidebar":"accessAnalyzerSidebar","previous":{"title":"SharePoint Support","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/sharepoint"},"next":{"title":"Target Windows Server and Desktop Requirements, Permissions, and Ports","permalink":"/docs/accessanalyzer/enterpriseauditor/requirements/target/windows"}}');var i=s(474848),o=s(28453);const c={},l="Target Unix Requirements, Permissions, and Ports",t={},d=[{value:"Permissions",id:"permissions",level:2},{value:"Ports",id:"ports",level:2},{value:"Least Privilege Model",id:"least-privilege-model",level:2},{value:"Connecting to Unix Hosts",id:"connecting-to-unix-hosts",level:3},{value:"Commands for Non-Root Accounts",id:"commands-for-non-root-accounts",level:3},{value:"UX_UsersAndGroups Job Requirements",id:"ux_usersandgroups-job-requirements",level:4},{value:"UX_MakeDirectory Job Requirements",id:"ux_makedirectory-job-requirements",level:4},{value:"UX_ParseSudoers Job Requires",id:"ux_parsesudoers-job-requires",level:4},{value:"UX_CriticalFiles Job Requires",id:"ux_criticalfiles-job-requires",level:4},{value:"UX_NFSConfiguration Job Requires",id:"ux_nfsconfiguration-job-requires",level:4},{value:"UX_SambaConfiguration Job Requires",id:"ux_sambaconfiguration-job-requires",level:4}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"target-unix-requirements-permissions-and-ports",children:"Target Unix Requirements, Permissions, and Ports"})}),"\n",(0,i.jsx)(n.p,{children:"The Access Analyzer for Unix Solution provides the ability to audit Unix servers. It scans:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AIX\xae 4+"}),"\n",(0,i.jsx)(n.li,{children:"Solaris\u2122 8+"}),"\n",(0,i.jsx)(n.li,{children:"Red Hat\xae Enterprise Linux\xae 4+"}),"\n",(0,i.jsx)(n.li,{children:"Red Hat\xae Linux\xae 5.2+"}),"\n",(0,i.jsx)(n.li,{children:"HP-UX\xae 11+"}),"\n",(0,i.jsx)(n.li,{children:"CentOS\xae 7+"}),"\n",(0,i.jsx)(n.li,{children:"SUSE\xae 10+"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Data Collectors"}),"\n",(0,i.jsx)(n.p,{children:"This solution employs the following data collectors to scan the target environment:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/nis/overview",children:"NIS Data Collector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/accessanalyzer/enterpriseauditor/admin/datacollector/unix/overview",children:"Unix Data Collector"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,i.jsx)(n.p,{children:"For NIS Data Collector Prerequisite"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No special permissions are needed aside from access to a NIS server"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Unix Data Collector"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Root permissions in Unix/Linux"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If the Root permission is unavailable, a least privileged model can be used. See the ",(0,i.jsx)(n.a,{href:"#least-privilege-model",children:"Least Privilege Model"})," topic additional information."]}),"\n",(0,i.jsx)(n.h2,{id:"ports",children:"Ports"}),"\n",(0,i.jsx)(n.p,{children:"The following firewall ports are needed:"}),"\n",(0,i.jsx)(n.p,{children:"For NIS Data Collector Prerequisite"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TCP 111 or UDP 111"}),"\n",(0,i.jsx)(n.li,{children:"Randomly allocated high TCP ports"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Unix Data Collector"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TCP 22"}),"\n",(0,i.jsx)(n.li,{children:"User configurable"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"least-privilege-model",children:"Least Privilege Model"}),"\n",(0,i.jsx)(n.p,{children:"Access Analyzer for Unix collects information from Unix devices by running commands or executing scripts on your Unix hosts (if configured properly our tool can SCP scripts to your hosts before execution). Therefore, the domain or local user credentials entered in the Connection Profile within the Access Analyzer must be capable of running the necessary commands, executing the necessary scripts or, in some cases, have rights to SCP scripts to the host."}),"\n",(0,i.jsx)(n.h3,{id:"connecting-to-unix-hosts",children:"Connecting to Unix Hosts"}),"\n",(0,i.jsx)(n.p,{children:"Access Analyzer for Unix connects to your host in two ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Plink \u2013 This mechanism is leveraged during our tools Host Inventory to test connectivity to a host and to collect basic details about a host (Host Name, OS Type, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Implementation of the SSH2 protocol built into Access Analyzer \u2013 This is how the Unix Data Collector interacts with and pulls information from your environment"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Authentication Methods"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"SSH Login Required"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"SSH Private Key"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Supported Key Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Open SSH"}),"\n",(0,i.jsx)(n.li,{children:"PuTTY Private Key"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Device Connectivity"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"SSH port opened in software and hardware firewalls. Default is 22."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If you do not use Port 22, you can specify your SSH port in the Connection Profile"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"commands-for-non-root-accounts",children:"Commands for Non-Root Accounts"}),"\n",(0,i.jsx)(n.p,{children:"We recommend using the root account to run Access Analyzer against a Unix system. However, if that is not acceptable all the commands we leverage in the solution set are below and can be used to implement least privilege:"}),"\n",(0,i.jsx)(n.p,{children:"All Perl scripts require the account to be able to execute the following commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"scp [script] to a target location: /tmp/[script]\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"perl [script]\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"rm -f [script]\n"})}),"\n",(0,i.jsx)(n.h4,{id:"ux_usersandgroups-job-requirements",children:"UX_UsersAndGroups Job Requirements"}),"\n",(0,i.jsx)(n.p,{children:"The 1.Users and Groups > 0.Collection > UX_UsersAndGroups Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsx)(n.p,{children:"Commands Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"grep"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"egrep"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"uname"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cat /etc/passwd"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cat /etc/group"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cat /etc/security/user"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"cat /etc/shadow"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Requires root or customization to job to utilize sudo without password prompt (",":NOPASSWD",")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"egrep /etc/security/user"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"egrep /etc/login.defs"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"egrep /etc/default/passwd"})," (read access)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cat /etc/security/passwd"})," (read access)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Perl Scripts Used"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SA_UX_AIX_User.pl\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SA_UX_AIX_UserLastUpdate.pl\n"})}),"\n",(0,i.jsx)(n.h4,{id:"ux_makedirectory-job-requirements",children:"UX_MakeDirectory Job Requirements"}),"\n",(0,i.jsx)(n.p,{children:"The 2.PrivilegedAccess > Sudoers > 0.Collection > UX_MakeDirectory Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsx)(n.p,{children:"Commands Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"mkdir /tmp/Stealthbits/"})}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"ux_parsesudoers-job-requires",children:"UX_ParseSudoers Job Requires"}),"\n",(0,i.jsx)(n.p,{children:"The 2.PrivilegedAccess > Sudoers > 0.Collection > UX_ParseSudoers Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE:"})," To parse sudoers we either need root or an account that has access to use sudo without password prompt (",":NOPASSWD",")"]}),"\n",(0,i.jsx)(n.p,{children:"Commands Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo chmod 500 SA_UX_ParseSudoers.pl"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo ./SA_UX_ParseSudoers.pl"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo rm SA_UX_ParseSudoers.pl"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sudo rmdir /tmp/Stealthbits/"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Perl Scripts Used"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SA_UX_ParseSudoers.pl\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This grants read access to\xa0 ",(0,i.jsx)(n.code,{children:"/etc/sudoers"})]}),"\n",(0,i.jsx)(n.h4,{id:"ux_criticalfiles-job-requires",children:"UX_CriticalFiles Job Requires"}),"\n",(0,i.jsx)(n.p,{children:"The 2.PrivilegedAccess > UX_Critical Files Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsx)(n.p,{children:"Commands Used"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ls -al /etc/"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ls -al /etc/samba/"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ls -al /etc/sysconfig"})}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"ux_nfsconfiguration-job-requires",children:"UX_NFSConfiguration Job Requires"}),"\n",(0,i.jsx)(n.p,{children:"The 3.Sharing > 0.Collection > UX_NFSConfiguration Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsx)(n.p,{children:"Perl Scripts Used"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SA_UX_NFSConfiguration.pl\n"})}),"\n",(0,i.jsx)(n.p,{children:"This grants:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["read access to ",(0,i.jsx)(n.code,{children:"/etc/exports"})]}),"\n",(0,i.jsxs)(n.li,{children:["read access to ",(0,i.jsx)(n.code,{children:"/etc/dfs/dfstab"})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"ux_sambaconfiguration-job-requires",children:"UX_SambaConfiguration Job Requires"}),"\n",(0,i.jsx)(n.p,{children:"The 3.Sharing > 0.Collection > UX_SambaConfiguration Job requires permissions in the Unix environment to run the following commands:"}),"\n",(0,i.jsx)(n.p,{children:"Perl Scripts Used"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SA_UX_SambaConfiguration.pl\n"})}),"\n",(0,i.jsx)(n.p,{children:"This grants:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["read access to ",(0,i.jsx)(n.code,{children:"/etc/sfw/smb.conf"})]}),"\n",(0,i.jsxs)(n.li,{children:["read access to ",(0,i.jsx)(n.code,{children:"/etc/samba/smb.conf"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);