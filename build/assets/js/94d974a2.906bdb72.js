"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[196341],{28453:(e,t,s)=>{s.d(t,{R:()=>n,x:()=>c});var o=s(296540);const r={},i=o.createContext(r);function n(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),o.createElement(i.Provider,{value:t},e.children)}},174271:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"auditor/tools/objectrestoread","title":"Object Restore for Active Directory","description":"With Netwrix Auditor you can quickly restore deleted and modified objects using the Netwrix Auditor Object Restore for Active Directory tool shipped with the product. This tool enables AD object restore without rebooting a domain controller and affecting the rest of the AD structure, and goes beyond the standard tombstone capabilities.","source":"@site/docs/auditor/auditor/tools/objectrestoread.md","sourceDirName":"auditor/tools","slug":"/auditor/tools/objectrestoread","permalink":"/docs/auditor/auditor/tools/objectrestoread","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auditor/auditor/tools/objectrestoread.md","tags":[],"version":"current","frontMatter":{},"sidebar":"auditorSidebar","previous":{"title":"Inactive User Tracker","permalink":"/docs/auditor/auditor/tools/inactiveusertracker"},"next":{"title":"Tools","permalink":"/docs/auditor/auditor/tools/overview"}}');var r=s(474848),i=s(28453);const n={},c="Object Restore for Active Directory",a={},d=[{value:"Modify Schema Container Settings",id:"modify-schema-container-settings",level:2},{value:"Roll Back Unwanted Changes",id:"roll-back-unwanted-changes",level:2}];function l(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"object-restore-for-active-directory",children:"Object Restore for Active Directory"})}),"\n",(0,r.jsx)(t.p,{children:"With Netwrix Auditor you can quickly restore deleted and modified objects using the Netwrix Auditor Object Restore for Active Directory tool shipped with the product. This tool enables AD object restore without rebooting a domain controller and affecting the rest of the AD structure, and goes beyond the standard tombstone capabilities."}),"\n",(0,r.jsx)(t.p,{children:"The following Windows Server versions are supported:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Windows Server 2025"}),"\n",(0,r.jsx)(t.li,{children:"Windows Server 2022"}),"\n",(0,r.jsx)(t.li,{children:"Windows Server 2019"}),"\n",(0,r.jsx)(t.li,{children:"Windows Server 2016"}),"\n",(0,r.jsx)(t.li,{children:"Windows Server 2012 R2"}),"\n",(0,r.jsx)(t.li,{children:"Windows Server 2012"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Perform the following procedures:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#Modify-Schema-Container-Settings",children:"Modify Schema Container Settings"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#Roll-Back-Unwanted-Changes",children:"Roll Back Unwanted Changes"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"modify-schema-container-settings",children:"Modify Schema Container Settings"}),"\n",(0,r.jsx)(t.p,{children:"By default, when a user or computer account is deleted from Active Directory, its password is discarded as well as a domain membership. When you restore deleted accounts with the Netwrix Auditor Object Restore for Active Directory tool, it rolls back a membership in domain and sets random passwords which then have to be changed manually. If you want to be able to restore AD objects with their passwords preserved, you must modify the Schema container settings so that account passwords are retained when accounts are being deleted."}),"\n",(0,r.jsxs)(t.p,{children:["To perform this procedure, you will need the ",(0,r.jsx)(t.a,{href:"http://technet.microsoft.com/en-us/library/cc773354(v=ws.10).aspx",children:"ADSI Edit"})," utility.utility."]}),"\n",(0,r.jsx)(t.p,{children:"Follow the steps to modify schema container settings."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to Start > Windows Administrative Tools > ADSI Edit."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2 \u2013"})," Right-click the ",(0,r.jsx)(t.strong,{children:"ADSI Edit"})," node and select ",(0,r.jsx)(t.strong,{children:"Connect To"}),". In the ",(0,r.jsx)(t.strong,{children:"Connection Settings"})," dialog, enable ",(0,r.jsx)(t.strong,{children:"Select a well-known Naming Context"})," and select ",(0,r.jsx)(t.strong,{children:"Schema"})," from the drop-down list."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3 \u2013"})," Expand the Schema your_Root_Domain_name node. Right-click the CN=Unicode-Pwd attribute and select Properties."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"ad_object_restore_1",src:s(370545).A+"",width:"995",height:"518"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4 \u2013"})," Double-click the searchFlags attribute and set its value to ",(0,r.jsx)(t.em,{children:'"8"'}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"ad_object_restore_2",src:s(320180).A+"",width:"423",height:"460"})}),"\n",(0,r.jsx)(t.p,{children:"Now you will be able to restore deleted accounts with their passwords preserved."}),"\n",(0,r.jsx)(t.h2,{id:"roll-back-unwanted-changes",children:"Roll Back Unwanted Changes"}),"\n",(0,r.jsx)(t.p,{children:"Follow the steps to roll back unwanted changes."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1 \u2013"})," Navigate to Start > Netwrix Auditor > Netwrix Auditor Object Restore for Active Directory."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2 \u2013"})," On the Select Rollback Period step, specify the period of time when the changes that you want to revert occurred. You can either select a period between a specified date and the present date, or between two specified dates."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3 \u2013"})," On the Select Rollback Source step, specify the rollback source. The following restore options are available:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"State-in-time snapshots \u2014 This option allows restoring objects from configuration snapshots made by Netwrix Auditor. This option is more preferable since it allows to restore AD objects with all their attributes."}),"\n",(0,r.jsx)(t.p,{children:"Complete the following fields:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Option"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Audited domain"}),(0,r.jsx)(t.td,{children:"Select a domain where changes that you want to rollback occurred."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Select a state-in-time snapshot"}),(0,r.jsx)(t.td,{children:"Select if you want to revert to a specific snapshot. Otherwise, the program will automatically search for the most recent snapshot that will cover the selected time period."})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Active Directory tombstones \u2014 This option is recommended when no snapshot is available. This is a last resort measure as the tombstone holds only the basic object attributes."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4 \u2013"})," On the Analyzing Changes step, the product analyzes the changes made during the specified time period. When reverting to a snapshot, the tool reviews the changes that occurred between the specified snapshots. When restoring from a tombstone, the tool reviews all AD objects put in the tombstone during the specified period of time."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 5 \u2013"})," On the Rollback Results step, the analysis results are displayed. Select a change to see its rollback details in the bottom of the window. Select an attribute and click Details to see what changes will be applied if this attribute is selected for rollback. Check the changes you want to roll back to their previous state."]}),"\n",(0,r.jsx)(t.p,{children:"Wait until the tool has finished restoring the selected objects. On the last step, review the results and click Finish to exit the wizard."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},320180:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/ad_object_restore_2-9c3b0ebe924bc2ecd3c472581e21141d.webp"},370545:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/ad_object_restore_1-79fb3c83852963aa0d228fe0bb6bec3e.webp"}}]);