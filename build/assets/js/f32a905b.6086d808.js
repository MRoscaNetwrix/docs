"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[779699],{28453:(e,i,r)=>{r.d(i,{R:()=>o,x:()=>c});var t=r(296540);const n={},s=t.createContext(n);function o(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(s.Provider,{value:i},e.children)}},137441:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"groupid/admincenter/replication/overview","title":"Elasticsearch and Replication","description":"Searches performed in Directory Manager are catered through Elasticsearch.","source":"@site/docs/groupid/groupid/admincenter/replication/overview.md","sourceDirName":"groupid/admincenter/replication","slug":"/groupid/admincenter/replication/overview","permalink":"/docs/groupid/groupid/admincenter/replication/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/groupid/groupid/admincenter/replication/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"groupIdSidebar","previous":{"title":"Add Support for a Portal","permalink":"/docs/groupid/groupid/admincenter/portal/server/support"},"next":{"title":"Manage Global Replication Settings","permalink":"/docs/groupid/groupid/admincenter/replication/settings"}}');var n=r(474848),s=r(28453);const o={},c="Elasticsearch and Replication",a={},l=[{value:"Replication Settings",id:"replication-settings",level:2},{value:"Replication Service Logs",id:"replication-service-logs",level:2}];function d(e){const i={a:"a",br:"br",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"elasticsearch-and-replication",children:"Elasticsearch and Replication"})}),"\n",(0,n.jsx)(i.p,{children:"Searches performed in Directory Manager are catered through Elasticsearch."}),"\n",(0,n.jsx)(i.p,{children:"Elasticsearch relies on two services:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Elasticsearch Service"})," is responsible for searching the Elasticsearch repository and displaying search results when a search is performed through Directory Manager. If this service stops, Elasticsearch will not work."]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Replication Service"})," is responsible for replicating attributes of the following objects from the provider (such as Active Directory) to Elasticsearch."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Group"}),"\n",(0,n.jsx)(i.li,{children:"User"}),"\n",(0,n.jsx)(i.li,{children:"Contact"}),"\n",(0,n.jsx)(i.li,{children:"Computers"}),"\n",(0,n.jsx)(i.li,{children:"Organizational Unit"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.a,{href:"/docs/groupid/groupid/admincenter/service/replicationservice",children:"Replication Service"})," only replicates changes that are made to these objects on the directory server. Changes made to these objects using Admin Center, Directory Manager portal, or Management Shell, are directly saved in the\nElasticsearch repository and replicated to the Directory Manager database by the Data service. See the ",(0,n.jsx)(i.a,{href:"/docs/groupid/groupid/admincenter/service/dataservice/overview",children:"Data Service"})," topic."]}),"\n",(0,n.jsx)(i.p,{children:"Synchronize directly updates objects in the directory. As soon as objects are provisioned, de-provisioned, or updated in the directory using Synchronize, the Replication service replicates them to Elasticsearch."}),"\n",(0,n.jsx)(i.p,{children:"Synchronize history is saved to Elasticsearch when Active Directory, Microsoft Entra ID, Generic LDAP, or Google Workspace is the destination provider in the respective Synchronize job. This history is replicated to the Directory Manager database by the Data\ns ervice."}),"\n",(0,n.jsxs)(i.p,{children:["NOTE: The ",(0,n.jsx)(i.strong,{children:"Recycle Bin"})," in the Directory Manager portal fetches data from the directory server and not from Elasticsearch."]}),"\n",(0,n.jsx)(i.h2,{id:"replication-settings",children:"Replication Settings"}),"\n",(0,n.jsx)(i.p,{children:"In Admin Center, you can specify settings for the Replication service at the global and local levels. Global settings apply to all identity stores in Directory Manager while local settings are specific to an identity store."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["At the global level, you can schedule the service to run every x minutes to replicate object attributes to Elasticsearch. You can also manually restore object data to Elasticsearch. See the ",(0,n.jsx)(i.a,{href:"/docs/groupid/groupid/admincenter/replication/settings",children:"Manage Global Replication Settings"})," topic."]}),"\n",(0,n.jsxs)(i.li,{children:["For an identity store, you can specify the object attributes the service should replicate to Elasticsearch. See the ",(0,n.jsx)(i.a,{href:"/docs/groupid/groupid/admincenter/identitystore/replication",children:"Manage Local Replication Settings"})," topic."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["NOTE: The Replication service does not replicate excluded domains for an identity store. See the ",(0,n.jsx)(i.a,{href:"/docs/groupid/groupid/admincenter/identitystore/manage#exclude-an-active-directory-domain-from-replication",children:"Exclude an Active Directory Domain from Replication"})," topic."]}),"\n",(0,n.jsx)(i.h2,{id:"replication-service-logs",children:"Replication Service Logs"}),"\n",(0,n.jsx)(i.p,{children:"Logs for the Replication service are stored in the folder for the service on the Directory Manager server."}),"\n",(0,n.jsx)(i.p,{children:"To view the logs:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["Launch IIS on the Directory Manager server and navigate to:",(0,n.jsx)(i.br,{}),"\n","\u2026\\Sites\\GroupIDSite11\\GroupIDReplicationService"]}),"\n",(0,n.jsxs)(i.li,{children:["Right-click this folder and select ",(0,n.jsx)(i.strong,{children:"Explore"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Locate the ",(0,n.jsx)(i.strong,{children:"Logs"})," folder to read the logs."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Events are logged in a text file. When the file size reaches 100 MB, Directory Manager archives it in the same directory by replacing the file extension with the suffix .Log.X and then creating a new text file with the original name. X in .Log.X is a number from\n1 to 10 representing the archiving order; where \u20181\u2019 denotes the most recent file."})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);