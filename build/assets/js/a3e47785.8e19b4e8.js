"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[421083],{28453:(e,s,r)=>{r.d(s,{R:()=>n,x:()=>l});var o=r(296540);const t={},i=o.createContext(t);function n(e){const s=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:n(e.components),o.createElement(i.Provider,{value:s},e.children)}},70650:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_3_image-20201229224350-3-007ad80d07a30b8bfc80e9332812e245.webp"},151734:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_5_image-20201229224350-5_950x366-3695251754645f669fc7fcade206acb9.webp"},346868:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_4_image-20201229224350-4-16737da1c854b649104f89d66f6a7771.webp"},536940:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"policypak/browserrouter/useselectablebrowser","title":"Where does Browser Router store user selected browser (and how can I fake it if I need to) in versions 2536 and later?","description":"CAUTION:","source":"@site/docs/policypak/policypak/browserrouter/useselectablebrowser.md","sourceDirName":"policypak/browserrouter","slug":"/policypak/browserrouter/useselectablebrowser","permalink":"/docs/policypak/policypak/browserrouter/useselectablebrowser","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/policypak/policypak/browserrouter/useselectablebrowser.md","tags":[],"version":"current","frontMatter":{},"sidebar":"policyPakSidebar","previous":{"title":"How do I suppress the pop-up of the Browser Router Chrome Extension at First run?","permalink":"/docs/policypak/policypak/browserrouter/suppresspopup"},"next":{"title":"Endpoint Policy Manager Cloud Portal - Adding new company admins - Quickstart","permalink":"/docs/policypak/policypak/cloud/add/administrator"}}');var t=r(474848),i=r(28453);const n={},l="Where does Browser Router store user selected browser (and how can I fake it if I need to) in versions 2536 and later?",a={},d=[];function c(e){const s={a:"a",br:"br",code:"code",em:"em",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"where-does-browser-router-store-user-selected-browser-and-how-can-i-fake-it-if-i-need-to-in-versions-2536-and-later",children:"Where does Browser Router store user selected browser (and how can I fake it if I need to) in versions 2536 and later?"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"CAUTION:"}),"\nThis article pertains to build 2536 and later. For earlier builds, the instructions are different, and technically, not supported. If using a CSE version older than 2536, please upgrade to the latest Netwrix Endpoint Policy Manager (formerly PolicyPak) version before using the steps in this KB."]}),"\n",(0,t.jsxs)(s.p,{children:["Endpoint Policy Manager Browser Router has a function called ",(0,t.jsx)(s.strong,{children:"User Selectable browser"}),". Learn more about this feature first here:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/policypak/policypak/video/browserrouter/userselecteddefault",children:"Endpoint Policy Manager Browser Router User-Selected Default"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/policypak/policypak/browserrouter/defaultbrowser/defined",children:'What is meant by "Default Browser" within Endpoint Policy Manager Browser router?'})}),"\n",(0,t.jsx)(s.p,{children:"You might need to have Endpoint Policy Manager Browser\xa0Router indicate that a user specifically chose a particular browser, even if they did not."}),"\n",(0,t.jsx)(s.p,{children:"The values a particular user chose are stored for both HTTP and HTTPS. They are stored per user in the following location in the registry:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:'"HKEY_CURRENT_USER\\SOFTWARE\\PolicyPak\\Client-Side Extensions\\{1659C456-08FC-4359-B125-BB70EE34DD55}\\PPBRAgent\\SavedOldValues"'}),"Then within SavedOldValues there are two keys, one for HTTP and one for HTTPs."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"/Software/Microsoft/Windows/Shell/Associations/UrlAssociations/http/UserChoice"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"/Software/Microsoft/Windows/Shell/Associations/UrlAssociations/https/UserChoice"})}),"\n",(0,t.jsx)(s.p,{children:"The first path is default browser for HTTP schema and the second one is HTTPS."}),"\n",(0,t.jsx)(s.p,{children:"Those two keys hold a REG_SZ called ProgID which specifies the user's chosen (or perceived) default browser."}),"\n",(0,t.jsx)(s.p,{children:"For instance, in this example, after the Admin has chosen User Selectable, the User chooses Edge (UWP version), with the following results:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"507_1_image-20201229224350-1_950x136",src:r(856849).A+"",width:"950",height:"136"})}),"\n",(0,t.jsx)(s.p,{children:"Supported values in ProgID are:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Edge (With Chromium):","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"MSEdgeHTM"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Edge (UWP version):","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"AppXq0fevzme2pys62n3e0fbqa7peapykr8v for HTTP"}),"\n",(0,t.jsx)(s.li,{children:"AppX90nv6nhay5n6a98fnetv7tpk64pp35es for HTTPS"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Internet Explorer","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"IE.HTTP"}),"\n",(0,t.jsx)(s.li,{children:"IE.HTTPS"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Chrome:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"ChromeHTML"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"NOTE:"}),"  Firefox uses a customized value for ProgId dependent on the version of Firefox installed. You can set the default browser to Firefox and then look under the following key to find the correct custom ProgId value:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"HKCU\\SOFTWARE\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice\\ProgId"})}),"\n",(0,t.jsxs)(s.p,{children:["For Example:",(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.img,{alt:"507_2_image-20201229224350-2",src:r(539664).A+"",width:"831",height:"161"})]}),"\n",(0,t.jsx)(s.p,{children:"Example: If a user has not yet selected a Browser, or if MS Edge Chromium is the perceived browser, then specify the default as Chrome (one time) and allow the user to select a different browser if desired going forward."}),"\n",(0,t.jsx)(s.p,{children:"Prerequisites:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"A PPBR User Selectable policy applied on the User Side"}),"\n",(0,t.jsx)(s.li,{children:"Browser you wish to use as the default must be installed"}),"\n",(0,t.jsx)(s.li,{children:"The PPBR policy should be applied AFTER the GP Preferences policy."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"To do this you'll use a Group Policy Preferences Registry Item to SET the value Only do this iff Item Level Targeting proves the value is ABSENT OR if the value is set to MSEdgeHTM (Edge Chromium)."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"NOTE:"}),"  The GPO must be linked to where USERS are, not COMPUTERS, because the logged-in user SID is used during this operation."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 1 \u2013"})," Set the value:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Hive: HKEY_CURRENT_USER"}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.code,{children:"Key Path: SOFTWARE\\PolicyPak\\Client-Side Extensions\\{1659C456-08FC-4359-B125-BB70EE34DD55}\\PPBRAgent\\SavedOldValues\\Software/Microsoft/Windows/Shell/Associations/UrlAssociations/http/UserChoice"})}),"\n",(0,t.jsx)(s.li,{children:"Value Name: ProgID"}),"\n",(0,t.jsxs)(s.li,{children:["Value Type: REG_SZ\n",(0,t.jsx)(s.img,{alt:"507_3_image-20201229224350-3",src:r(70650).A+"",width:"401",height:"360"}),"- ValueData: ChromeHTML"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Step 2 \u2013"}),"  (But only if the value below is absent...:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"HKCU\\ Software\\PolicyPak\\Client-Side Extensions\\{1659C456-08FC-4359-B125-BB70EE34DD55}\\PPBRAgent\\SavedOldValues\\Software/Microsoft/Windows/Shell/Associations/UrlAssociations/http/UserChoice\\"})}),"\n",(0,t.jsx)(s.p,{children:"... or if ProgId at the location below is set to MSEdgeHTM (as verified by ILT):"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"HKCU\\ Software\\PolicyPak\\Client-Side Extensions\\{1659C456-08FC-4359-B125-BB70EE34DD55}\\PPBRAgent\\SavedOldValues\\Software/Microsoft/Windows/Shell/Associations/UrlAssociations/http/UserChoice\\ProgId\\"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"507_4_image-20201229224350-4",src:r(346868).A+"",width:"400",height:"311"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"507_5_image-20201229224350-5_950x366",src:r(151734).A+"",width:"950",height:"366"})}),"\n",(0,t.jsx)(s.p,{children:"Be sure to have entries which set HTTP and HTTPS like these two values here (i.e., Repeat Steps 1 & 2 above for HTTPS value)"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"507_6_image-20201229224350-6",src:r(783040).A+"",width:"954",height:"453"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.em,{children:"Remember,"}),"  You need two entries. One for HTTP and one for HTTPS."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"NOTE:"})," If Chrome is not installed, PPBR will fail back to Internet Explorer. Also, for first time logins, Chrome will not become the default browser until the 2nd processing of gpupdate.For convenience the required User side Group Policy Preference XMLS are attached below:"]}),"\n",(0,t.jsxs)(s.p,{children:["HTTP: [",(0,t.jsx)(s.a,{href:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-",children:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-"})," then-set-to-chrome-http.xml](",(0,t.jsx)(s.a,{href:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-",children:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-"})," then-set-to-chrome-http.xml)"]}),"\n",(0,t.jsxs)(s.p,{children:["HTTPS: [",(0,t.jsx)(s.a,{href:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-",children:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-"})," then-set-to-chrome-https.xml](",(0,t.jsx)(s.a,{href:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-",children:"https://www.policypak.com/pp-files/2020-12-29_no-default-or-default-edge-"})," then-set-to-chrome-https.xml)"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},539664:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_2_image-20201229224350-2-9f4dde06b5d46bbf3775c6e2ce0fc8db.webp"},783040:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_6_image-20201229224350-6-0b9b4ce95d91e7d8afc900b71a970f89.webp"},856849:(e,s,r)=>{r.d(s,{A:()=>o});const o=r.p+"assets/images/507_1_image-20201229224350-1_950x136-55f22db09399df58db952b5f532ba6e3.webp"}}]);