<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-threatprevention docs-version-current docs-doc-page docs-doc-id-threatprevention/admin/configuration/databasemaintenance/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Database Maintenance Window | Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" name="twitter:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" property="og:url" content="https://docs.yourcompany.com/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-threatprevention-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-threatprevention-current"><meta data-rh="true" property="og:title" content="Database Maintenance Window | Documentation"><meta data-rh="true" name="description" content="The database maintenance function grooms the NVMonitorData database to optimize performance. It automatically deletes or archives data aged beyond a specified threshold. The threshold can be set per Event Type, per Analytics, and/or per Policy. While all three options can be enabled with different retention periods, the Event Type maintenance settings take precedence over Policy maintenance settings where the selected policy employs that event type."><meta data-rh="true" property="og:description" content="The database maintenance function grooms the NVMonitorData database to optimize performance. It automatically deletes or archives data aged beyond a specified threshold. The threshold can be set per Event Type, per Analytics, and/or per Policy. While all three options can be enabled with different retention periods, the Event Type maintenance settings take precedence over Policy maintenance settings where the selected policy employs that event type."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yourcompany.com/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"><link rel="stylesheet" href="/assets/css/styles.4cbdd69d.css">
<script src="/assets/js/runtime~main.a42836f1.js" defer="defer"></script>
<script src="/assets/js/main.3131faef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/1secure">1Secure</a></li><li><a class="dropdown__link" href="/docs/accessanalyzer">Access Analyzer</a></li><li><a class="dropdown__link" href="/docs/accessinformationcenter">Access Information Center</a></li><li><a class="dropdown__link" href="/docs/activitymonitor">Activity Monitor</a></li><li><a class="dropdown__link" href="/docs/auditor">Auditor</a></li><li><a class="dropdown__link" href="/docs/changetracker">Change Tracker</a></li><li><a class="dropdown__link" href="/docs/dataclassification">Data Classification</a></li><li><a class="dropdown__link" href="/docs/groupid">Group ID</a></li><li><a class="dropdown__link" href="/docs/passwordpolicyenforcer">Password Policy Enforcer</a></li><li><a class="dropdown__link" href="/docs/passwordreset">Password Reset</a></li><li><a class="dropdown__link" href="/docs/passwordsecure">Password Secure</a></li><li><a class="dropdown__link" href="/docs/policypak">PolicyPak</a></li><li><a class="dropdown__link" href="/docs/privilegesecure">Privilege Secure</a></li><li><a class="dropdown__link" href="/docs/recoveryforactivedirectory">Recovery for Active Directory</a></li><li><a class="dropdown__link" href="/docs/strongpointfornetsuite">StrongPoint for NetSuite</a></li><li><a class="dropdown__link" href="/docs/strongpointforsalesforce">StrongPoint for Salesforce</a></li><li><a class="dropdown__link" href="/docs/strongpointnetsuiteflashlight">StrongPoint NetSuite Flashlight</a></li><li><a class="dropdown__link" href="/docs/strongpointsalesforceflashlight">StrongPoint Salesforce Flashlight</a></li><li><a class="dropdown__link" href="/docs/threatmanager">Threat Manager</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/threatprevention">Threat Prevention</a></li><li><a class="dropdown__link" href="/docs/usercube">UserCube</a></li><li><a class="dropdown__link" href="/docs/usercube_saas">UserCube SaaS</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="http://github.com/netwrix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/threatprevention/config/activedirectory/threatprevention">config</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/threatprevention/">Threat Prevention</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/threatprevention/threatprevention/admin/agents/deploy/installing">threatprevention</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/threatprevention/threatprevention/admin/agents/deploy/installing">admin</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/agents/deploy/installing">agents</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/alerts/overview">alerts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/analytics/baduseridsourcehost">analytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/collectionmanager/dynamic">configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/collectionmanager/dynamic">collectionmanager</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/archive">databasemaintenance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/archive">Archive Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/enable">Enable Database Maintenance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview">Database Maintenance Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/schedule">Schedule Database Maintenance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/storedprocedures">Stored Procedures</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/epesettings">EPE Settings Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/eventfilteringconfiguration">Event Filtering Configuration Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/eventsdatabaseconfiguration">Events Database Configuration Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/filemonitorsettings">File Monitor Settings Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/siemoutputviewer">SIEM Output Viewer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/systemalerting/email">systemalerting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/threatmanagerconfiguration">Netwrix Threat Manager Configuration Window</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/configuration/userroles/add">userroles</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/investigate/datagrid">investigate</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/navigation/datagrid">navigation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/admin/overview">Administration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/policies/actions/file">policies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/tags/overview">tags</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/templates/actions">templates</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/admin/tools/exportpoliciestemplates">tools</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/api/collections">api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/eperestsite/accountmanagement">eperestsite</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/gettingstarted">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/install/adminconsole">install</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/overview">Netwrix Threat Prevention v7.5 Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/reportingmodule/configuration/integrations/activedirectorysync">reportingmodule</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/requirements/adminconsole">requirements</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/siemdashboard/overview">siemdashboard</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/solutions/activedirectory">solutions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/threatprevention/threatprevention/troubleshooting/agentcommunication">troubleshooting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/threatprevention/threatprevention/whatsnew">What&#x27;s New</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">threatprevention</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">admin</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">configuration</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">databasemaintenance</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Database Maintenance Window</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Database Maintenance Window</h1></header>
<p>The database maintenance function grooms the NVMonitorData database to optimize performance. It automatically deletes or archives data aged beyond a specified threshold. The threshold can be set per Event Type, per Analytics, and/or per Policy. While all three options can be enabled with different retention periods, the Event Type maintenance settings take precedence over Policy maintenance settings where the selected policy employs that event type.</p>
<p>If you choose to archive data instead of deleting it, then you have to specify a database for data archiving. For this database, you can also define settings to delete data aged beyond a specified threshold.</p>
<p><em>Remember,</em> See the Database Maintenance Permission details in the <a href="/docs/threatprevention/threatprevention/requirements/dbmaintenance">Database Maintenance Feature Requirements</a> topic.</p>
<p>See the <a href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/storedprocedures">Stored Procedures</a> topic for additional information on stored procedures Threat Prevention uses on its SQL Server databases.</p>
<p>Follow the steps to configure database maintenance.</p>
<p><strong>Step 1 –</strong> Click <strong>Configuration</strong> &gt; <strong>Database</strong> &gt; <strong>Maintenance</strong> on the menu. The Database Maintenance window is displayed.</p>
<p>This window is only available to Threat Prevention administrators.</p>
<p><img decoding="async" loading="lazy" alt="Threat Prevention WinConsole Warning window" src="/assets/images/warning-4af13e2818eb135aa855efece3657de1.webp" width="493" height="208" class="img_ev3q"></p>
<p>The database maintenance feature is only available if the SQL Server Agent service is running on the SQL Server host. A warning message displays instead of the Database Maintenance window if this service is not running.</p>
<p>To enable the service, go to <strong>Start</strong> &gt; <strong>Administrative Tools</strong> &gt; <strong>Services</strong> interface and start the SQL Server Agent (MSSQLSERVER).</p>
<p>When the SQL Server Agent service is running, the Database Maintenance window opens.</p>
<p><img decoding="async" loading="lazy" alt="Database Maintenance window" src="/assets/images/databasemaintenance-2eeecbc4797c0b690a6c5931fbe13057.webp" width="864" height="758" class="img_ev3q"></p>
<p>The following information is displayed at the top of the window:</p>
<ul>
<li>Database Information:</li>
</ul>
<blockquote>
<ul>
<li>Server – SQL Server where database maintenance is performed</li>
<li>Database – Name of the database</li>
<li>Database Size – Current size of the database</li>
<li>Oldest Data – Date of the oldest data in the database</li>
</ul>
</blockquote>
<ul>
<li>Job Information:<!-- -->
<ul>
<li>Last run – Date timestamp when the last database maintenance job was executed</li>
<li>Status – Status of the job. Different statuses are:<!-- -->
<ul>
<li>Idle – Indicates that no database maintenance task is running</li>
<li>Succeeded – Indicates that the most recent job finished without error</li>
<li>Running – Indicates that a job is running</li>
<li>Error – Indicates that the job started but terminated on an error</li>
</ul>
</li>
<li>Running Step – During job execution, this field populates with the step being executed</li>
<li>Elapsed Time – Overall elapsed time of job execution</li>
</ul>
</li>
</ul>
<p>The Refresh button in the upper-right corner refreshes this database and job information.</p>
<p><strong>Step 2 –</strong>  On the Event Type, Analytics, and/or Policy tabs, enable maintenance for all or some of the options. See the <a href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/enable">Enable Database Maintenance</a> topic for additional information.</p>
<p><strong>Step 3 –</strong> On the Schedule tab, set the frequency and time when the database maintenance job runs. See the <a href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/schedule">Schedule Database Maintenance</a> topic for additional information.</p>
<p><strong>Step 4 –</strong> To use the Move operation, you must specify a database on the Archive DB tab. You can also define settings to delete data aged beyond a specified threshold from the archive database. See the <a href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/archive">Archive Data</a> topic for additional information.</p>
<p><strong>Step 5 –</strong> Click <strong>Save</strong> to save the changes.</p>
<p><em><strong>RECOMMENDED:</strong></em> The SQL Server databases should be configured to use &#x27;Simple Recovery Mode&#x27; in the <a href="/docs/threatprevention/threatprevention/requirements/sqlserver">SQL Server Requirements</a>. This configuration has a direct impact on the size of the transaction log during database maintenance delete tasks. If Simple Recovery Mode is not configured on the databases, the transaction log may get quite large during delete tasks.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-type-tab">Event Type Tab<a href="#event-type-tab" class="hash-link" aria-label="Direct link to Event Type Tab" title="Direct link to Event Type Tab">​</a></h2>
<p>The Event Type tab is displayed by default when the Database Maintenance window opens.</p>
<p><img decoding="async" loading="lazy" alt="Database Maintenance window - Event Type tab" src="/assets/images/eventtype-d07f28054ac605d72def95fe7416375e.webp" width="856" height="498" class="img_ev3q"></p>
<p>Check the <strong>Enabled</strong> box at the top to set database maintenance by event type. The table contains the following information:</p>
<ul>
<li>Enable – Checked box indicates database maintenance is enabled for the event type</li>
<li>Event Type – Data is grouped by the following event types:<!-- -->
<ul>
<li>Active Directory – Configure maintenance for all event data collected by the Active Directory Changes, Active Directory Lockdown, Active Directory Read Monitoring, AD Replication Monitoring, AD Replication Lockdown, Effective Group Membership, FSMO Role Monitoring, GPO Setting Lockdown, GPO Setting Changes, LSASS Guardian – Monitor, LSASS Guardian – Protect, and Password Enforcement Event Types</li>
<li>Authentications – Configure maintenance for all event data collected by the Authentication Monitoring and Authentication Lockdown Event Types. This does not apply to Analytics policy data</li>
<li>Exchange – Configure maintenance for all event data collected by the Exchange Changes and Exchange Lockdown Event Types</li>
<li>File System – Configure maintenance for all event data collected by the File System Changes, File System Lockdown, and File System Enterprise Auditor Event Types</li>
<li>LDAP – Configure maintenance for all event data collected by the LDAP Monitoring, LDAP Lockdown, and LDAP Bind Monitoring Event Types</li>
</ul>
</li>
<li>Operation – The operation set for the event type: Move (for archiving) or Delete</li>
<li>Retention Period – The age of data to be retained when the database maintenance job is executed for the event type</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analytics-tab">Analytics Tab<a href="#analytics-tab" class="hash-link" aria-label="Direct link to Analytics Tab" title="Direct link to Analytics Tab">​</a></h2>
<p>Click the <strong>Analytics</strong> tab on the Database Maintenance window.</p>
<p><img decoding="async" loading="lazy" alt="Database Maintenance window - Analytics tab" src="/assets/images/analytics-41c10b709d33f4948621b68510c7c098.webp" width="850" height="492" class="img_ev3q"></p>
<p>Check the <strong>Enabled</strong> box at the top to set database maintenance by analytic. The table contains the following information:</p>
<ul>
<li>Enable – Checked box indicates database maintenance is enabled for the analytic</li>
<li>Analytic Name – Name of each analytic</li>
<li>Operation – The operation set for the analytic: Move (for archiving) or Delete</li>
<li>Retention Period – The age of data to be retained when the database maintenance job is executed for the analytic</li>
<li>Incident Count – The number of incidents recorded in the database for each analytic</li>
<li>Event Count – The number of events for the recorded incidents in the database for each analytic</li>
</ul>
<p>The rows in the table can be sorted alphanumerically by the Analytic Name, Incident Count, or Event Count column.</p>
<p>Above the table is a cumulative count of:</p>
<ul>
<li>Total Incidents – The number of incidents recorded in the database for all analytics</li>
<li>Total Events – The number of events for the recorded incidents in the database for all analytics</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="policy-tab">Policy Tab<a href="#policy-tab" class="hash-link" aria-label="Direct link to Policy Tab" title="Direct link to Policy Tab">​</a></h2>
<p>Click the <strong>Policy</strong> tab on the Database Maintenance window.</p>
<p><img decoding="async" loading="lazy" alt="Database Maintenance window - Policy tab" src="/assets/images/policy-122be908faf0fbb9e6902c1485957df1.webp" width="858" height="502" class="img_ev3q"></p>
<p>Check the <strong>Enabled</strong> box at the top to set database maintenance by policy. The table contains the following information:</p>
<ul>
<li>Enable – Checked box indicates database maintenance is enabled for the policy</li>
<li>Policy – Name of each policy you have created. Policies are listed in alphanumeric order, first live policies (whether or not they are enabled) and then the deleted policies are listed</li>
<li>Operation – The operation set for the policy: Move (for archiving) or Delete</li>
<li>Retention Period – The age of data to be retained when the database maintenance job is executed for the policy</li>
<li>Event Count – The number of events for the recorded incidents in the database for each policy</li>
</ul>
<p>Above the table is a cumulative count of:</p>
<ul>
<li>Total Events – The number of events for the recorded incidents in the database for all policies</li>
</ul>
<p>The rows in the table can be sorted alphanumerically by the Policy or Event Count column. Deleted policies are always listed after all other policies.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/overview.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/enable"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Enable Database Maintenance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/threatprevention/threatprevention/admin/configuration/databasemaintenance/schedule"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schedule Database Maintenance</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#event-type-tab" class="table-of-contents__link toc-highlight">Event Type Tab</a></li><li><a href="#analytics-tab" class="table-of-contents__link toc-highlight">Analytics Tab</a></li><li><a href="#policy-tab" class="table-of-contents__link toc-highlight">Policy Tab</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>