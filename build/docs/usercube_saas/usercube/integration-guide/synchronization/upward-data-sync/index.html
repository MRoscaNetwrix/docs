<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-usercube_saas docs-version-current docs-doc-page docs-doc-id-usercube/integration-guide/synchronization/upward-data-sync/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Upward Data Synchronization | Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" name="twitter:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" property="og:url" content="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-usercube_saas-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-usercube_saas-current"><meta data-rh="true" property="og:title" content="Upward Data Synchronization | Documentation"><meta data-rh="true" name="description" content="Upward Data Synchronization (Sync Up) is the process that copies relevant managed systems data into Identity Manager&#x27;s resource repository and translates them into resources that match the configured Entity Model. See the Entity Model topic for additional information."><meta data-rh="true" property="og:description" content="Upward Data Synchronization (Sync Up) is the process that copies relevant managed systems data into Identity Manager&#x27;s resource repository and translates them into resources that match the configured Entity Model. See the Entity Model topic for additional information."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"><link rel="stylesheet" href="/assets/css/styles.4cbdd69d.css">
<script src="/assets/js/runtime~main.a42836f1.js" defer="defer"></script>
<script src="/assets/js/main.3131faef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/1secure">1Secure</a></li><li><a class="dropdown__link" href="/docs/accessanalyzer">Access Analyzer</a></li><li><a class="dropdown__link" href="/docs/accessinformationcenter">Access Information Center</a></li><li><a class="dropdown__link" href="/docs/activitymonitor">Activity Monitor</a></li><li><a class="dropdown__link" href="/docs/auditor">Auditor</a></li><li><a class="dropdown__link" href="/docs/changetracker">Change Tracker</a></li><li><a class="dropdown__link" href="/docs/dataclassification">Data Classification</a></li><li><a class="dropdown__link" href="/docs/groupid">Group ID</a></li><li><a class="dropdown__link" href="/docs/passwordpolicyenforcer">Password Policy Enforcer</a></li><li><a class="dropdown__link" href="/docs/passwordreset">Password Reset</a></li><li><a class="dropdown__link" href="/docs/passwordsecure">Password Secure</a></li><li><a class="dropdown__link" href="/docs/policypak">PolicyPak</a></li><li><a class="dropdown__link" href="/docs/privilegesecure">Privilege Secure</a></li><li><a class="dropdown__link" href="/docs/recoveryforactivedirectory">Recovery for Active Directory</a></li><li><a class="dropdown__link" href="/docs/strongpointfornetsuite">StrongPoint for NetSuite</a></li><li><a class="dropdown__link" href="/docs/strongpointforsalesforce">StrongPoint for Salesforce</a></li><li><a class="dropdown__link" href="/docs/strongpointnetsuiteflashlight">StrongPoint NetSuite Flashlight</a></li><li><a class="dropdown__link" href="/docs/strongpointsalesforceflashlight">StrongPoint Salesforce Flashlight</a></li><li><a class="dropdown__link" href="/docs/threatmanager">Threat Manager</a></li><li><a class="dropdown__link" href="/docs/threatprevention">Threat Prevention</a></li><li><a class="dropdown__link" href="/docs/usercube">UserCube</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/usercube_saas">UserCube SaaS</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="http://github.com/netwrix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/usercube_saas/">Usercube SaaS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/usercube_saas/usercube/">A software solution to match your IGA needs</a><button aria-label="Collapse sidebar category &#x27;A software solution to match your IGA needs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/installation-guide/">Installation Guide</a><button aria-label="Expand sidebar category &#x27;Installation Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/">Integration Guide</a><button aria-label="Collapse sidebar category &#x27;Integration Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/api/">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/architecture/">Architecture</a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/executables/">Executables</a><button aria-label="Expand sidebar category &#x27;Executables&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/governance/">Governance</a><button aria-label="Expand sidebar category &#x27;Governance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/identity-management/">Identity Management</a><button aria-label="Expand sidebar category &#x27;Identity Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/modules/">Modules</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/monitoring/">Monitoring</a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/">Network Configuration</a><button aria-label="Expand sidebar category &#x27;Network Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/notifications/">Notifications</a><button aria-label="Expand sidebar category &#x27;Notifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/profiles-permissions/">Profiles &amp; Permissions</a><button aria-label="Expand sidebar category &#x27;Profiles &amp; Permissions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/provisioning/">Provisioning</a><button aria-label="Expand sidebar category &#x27;Provisioning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/resources/">Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-assignment/">Role Assignment</a><button aria-label="Expand sidebar category &#x27;Role Assignment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-mining/">Role Mining</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-model/">Role Model</a><button aria-label="Expand sidebar category &#x27;Role Model&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/simulation/">Simulation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/synchronization/">Synchronization</a><button aria-label="Collapse sidebar category &#x27;Synchronization&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/synchronization/synchro-thresholds/">Thresholds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/">Upward Data Synchronization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/tasks-jobs/">Tasks &amp; Jobs</a><button aria-label="Expand sidebar category &#x27;Tasks &amp; Jobs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/toolkit/">Toolkit for XML Configuration</a><button aria-label="Expand sidebar category &#x27;Toolkit for XML Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/ui/">User Interface</a><button aria-label="Expand sidebar category &#x27;User Interface&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/workflows/">Workflows</a><button aria-label="Expand sidebar category &#x27;Workflows&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/introduction-guide/">Introduction Guide</a><button aria-label="Expand sidebar category &#x27;Introduction Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/migration-guide/">Migration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/user-guide/">User Guide</a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/whatsnew/">What&#x27;s New</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/"><span itemprop="name">A software solution to match your IGA needs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/integration-guide/"><span itemprop="name">Integration Guide</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/integration-guide/synchronization/"><span itemprop="name">Synchronization</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Upward Data Synchronization</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upward Data Synchronization</h1></header>
<p>Upward Data Synchronization (Sync Up) is the process that copies relevant managed systems data into Identity Manager&#x27;s resource repository and translates them into resources that match the configured Entity Model. See the <a href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a> topic for additional information.</p>
<p>Performing a <em>Sync Up</em> allows the user to:</p>
<ul>
<li>integrate the managed systems state with Identity Manager. The copied data serves as the basis for the assignment computation;</li>
<li>check that previously edited provisioning orders have been accurately executed;</li>
<li>ascertains differences between the real managed system state and the <a href="/docs/usercube_saas/usercube/integration-guide/role-model/role-model-rules/">
Assignment Policy
</a> theoretical state.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-scheduled-sync-up-per-managed-system">A scheduled sync up per managed system<a href="#a-scheduled-sync-up-per-managed-system" class="hash-link" aria-label="Direct link to A scheduled sync up per managed system" title="Direct link to A scheduled sync up per managed system">​</a></h3>
<p><em>Sync Up</em> is performed regularly, at least every day, as a set of <a href="/docs/usercube_saas/usercube/integration-guide/tasks-jobs/">
Tasks &amp; Jobs
</a>.</p>
<p>A <em>Sync Up</em> is planned for every managed system that interact with Identity Manager.</p>
<p>A <em>Sync Up</em> is associated with a <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="three-sync-up-mode">Three sync up mode<a href="#three-sync-up-mode" class="hash-link" aria-label="Direct link to Three sync up mode" title="Direct link to Three sync up mode">​</a></h3>
<p>Identity Manager provides three distinct synchronization algorithms:</p>
<ul>
<li><em>incremental</em></li>
<li><em>complete</em></li>
<li><em>initial</em></li>
</ul>
<p><em>Complete</em> is most straightforward one. A <em>complete__Sync Up</em> loads the managed systems&#x27; data into Identity Manager as-is, replacing entirely the currently held data.</p>
<p>As it involves sending large amounts of data over HTTP between <em>Agent</em> and <em>Server</em>, <em>complete</em> execution time can be quite large.</p>
<p>To improve the <em>Sync Up</em> execution time, Identity Manager provides the <em>incremental</em> mode. This mode only considers changes made to the managed systems since the last <em>Sync Up</em>. Those are applied to the Identity Manager&#x27;s database. Only changes are sent through the network, instead of whole data files, which allows the <em>Sync Up</em> execution time to be greatly reduced.</p>
<p>Changes are computed either by the managed system itself, given such capabilities are available, or by a Identity Manager&#x27;s <em>Agent</em>.</p>
<p>However, the <em>incremental</em> mode cannot be 100% reliable for two reasons.</p>
<p>First, it relies on external inputs that are not directly controlled by Identity Manager. Second, it only exports changes based on the managed system state, not on Identity Manager&#x27;s database state.</p>
<p>External perturbations could cause slight differences between the database&#x27;s state and the managed systems&#x27;. Order can be restored by running a <em>complete</em> Sync Up regularly. A <em>complete</em> Sync Up ensures the database is in a stable state, faithfully reflecting the managed system state, before resuming the <em>incremental Sync Up</em> iterations.</p>
<p>Safeguards are also implemented to avoid accidental overwrites, that would be caused by an empty or incomplete input.</p>
<p>Finally, the <em>initial__Sync Up</em> is designed to be used the first time a managed system connects to Identity Manager. Just as the <em>complete</em>, it loads the data as a whole. But, unlike the <em>complete</em>, it does not overwrites the currently held data and does not provide any safeguard. The <em>initial</em> mode provides a quick way to perform the first <em>Sync Up</em>. The trade-off is security: <em>initial__Sync Up</em> should only be used the first time a managed system connected to Identity Manager and the database is empty, as far as this connector is concerned. Launching the Initial <em>Sync Up</em> twice would actually load the same data twice whereas launching the <em>complete</em> twice would have the same effect as launching the <em>complete</em> once.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="an-etl-process">An ETL process<a href="#an-etl-process" class="hash-link" aria-label="Direct link to An ETL process" title="Direct link to An ETL process">​</a></h3>
<p><em>Sync Up</em> is organized as an <a href="https://en.wikipedia.org/wiki/Extract,_transform,_load" target="_blank" rel="noopener noreferrer">Extract, Transform, Load</a> process. It&#x27;s composed of three steps: <em>export</em>, <em>prepare-synchronization</em>, and <em>synchronization</em>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="export">Export<a href="#export" class="hash-link" aria-label="Direct link to Export" title="Direct link to Export">​</a></h2>
<p>The <em>Export</em> is the first step of the <em>Sync Up</em>.</p>
<p>During this step, data is extracted from the managed system and generates <em>CSV files</em> containing the managed system&#x27;s raw data. The <strong>output</strong> of this process is called the <em><strong>CSV source files</strong></em>. They are written to the <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory waiting to be used by the next-in-line <em>prepare-synchronization task</em>.</p>
<p>The <em>Export</em> occurs <em>Agent</em>-side.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="native-support-or-custom-process">Native support or custom process<a href="#native-support-or-custom-process" class="hash-link" aria-label="Direct link to Native support or custom process" title="Direct link to Native support or custom process">​</a></h3>
<p>Depending on the managed systems capabilities, an <em>Export</em> step can be performed by one of Identity Manager&#x27;s native tasks or by custom scripts.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-native-process">Using native process<a href="#using-native-process" class="hash-link" aria-label="Direct link to Using native process" title="Direct link to Using native process">​</a></h4>
<p>Identity Manager&#x27;s <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> provide native <em>Export</em> tasks for the most common managed systems. <em>Active Directory</em>, <em>SAP</em>, or <em>SharePoint</em> are examples of natively supported managed systems. The output <em>CSV source files</em> format is described in the <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> section together with an exhaustive list of supported source managed systems.</p>
<p><a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a>are Identity Manager&#x27;s link to the managed system. They provide configurable export and fulfill capabilities that can be used by Identity Manager <em>as-is</em> without any further development.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-custom-process">Using a custom process<a href="#using-a-custom-process" class="hash-link" aria-label="Direct link to Using a custom process" title="Direct link to Using a custom process">​</a></h4>
<p>Exporting data from a managed system without a native Identity Manager process is still possible by writing a custom <em>Export</em> process.</p>
<p>If the managed system has built-in export capabilities, Identity Manager can simply rely on exports scheduled by the source managed system. Regularly, the managed system generates reports, in whatever format. A custom task, such as a <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/agent/invokeexpressiontask/">
Invoke Expression Task
</a>, can then be used to retrieve the generated exports, adapt them to the <em>CSV source files</em> format expected by Identity Manager and copy them to the <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory. The whole can be scheduled and orchestrated by a <a href="/docs/usercube_saas/usercube/integration-guide/tasks-jobs/jobs/">
Jobs
</a>.</p>
<p><strong>For example</strong>, a common scenario is to configure an HR management system to perform daily extracts of its data to CSV files for the <em>Agent</em> to find. This usually can be set up without any Identity Manager&#x27;s task, just by using the managed system and the organization&#x27;s network capabilities.</p>
<p>If the managed system does not provide built-in export features but provides an API or an exposed database, it&#x27;s possible to write a custom <em>export</em> process based on that API or direct requests to the managed system&#x27;s database. This process can then be used as an <em>export task</em> wrapped in a <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/agent/invokeexpressiontask/">
Invoke Expression Task
</a> or an <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/server/invokesqlcommandtask/">
Invoke Sql Command Task
</a>. See the <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/agent/invokeexpressiontask/">
Invoke Expression Task
</a> topic for additional information. Any Windows process that can be called from a PowerShell script and generate a CSV file can serve as an export process.</p>
<p><strong>How to choose the custom CSV source file format ?</strong> It&#x27;s best to keep it simple and stick as closely as possible to the managed system data model. Data cleansing and translation to the resource repository&#x27;s Entity Model is handled later in the <em>Sync Up</em> process. There is no need to try and optimize the CSV source file format in a custom script. It&#x27;s best to keep it close to the managed system to be able to spot early <em>export</em> errors.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-tasks-output">Export tasks output<a href="#export-tasks-output" class="hash-link" aria-label="Direct link to Export tasks output" title="Direct link to Export tasks output">​</a></h3>
<p>The format of the exported <em>CSV Source files</em> depends on the chosen <em>Sync Up</em> mode and on the used <em>export task</em>. Nonetheless, there are a few criteria that <em>prepare-synchronization</em> expects to find in those files.</p>
<p>First, it must be a CSV format. One line per entry, and every attribute as a column.</p>
<p>Then, there is a slight difference between <em>Complete/Initial</em> and <em>Incremental</em> export.</p>
<p>With the <em>Complete</em> and <em>Initial</em> modes, <em>CSV source files</em> contain an exact extract of the managed system&#x27;s data as a list of entries. At this point, the Entity Model is not yet involved. Every line of the <em>CSV source file</em> mirrors a line in the source managed system database.</p>
<p>With <em>Incremental</em> mode, if the source managed system is able, one more column is added. It contains a ADD, UPDATE, or DELETE instruction. <em>Incremental</em> export generates a list of changes made on the managed system since the last export, instead of an exact mirror of the data. Active Directory and Microsoft Entra ID (formerly Microsoft Azure AD), for example, are able to produce such exports, as LDIF files, that the Active Directory connector translates into <em>resources</em> changes. Identity Manager&#x27;s native support for ServiceNow and SCIM also provides such capabilities.</p>
<p>In case the source managed system does not possess <em>incremental</em> export capabilities, the changes computation is performed during the <em>prepare-synchronization</em> step.</p>
<p>Inside those constraints, every natively supported <em>export task</em> generates its own <em>CSV source file format</em>, described in the <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> section. Usually, two kinds of files are generated: <em>entries</em>, describing plain entries, and <em>associations</em>, describing associations between entries.</p>
<p>All <em>CSV source files</em> are written to the <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory.</p>
<p>At the end of the <em>export</em> step, the <a href="#Upward-Data-Synchronization">
Upward Data Synchronization
</a> contains several files per connectors, that will be translated into <em>resources</em> during <em>prepare-synchronization</em> and <em>synchronization</em> steps thanks to Entity Mapping (see below).</p>
<p>The <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory can also contain opaque <a href="https://ldapwiki.com/wiki/DirSync" target="_blank" rel="noopener noreferrer">cookie files</a> used for incremental export of a few systems such as Active Directory, Microsoft Entra ID, ServiceNow, and SCIM.</p>
<p>The reader might now understand how, as laid out in the overview, the input data could be unreliable given the volatile nature of the managed system export methods. <em>Complete</em> and <em>incremental</em> modes work together to find the best compromise between reliability and execution time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>The following example demonstrates the native Active Directory export process.</p>
<p>Exporting data from an Active Directory can be achieved by using the <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/agent/exporttask/">
Export Task
</a> task within a Job.</p>
<p>The Tasks requests from the source Active Directory all entries that match a configured filter. It outputs a set of <em>CSV source files</em>, containing raw AD Entries data (<code>ad_entries.csv</code>), information about group membership (<code>ad_members.csv</code>) and about the hierarchical organization (<code>ad_managers.csv</code>).</p>
<p><img decoding="async" loading="lazy" alt="Active Directory Export Example" src="/assets/images/ad_export_example-b52d536aa30e0bd2798f1d4cf507d0d1.webp" width="1337" height="673" class="img_ev3q"></p>
<p><code>ad_entries.csv</code> contains raw AD entry data.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeID;businessCategory;extensionAttribute15;objectCategory;sAMAccountName;userPrincipalName;parentdn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00001;fames;ac;turpis;egestas;integer;eget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00002;ullamcorper;eget;nulla;facilisi;etiam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00003;integer;eget;aliquet;nibh;praesent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>ad_managers.csv</code> contains a list of associations, representing the link between an employee (<code>employeeId</code> column) and their manager (<code>manager</code> column).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">employeeID;manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00001,99812</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00002,99812</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00003,99812</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>ad_members.csv</code> contains also a list of associations, representing the link between a group (identified by its <code>dn</code>) and its members (the <code>member</code> column).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dn;member</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CN=SG_APP_AG002,DC=internal;CN=U34811,DC=internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CN=SG_APP_AG002,DC=internal;CN=U18184,DC=internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CN=SG_APP_AG002,DC=internal;CN=U43405,DC=internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CN=SG_APP_AG002,DC=internal;CN=U51630,DC=internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="entity-mapping">Entity Mapping<a href="#entity-mapping" class="hash-link" aria-label="Direct link to Entity Mapping" title="Direct link to Entity Mapping">​</a></h2>
<p>The aim of the <em>Sync Up</em> is to load managed systems&#x27; data into the resource repository. As such, it requires Identity Manager to translate data from the managed system format (or, more accurately, the <em>export task</em>&#x27;s output format) into the resource repository format, that is, the <a href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a>.</p>
<p>The translation rules are described in the applicative configuration by <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a> and <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a> elements.</p>
<p>Entity Type Mapping elements map the resources <em>CSV source files</em> columns to <a href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a> properties. Each mapping also identifies one column as the <em>primary key</em> for this Entity Type. The <em>primary key</em> is used to uniquely identify a resource in the <em>Sync Up</em> process. It&#x27;s mandatory to be able to perform <em>incremental__Sync Up</em>, as it allows to identify a resource on which an <em>update</em> or a <em>delete</em> has to be performed.</p>
<p><a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a> elements translate the <em>CSV source files</em> into <a href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a>. They describe rules identifying associations between resources loaded thanks to the <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/"></a><a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-synchro">Prepare Synchro<a href="#prepare-synchro" class="hash-link" aria-label="Direct link to Prepare Synchro" title="Direct link to Prepare Synchro">​</a></h2>
<p><em>Prepare-Synchronization</em> is the second step of the <em>Sync Up</em>. It transforms the <em>CSV source files</em> further, before the <em>Synchronization</em> step.</p>
<p>It performs data cleansing and, in <em>incremental</em> mode, computes changes made on the source managed system since the last <em>Prepare-Synchronization</em>.</p>
<p>It&#x27;s performed on the <em>Agent</em>-side.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-cleansing">Data cleansing<a href="#data-cleansing" class="hash-link" aria-label="Direct link to Data cleansing" title="Direct link to Data cleansing">​</a></h3>
<p>The following actions are performed on the <em>CSV source files.</em></p>
<ol>
<li>Removing columns that are not used in <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a> or <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a></li>
<li>Entries that have a null primary key</li>
<li>Removing duplicates</li>
<li>Sorting entries according to the primary key</li>
</ol>
<p>The result of the <em>Prepare-Synchronization</em> is stored in the <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory as three files:</p>
<p>For every entity type of the relevant <em>Connector</em> involved in an<a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a> or an<a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a> <code>&lt;EntityAssociationMapping&gt;</code> , a <code>.sorted.csv</code> file is generated, containing the final, cleaned, sorted result.</p>
<p>Duplicates are kept in a separate <code>.duplicates.csv</code> file.</p>
<p>Null primary key entries are kept in a separate <code>.nullpk.csv</code> file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="computing-changes">Computing changes<a href="#computing-changes" class="hash-link" aria-label="Direct link to Computing changes" title="Direct link to Computing changes">​</a></h3>
<p>In <em>incremental</em> mode, changes might need to be computed by the <em>Agent</em>.</p>
<p>If the export step has provided computed changes, no further process is required. The changes will be sent as-is to the server.</p>
<p>If the export step has provided a full extract of the managed systems, the <em>prepare-synchronization</em> step computes changes. This computation is based on the result of the last data cleansing, generated by the previous <em>prepare-synchronization</em>, and stored in the <code>previous</code> folder in the <a href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> export directory.</p>
<p>For <em>incremental</em> mode, it is recommended to use managed systems to compute changes when possible. Dedicated workstations and knowledge of the inner data organization allow managed systems to compute changes with a performance that Identity Manager can&#x27;t match. Also, using managed systems for these operations avoid generating heavy files and alleviate Identity Manager&#x27;s processing load.</p>
<p>The result is a set of clean lists of changes stored as <code>.sorted.delta</code> file containing a <em>command</em> column.</p>
<p>The <em>command</em> column can take the following values: <em>insert</em>, <em>update</em>, <em>delete</em>, and <em>merge</em>. These are instructions for the <em>synchronization</em> step to apply the changes to the database.</p>
<p>The <code>.sorted</code> file (the original cleaned export file, not the changes) is stored in the <code>previous</code> folder inside the <a href="#Upward-Data-Synchronization">
Upward Data Synchronization
</a>. It will be used as a reference for the next <em>incremental__prepare-synchronization</em> to compute the changes if needed.</p>
<p>Tampering with the <code>previous</code> folder content would result in false changes in order to be computed and result in data corruption in the Identity Manager database. To restore the Identity Manager database to a state faithful to the managed system, a <em>complete__Sync Up</em> would be required.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-the-server">Preparing the server<a href="#preparing-the-server" class="hash-link" aria-label="Direct link to Preparing the server" title="Direct link to Preparing the server">​</a></h3>
<p>At the beginning of every <em>prepare-synchronization</em> process, the <em>Server</em> is notified via HTTP.</p>
<p>Upon receiving the notification, the server creates a directory on its host environment, identified by a unique GUID, to contain <code>.sorted</code> or <code>.sorted.delta</code> files that will be sent by the agent.</p>
<p>This aims to prevent network errors that would cause an <em>incremental</em> database update to happen more than once.</p>
<p>That means several <em>export</em> and <em>Prepare-Synchronization</em> tasks can be executed simultaneously, they will be processed by the server one at a time in the right order.</p>
<p>Of course, any notification of a <em>complete__Prepare-Synchronization</em> would cancel the previous non-processed <em>incremental</em> ones. As a <em>complete</em> reloads the whole database, it renders <em>incremental</em> changes computation moot.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sending-clean-exports">Sending clean exports<a href="#sending-clean-exports" class="hash-link" aria-label="Direct link to Sending clean exports" title="Direct link to Sending clean exports">​</a></h3>
<p><code>.sorted</code> or <code>.sorted.delta</code> files are sent over HTTP to the <em>Server</em> for the last step.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-synchronization-tasks">Prepare synchronization tasks<a href="#prepare-synchronization-tasks" class="hash-link" aria-label="Direct link to Prepare synchronization tasks" title="Direct link to Prepare synchronization tasks">​</a></h3>
<ul>
<li><a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/agent/preparesynchronizationtask/">
Prepare Synchronization Task
</a> is the standard <em>prepare-synchronization</em> task.</li>
<li>PrepareSynchronization Change Task is used to process data source files containing changes.</li>
<li>PrepareSynchronization ActiveDirectory Task is specialized for Active Directory. This task handles Active Directory <em>incremental</em> prepare-synchronization by using Active Directory <em>cookies</em>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>The following illustration models the complete <em>prepare-synchronization</em> steps applied to an Active Directory export. The matching <em>Connector</em> defines an Entity Type <em>AD Entry</em> and two associations: <em>members</em> and <em>manager</em>.</p>
<p><img decoding="async" loading="lazy" alt="Active Directory Prepare-Synchronization Example" src="/assets/images/ad_preparesynchro_example-2065791aad1ad580083e18d3e024e17c.webp" width="1786" height="820" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="synchro">Synchro<a href="#synchro" class="hash-link" aria-label="Direct link to Synchro" title="Direct link to Synchro">​</a></h2>
<p><em>Synchronization</em> is the last step. It loads data into the resource repository from cleaned <em>CSV source files</em>. It&#x27;s performed <em>Server</em>-side.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="translating">Translating<a href="#translating" class="hash-link" aria-label="Direct link to Translating" title="Direct link to Translating">​</a></h3>
<p>Before writing to the Identity Manager&#x27;s database, the <em>Server</em> uses <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a> and<a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a> to translate <em>CSV source files</em> into <em>Entity Model compliant</em> resources and resolve association links.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tables">Tables<a href="#tables" class="hash-link" aria-label="Direct link to Tables" title="Direct link to Tables">​</a></h3>
<p>The <em>Synchronization</em> step involves four tables from Identity Manager&#x27;s database.</p>
<ul>
<li>UR_Resources contains the actual resources.</li>
<li>Mono-valued associations ( target column index 128 to 137 included ) are stored in UR_Resources as well,</li>
<li>Multi-valued associations ( target column index null or -1 or 0 to 127 included ) are stored in the UR_ResourceLinks table.</li>
<li>UR_ResourcesChanges and UR_ResourceLinkChanges are intermediary tables, used by the complete mode as an extra step before committing changes to the UR_Resources and UR_ResourceLinks in the context of a safeguard mechanism.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complete">Complete<a href="#complete" class="hash-link" aria-label="Direct link to Complete" title="Direct link to Complete">​</a></h3>
<p><em>Complete__synchronization</em> starts with a <code>.sorted.csv</code> file that contains cleaned data, as in whole data, not mere changes.</p>
<p><em>Complete synchronization</em> replaces entirely the database resources. That means that all resource, for that <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/connector/">
Connector
</a>, that are in the database but not in the <em>CSV source files</em> will be deleted. That means no change made to the database from outside of the connectors or the UI are persistent.</p>
<p><em>Complete synchronization</em> does not blindly insert data into Identity Manager database. Its aim is to update Identity Manager database to match the <code>.sorted</code> files received.</p>
<p>To do so, <code>.sorted</code> files are translated into resources. Then, <code>.sorted</code> resources are compared against the currently hold database resources, matching Primary Key to Primary Key, to find differences.</p>
<p>That means that, just as the <em>incremental</em> mode, the complete mode will actually apply changes to the database. The difference being that the <em>complete</em> synchronization computes the changes on the <em>Server</em> and the <em>incremental</em> computation computes the changes on the <em>Agent</em> or the managed system. Hence, complete synchronization has to send large data files over the network and is slower.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="safeguard">Safeguard<a href="#safeguard" class="hash-link" aria-label="Direct link to Safeguard" title="Direct link to Safeguard">​</a></h4>
<p>Before actually updating the database, the number of changes to be applied to the database to match the <code>.sorted</code> resources is compared to a user-defined threshold.</p>
<p>The threshold is a percentage of the total number of stored resources. If the number of changes goes over the threshold, the synchronization is blocked. This safeguard aims at detecting human or system errors that could corrupt Identity Manager&#x27;s database. For example, a number of <em>delete</em> commands greater than the threshold could be caused by an accidental empty <em>CSV source file</em> being fed to the <em>synchronization</em>.</p>
<p>For this purpose, changes are applied to an intermediary safeguard set of tables, UR_ResourcesChanges and UR_ResourceLinkChanges. The threshold is checked, and if validated, changes are applied to the UR_Resources and UR_ResourceLinks tables.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial">Initial<a href="#initial" class="hash-link" aria-label="Direct link to Initial" title="Direct link to Initial">​</a></h3>
<p><em>Initial</em> synchronization loads the translated resources directly into the database, using INSERT SQL commands. There is no threshold checking, no comparing the data to insert to the currently held data to find differences. It should only be used on a managed system for which Identity Manager does not hold any resources yet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="incremental">Incremental<a href="#incremental" class="hash-link" aria-label="Direct link to Incremental" title="Direct link to Incremental">​</a></h3>
<p>The incremental mode uses a <code>.sorted.delta</code> file that contains changes.</p>
<p>Thresholds are checked just as with the <em>complete</em>, using intermediary UR_ResourcesChanges and UR_ResourceLinkChanges. tables.</p>
<p>Then, changes according to the <em>command</em> column are applied to UR_Resources and UR_ResourceLinks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronization-tasks">Synchronization tasks<a href="#synchronization-tasks" class="hash-link" aria-label="Direct link to Synchronization tasks" title="Direct link to Synchronization tasks">​</a></h3>
<ul>
<li><a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/jobs/tasks/server/synchronizetask/">
Synchronize Task
</a> is the standard <em>synchronization</em> task.</li>
<li>SynchronizeChanges Task is used to handle changes together with PrepareSynchronization Change Task.</li>
<li>SynchronizeActive Directory Task is specialized for Active Directory. To be used with PrepareSynchronizationActiveDirectory Task.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example<a href="#example-2" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>This example illustrates the <em>complete</em> loading of Active Directory <code>.sorted</code> files into Identity Manager database.</p>
<p><img decoding="async" loading="lazy" alt="Active Directory Synchronization Example" src="/assets/images/ad_synchro_example-511ac0bd5f54c911ff0c1c65fe8eec45.webp" width="1756" height="677" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-errors">Handling Errors<a href="#handling-errors" class="hash-link" aria-label="Direct link to Handling Errors" title="Direct link to Handling Errors">​</a></h2>
<p>The <em>syncro</em> step is where potential errors laid out in the overview could impact the database.</p>
<ul>
<li>The <code>previous</code> folder content could be tampered with;</li>
<li>Managed systems limitations, or human error in the export step, could result in a wrong or incomplete <em>CSV source file</em> being fed to the <em>Synchronization</em>;</li>
<li>Identity Manager database could be restored to an older state to try and fix hardware failure or SQL tests gone wrong.</li>
</ul>
<p>These events, although exceptional, occur. They cause Identity Manager&#x27;s database and the managed systems to be slightly off one another. The <em>incremental__Sync Up</em> cannot fix these differences because the database is not taken into account in the changes computation. The <em>complete__Sync Up</em> can fix it because it compares directly the database against the <em>export</em> output files, i.e. it relies on the managed system&#x27;s state, not on the database state.</p>
<p>It is hence recommended to run at least a daily <em>complete</em> synchronization to account for these exceptional events and quickly fix the errors they might have cause into the database.</p>
<p>Remember that <em>incremental</em> and <em>complete</em> Sync Up modes use safeguards to avoid accidental overwrites. That means any error that could find its way into the database would be small.</p>
<p><em>Incremental</em> mode also offers another optimization that will be described in the <a href="/docs/usercube_saas/usercube/integration-guide/role-assignment/evaluate-policy/">Evaluate Policy</a> section. Trade-offs of that optimization can also be counterbalanced by running a daily <em>complete</em> synchronization.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thresholds">Thresholds<a href="#thresholds" class="hash-link" aria-label="Direct link to Thresholds" title="Direct link to Thresholds">​</a></h2>
<p>A introduced earlier, to mitigate the risk of data loss in the case of abnormal data source files, the <em>synchronization Job</em> is locked if the number of changes to apply goes over a specific threshold.</p>
<p>Thresholds can be configured by the user in the applicative configuration and be specific to a <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/connector/">
Connector
</a>, an <a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entitytypemapping/">
Entity Type Mapping
</a> and/or an<a href="/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/entityassociationmapping/">
Entity Association Mapping
</a>. They are expressed as number of lines (ex: <code>MaximumInsertedLines</code>) or as a rate (ex: <code>MaxPercentageDeletedLines</code>).</p>
<p>A synchronization task locked by a threshold can be unlocked by executing the Synchronization Validation task.</p>
<p>Thresholds are ignored in <em>initial</em> mode.</p>
<p>The task&#x27;s argument <code>-force</code> can be used to ignore thresholds.</p>
<hr>
<p>Next, a word about the <a href="/docs/usercube_saas/usercube/integration-guide/role-model/role-model-rules/">
Assignment Policy
</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/synchronization/upward-data-sync/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/usercube_saas/usercube/integration-guide/synchronization/synchro-thresholds/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Thresholds</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/usercube_saas/usercube/integration-guide/tasks-jobs/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tasks &amp; Jobs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#a-scheduled-sync-up-per-managed-system" class="table-of-contents__link toc-highlight">A scheduled sync up per managed system</a></li><li><a href="#three-sync-up-mode" class="table-of-contents__link toc-highlight">Three sync up mode</a></li><li><a href="#an-etl-process" class="table-of-contents__link toc-highlight">An ETL process</a></li></ul></li><li><a href="#export" class="table-of-contents__link toc-highlight">Export</a><ul><li><a href="#native-support-or-custom-process" class="table-of-contents__link toc-highlight">Native support or custom process</a></li><li><a href="#export-tasks-output" class="table-of-contents__link toc-highlight">Export tasks output</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#entity-mapping" class="table-of-contents__link toc-highlight">Entity Mapping</a></li><li><a href="#prepare-synchro" class="table-of-contents__link toc-highlight">Prepare Synchro</a><ul><li><a href="#data-cleansing" class="table-of-contents__link toc-highlight">Data cleansing</a></li><li><a href="#computing-changes" class="table-of-contents__link toc-highlight">Computing changes</a></li><li><a href="#preparing-the-server" class="table-of-contents__link toc-highlight">Preparing the server</a></li><li><a href="#sending-clean-exports" class="table-of-contents__link toc-highlight">Sending clean exports</a></li><li><a href="#prepare-synchronization-tasks" class="table-of-contents__link toc-highlight">Prepare synchronization tasks</a></li><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#synchro" class="table-of-contents__link toc-highlight">Synchro</a><ul><li><a href="#translating" class="table-of-contents__link toc-highlight">Translating</a></li><li><a href="#tables" class="table-of-contents__link toc-highlight">Tables</a></li><li><a href="#complete" class="table-of-contents__link toc-highlight">Complete</a></li><li><a href="#initial" class="table-of-contents__link toc-highlight">Initial</a></li><li><a href="#incremental" class="table-of-contents__link toc-highlight">Incremental</a></li><li><a href="#synchronization-tasks" class="table-of-contents__link toc-highlight">Synchronization tasks</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#handling-errors" class="table-of-contents__link toc-highlight">Handling Errors</a></li><li><a href="#thresholds" class="table-of-contents__link toc-highlight">Thresholds</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>