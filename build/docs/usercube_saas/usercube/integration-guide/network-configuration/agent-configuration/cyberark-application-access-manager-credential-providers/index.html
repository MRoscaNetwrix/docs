<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-usercube_saas docs-version-current docs-doc-page docs-doc-id-usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">CyberArk&#x27;s AAM Credential Providers | Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" name="twitter:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" property="og:url" content="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-usercube_saas-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-usercube_saas-current"><meta data-rh="true" property="og:title" content="CyberArk&#x27;s AAM Credential Providers | Documentation"><meta data-rh="true" name="description" content="This guide shows how to protect sensitive data by connecting Identity Manager to CyberArk&#x27;s Application Access Manager (AAM) Credential Providers."><meta data-rh="true" property="og:description" content="This guide shows how to protect sensitive data by connecting Identity Manager to CyberArk&#x27;s Application Access Manager (AAM) Credential Providers."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"><link rel="stylesheet" href="/assets/css/styles.4cbdd69d.css">
<script src="/assets/js/runtime~main.a42836f1.js" defer="defer"></script>
<script src="/assets/js/main.3131faef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/1secure">1Secure</a></li><li><a class="dropdown__link" href="/docs/accessanalyzer">Access Analyzer</a></li><li><a class="dropdown__link" href="/docs/accessinformationcenter">Access Information Center</a></li><li><a class="dropdown__link" href="/docs/activitymonitor">Activity Monitor</a></li><li><a class="dropdown__link" href="/docs/auditor">Auditor</a></li><li><a class="dropdown__link" href="/docs/changetracker">Change Tracker</a></li><li><a class="dropdown__link" href="/docs/dataclassification">Data Classification</a></li><li><a class="dropdown__link" href="/docs/groupid">Group ID</a></li><li><a class="dropdown__link" href="/docs/passwordpolicyenforcer">Password Policy Enforcer</a></li><li><a class="dropdown__link" href="/docs/passwordreset">Password Reset</a></li><li><a class="dropdown__link" href="/docs/passwordsecure">Password Secure</a></li><li><a class="dropdown__link" href="/docs/policypak">PolicyPak</a></li><li><a class="dropdown__link" href="/docs/privilegesecure">Privilege Secure</a></li><li><a class="dropdown__link" href="/docs/recoveryforactivedirectory">Recovery for Active Directory</a></li><li><a class="dropdown__link" href="/docs/strongpointfornetsuite">StrongPoint for NetSuite</a></li><li><a class="dropdown__link" href="/docs/strongpointforsalesforce">StrongPoint for Salesforce</a></li><li><a class="dropdown__link" href="/docs/strongpointnetsuiteflashlight">StrongPoint NetSuite Flashlight</a></li><li><a class="dropdown__link" href="/docs/strongpointsalesforceflashlight">StrongPoint Salesforce Flashlight</a></li><li><a class="dropdown__link" href="/docs/threatmanager">Threat Manager</a></li><li><a class="dropdown__link" href="/docs/threatprevention">Threat Prevention</a></li><li><a class="dropdown__link" href="/docs/usercube">UserCube</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/usercube_saas">UserCube SaaS</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="http://github.com/netwrix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/usercube_saas/">Usercube SaaS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/usercube_saas/usercube/">A software solution to match your IGA needs</a><button aria-label="Collapse sidebar category &#x27;A software solution to match your IGA needs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/installation-guide/">Installation Guide</a><button aria-label="Expand sidebar category &#x27;Installation Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/">Integration Guide</a><button aria-label="Collapse sidebar category &#x27;Integration Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/api/">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/architecture/">Architecture</a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/entity-model/">Entity Model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/executables/">Executables</a><button aria-label="Expand sidebar category &#x27;Executables&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/governance/">Governance</a><button aria-label="Expand sidebar category &#x27;Governance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/identity-management/">Identity Management</a><button aria-label="Expand sidebar category &#x27;Identity Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/modules/">Modules</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/monitoring/">Monitoring</a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/">Network Configuration</a><button aria-label="Collapse sidebar category &#x27;Network Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/">Agent Configuration</a><button aria-label="Collapse sidebar category &#x27;Agent Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/appsettings-agent/">appsettings.agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/azure-key-vault/">Azure Key Vault</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/">CyberArk&#x27;s AAM Credential Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/rsa-encryption/">RSA Encryption</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/how-tos/okta/">how-tos</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/password-management/">Password Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/proxy/">Proxy Server</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/server-configuration/">Server Configuration</a><button aria-label="Expand sidebar category &#x27;Server Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/settings/">Various XML Settings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/technical-files/">Technical Files</a><button aria-label="Expand sidebar category &#x27;Technical Files&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/notifications/">Notifications</a><button aria-label="Expand sidebar category &#x27;Notifications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/profiles-permissions/">Profiles &amp; Permissions</a><button aria-label="Expand sidebar category &#x27;Profiles &amp; Permissions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/provisioning/">Provisioning</a><button aria-label="Expand sidebar category &#x27;Provisioning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/resources/">Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-assignment/">Role Assignment</a><button aria-label="Expand sidebar category &#x27;Role Assignment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-mining/">Role Mining</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/role-model/">Role Model</a><button aria-label="Expand sidebar category &#x27;Role Model&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/simulation/">Simulation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/synchronization/">Synchronization</a><button aria-label="Expand sidebar category &#x27;Synchronization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/tasks-jobs/">Tasks &amp; Jobs</a><button aria-label="Expand sidebar category &#x27;Tasks &amp; Jobs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/toolkit/">Toolkit for XML Configuration</a><button aria-label="Expand sidebar category &#x27;Toolkit for XML Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/ui/">User Interface</a><button aria-label="Expand sidebar category &#x27;User Interface&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/integration-guide/workflows/">Workflows</a><button aria-label="Expand sidebar category &#x27;Workflows&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/introduction-guide/">Introduction Guide</a><button aria-label="Expand sidebar category &#x27;Introduction Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/migration-guide/">Migration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube_saas/usercube/user-guide/">User Guide</a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube_saas/usercube/whatsnew/">What&#x27;s New</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/"><span itemprop="name">A software solution to match your IGA needs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/integration-guide/"><span itemprop="name">Integration Guide</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/"><span itemprop="name">Network Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/"><span itemprop="name">Agent Configuration</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CyberArk&#x27;s AAM Credential Providers</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CyberArk&#x27;s AAM Credential Providers</h1></header>
<p>This guide shows how to protect sensitive data by connecting Identity Manager to CyberArk&#x27;s Application Access Manager (AAM) Credential Providers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-protection">Data Protection<a href="#data-protection" class="hash-link" aria-label="Direct link to Data Protection" title="Direct link to Data Protection">​</a></h2>
<p>Identity Manager often needs to connect to <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> with credentials that need protection. See the <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> topic for additional information.</p>
<p>By default, the data used to connect to external systems is stored in plain text in the <strong>Connections</strong> section of the <code>appsettings.agent.json</code> file. This is not a secure option.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cyberark-for-data-protection">CyberArk for Data Protection<a href="#cyberark-for-data-protection" class="hash-link" aria-label="Direct link to CyberArk for Data Protection" title="Direct link to CyberArk for Data Protection">​</a></h2>
<p>CyberArk&#x27;s Application Access Manager (AAM) Credential Providers, part of the Privileged Access Security solution, is used to stop storing hard-coded credentials in applications, scripts or configuration files, and instead store them in CyberArk&#x27;s vault to be centrally logged and managed.</p>
<p>This way, the company can easily become compliant with potential internal and regulatory requirements of periodic password replacement, and able to securely monitor privileged access across all systems, databases and applications.</p>
<p>CyberArk is made of vaults. Inside a vault, safes can be created and owners allocated. Accounts and files can then be stored in safes accessible by users.</p>
<p>This section explains how Identity Manager retrieves these accounts from CyberArk.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>CyberArk AAM can be used either with:</p>
<ul>
<li>
<p>agentless AAM: <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/11.4/en/Content/CCP/The-Central%20-Credential-Provider.htm?tocpath=Get%20Started%7COfferings%7C_____3#central-credential-provider" target="_blank" rel="noopener noreferrer">Central Credential Provider</a> (works with Web Service using REST);</p>
</li>
<li>
<p>agent-based AAM: <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/11.4/en/Content/CP%20and%20ASCP/lp_cp.htm?tocpath=Get%20Started%7COfferings%7C_____1#credential-provider" target="_blank" rel="noopener noreferrer">Credential Provider</a> (works with C/C++ Application Password SDK).</p>
<p>Implementing the Credential Provider method requires placing the C/C++ Application Password SDK DLL, named <code>CPasswordSDK.dll</code> (on 32-bit systems) or <code>CPasswordSDK64.dll</code> (on 64-bit systems), to the <code>Runtime</code> folder of Identity Manager.</p>
</li>
</ul>
<p>Identity Manager supports both AAMs. <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/11.4/en/Content/CCP/The-CyberArk-Application-Identity-Management-Solution.htm?tocpath=Get%20Started%7C_____1#cyberarks-overview" target="_blank" rel="noopener noreferrer">CyberArk&#x27;s overview</a> can help choose which AAM to go to.</p>
<p>See more details about Credential Provider&#x27;s <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/11.4/en/Content/CP%20and%20ASCP/SysReq-Credential-Provider.htm?tocpath=Installation%7CSystem%20Requirements%7C_____1#system-requirements" target="_blank" rel="noopener noreferrer">system requirements</a> and <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/11.4/en/Content/CP%20and%20ASCP/installing-the-Credential-Provider.htm?TocPath=Installation%7CCredential%20Provider%7CInstall%20the%20Credential%20Provider%7C_____0#installation-guide" target="_blank" rel="noopener noreferrer">installation guide</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatible-settings">Compatible Settings<a href="#compatible-settings" class="hash-link" aria-label="Direct link to Compatible Settings" title="Direct link to Compatible Settings">​</a></h2>
<p>The following table sums up which keys from <code>appsettings.agent.json</code>&#x27;s <strong>Connections</strong> section can be saved to CyberArk:</p>
<table><thead><tr><th>Use Case</th><th>Possible Key</th></tr></thead><tbody><tr><td>Login</td><td><code>Login / ApplicationId / ClientId</code></td></tr><tr><td>Password</td><td><code>Password / ApplicationKey / ClientSecret</code></td></tr><tr><td>Address</td><td><code>Server / MicrosoftGraphPathApi / ResponseUri</code></td></tr></tbody></table>
<p>Any <a href="/docs/usercube_saas/usercube/integration-guide/connectors/">Connectors</a> using one of these attributes as key can retrieve the associated value from CyberArk.</p>
<blockquote>
<p>For example, <a href="/docs/usercube_saas/usercube/integration-guide/connectors/references-connectors/activedirectory/">Active Directory</a> can retrieve: <code>Login</code>; <code>Password</code>; <code>Server</code>.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-authorization-details">Set Authorization Details<a href="#set-authorization-details" class="hash-link" aria-label="Direct link to Set Authorization Details" title="Direct link to Set Authorization Details">​</a></h2>
<p>While the application&#x27;s identifier is required, setting an authentication method and allowed machines is optional but recommended for security concerns.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="appid">AppID<a href="#appid" class="hash-link" aria-label="Direct link to AppID" title="Direct link to AppID">​</a></h3>
<p><a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/Latest/en/Content/Common/Adding-Applications.htm?tocpath=Administration%7CManage%20applications%7C_____1#see-cyberarks-documentation-on-how-to-add-an-application-to-the-vault" target="_blank" rel="noopener noreferrer">See CyberArk&#x27;s documentation on how to add an application to the vault</a>.</p>
<p>CyberArk uses for each client application an AppID, i.e. a unique name to identify the application&#x27;s permissions to access given safes and stored secrets.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h3>
<p>Several <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/Latest/en/Content/Common/Adding-Applications.htm?tocpath=Administration%7CManage%20applications%7C_____1#authentication-methods" target="_blank" rel="noopener noreferrer">authentication methods</a> are available to protect the whole system and make sure that Identity Manager actually does the API calls.</p>
<p>Netwrix Identity Manager (formerly Usercube)recommends:</p>
<ul>
<li>
<p>Using the certificate&#x27;s serial number (see below how to configure certificates) when working with the agentless AAM - Central Credential Provider;</p>
</li>
<li>
<p>Generating a hash with the AIMGetAppInfo utility when working with the agent-based AAM - Credential Provider.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowed-machines">Allowed machines<a href="#allowed-machines" class="hash-link" aria-label="Direct link to Allowed machines" title="Direct link to Allowed machines">​</a></h3>
<p>Finally, <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/Latest/en/Content/Common/Adding-Applications.htm?tocpath=Administration%7CManage%20applications%7C_____1#allowed-machines" target="_blank" rel="noopener noreferrer">allowed machines</a> can be added to the safe. This way, the Credential Provider verifies that only applications running from an authorized machine can access secrets.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssl-certificate">SSL certificate<a href="#ssl-certificate" class="hash-link" aria-label="Direct link to SSL certificate" title="Direct link to SSL certificate">​</a></h3>
<p>If IIS is configured with <code>AIMWebService</code> set to <code>Require SSL</code>, then an SSL certificate must be provided.</p>
<p>Identity Manager does not require a certificate, so it can be launched without certificate-related parameters, if CyberArk is configured to allow it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-cyberark-account">Create a CyberArk Account<a href="#create-a-cyberark-account" class="hash-link" aria-label="Direct link to Create a CyberArk Account" title="Direct link to Create a CyberArk Account">​</a></h2>
<p>CyberArk&#x27;s Password Vault Web Access (PVWA) is meant to enable users to access sensitive data through accounts in CyberArk, from any local or remote location.</p>
<p>The following procedure requires credentials in order to connect to PVWA.</p>
<p>Create a CyberArk account by <a href="https://docs.cyberark.com/Product-Doc/OnlineHelp/AAM-CP/Latest/en/Content/CP%20and%20ASCP/cv_Managing-Single-Accounts.htm?tocpath=Administration%7CCredential%20Provider%7CAccounts%20and%20Safes%7C_____1#adding-it-to-the-pvwa" target="_blank" rel="noopener noreferrer">adding it to the PVWA</a>, defining at least the following properties:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| Property Name | Key in appsettings.agent.json |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ------------- | ------------------------------- |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Username | Login |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Address | Server |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Password | Password |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Netwrix Identity Manager (formerly Usercube) recommends customizing the account&#x27;s name because it will be used in [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ](/docs/usercube_saas/usercube/integration-guide/toolkit/xml-configuration/connectors/connection/index.md) to retrieve this account from the vault.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="assign-the-permissions">Assign the Permissions<a href="#assign-the-permissions" class="hash-link" aria-label="Direct link to Assign the Permissions" title="Direct link to Assign the Permissions">​</a></h2>
<p><a href="https://docs.cyberark.com/PAS/13.0/en/Content/PASIMP/Safes-add-a-safe-member-ClassicUI.htm?tocpath=Administrator%7CPrivileged%20Accounts%7CAccess%20Control%7CSafes%20and%20Safe%20members%7CClassic%20interface%7C_____3" target="_blank" rel="noopener noreferrer">See CyberArk&#x27;s documentation on how to add a safe member</a>.</p>
<p>In order to assign the permissions to access the application, follow CyberArk&#x27;s instructions to <a href="https://docs.cyberark.com/AAM-CP/13.0/en/Content/CP%20and%20ASCP/Building-CP-Environment.htm" target="_blank" rel="noopener noreferrer">build the environment for the Credential Provider in the PVWA</a>.</p>
<p>The aim here is to give the right permissions to:</p>
<ul>
<li>the AAM user, by default named <code>Prov\_{Credential Provider machine name}</code>, meant to enable the Credential Provider to authenticate to the vault and retrieve passwords;</li>
<li>the application, via its AppID.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-usercube">Configure Usercube<a href="#configure-usercube" class="hash-link" aria-label="Direct link to Configure Usercube" title="Direct link to Configure Usercube">​</a></h2>
<p>Connect Identity Manager to CyberArk by adding to the agent&#x27;s <code>appsettings.json</code> file a specific section.</p>
<blockquote>
<p>For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;CyberArk&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;UseCyberArkSetting&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;SafeName&quot;: &quot;safeName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ApplicationId&quot; : &quot;appId&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Server&quot; : &quot;serverUrl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;File&quot;: &quot;certificateFilePath&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Password&quot;: &quot;certificatePassword&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;DistinguishedName&quot;: &quot;certificateSubjectDistinguishedName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Thumbprint&quot;: &quot;certificateThumbprint&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StoreName&quot;: &quot;certificateStoreName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StoreLocation&quot;: &quot;certificateStoreLocation&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vault-settings">Vault settings<a href="#vault-settings" class="hash-link" aria-label="Direct link to Vault settings" title="Direct link to Vault settings">​</a></h3>
<table><thead><tr><th>Name</th><th>Details</th></tr></thead><tbody><tr><td>UseCyberArkSetting   default value: False</td><td><strong>Type</strong>    Boolean   <strong>Description</strong> <code>True</code> to enable the CyberArk Provider for Identity Manager.</td></tr><tr><td>SafeName   required</td><td><strong>Type</strong>    String   <strong>Description</strong> Name of the safe containing the accounts used by Identity Manager. See the <a href="#CyberArks-AAM-Credential-Providers">CyberArk&#x27;s AAM Credential Providers </a> topic for additional information.</td></tr><tr><td>ApplicationId   required</td><td><strong>Type</strong>    String   <strong>Description</strong> Application ID of the application that can access the safe. See the <a href="#CyberArks-AAM-Credential-Providers">CyberArk&#x27;s AAM Credential Providers </a> topic for additional information.</td></tr><tr><td>Server   required</td><td><strong>Type</strong>    String   <strong>Description</strong> URL configured for the CyberArk Vault. It is recommended to use HTTPS for security purposes.   <strong>Note:</strong> the <code>Server</code> attribute is only used with the CyberArk Central Credential Provider (Agentless AAM).</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="certificate-settings">Certificate settings<a href="#certificate-settings" class="hash-link" aria-label="Direct link to Certificate settings" title="Direct link to Certificate settings">​</a></h3>
<p>Certificate settings are only used with the Central Credential Provider (agentless AAM). They set the location of the public key certificate and the private key used by the agent to handle encrypted network communications with CyberArk.</p>
<p>This information can be set one of two ways:</p>
<ul>
<li>
<p>As a <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">Public Key Cryptography Standards (PKCS) #12</a> archive (also called <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/install/personal-information-exchange---pfx--files" target="_blank" rel="noopener noreferrer">Personal Information Exchange file</a> or <code>.pfx</code> file) stored in the <em>Agent</em>&#x27;s host file system. The archive contains both the public key certificate and the private key.</p>
</li>
<li>
<p>As a certificate from a Windows&#x27; <a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/working-with-certificates#certificate-store" target="_blank" rel="noopener noreferrer">certificate store</a> identified by <em>SubjectDistinguishedName</em> or by <em>Thumbprint</em>. The Windows certificate also contains both the public key certificate and the private key.</p>
<p>Netwrix Identity Manager (formerly Usercube)recommends using Windows&#x27; certificate store.</p>
<p>On the other hand, the PFX file takes priority over Windows&#x27; certificate, which means that when <code>File</code> is specified then the PFX certificate is used, even if the options for Windows&#x27; certificate are specified too.</p>
<p>In both ways, missing and/or incorrect settings trigger an error and no certificate is loaded.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="as-a-pfx-file">As a PFX file<a href="#as-a-pfx-file" class="hash-link" aria-label="Direct link to As a PFX file" title="Direct link to As a PFX file">​</a></h4>
<blockquote>
<p>For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;CyberArk&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;UseCyberArkSetting&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;SafeName&quot;: &quot;safeName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ApplicationId&quot; : &quot;appId&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Server&quot; : &quot;serverUrl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;File&quot;: &quot;C:/UsercubeAgentContoso/contoso.pfx&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Password&quot;: &quot;oarjr6r9f00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<p>The archive is set using the following attributes:</p>
<table><thead><tr><th>Name</th><th>Details</th></tr></thead><tbody><tr><td>File   required</td><td><strong>Type</strong>    String   <strong>Description</strong> <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive path on the host file system.</td></tr><tr><td>Password   optional</td><td><strong>Type</strong>    String   <strong>Description</strong> <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive password.   <strong>Info:</strong> storing a <code>.pfx</code> file&#x27;s password in plain text in a production environment is strongly discouraged. It should always be encrypted using the <a href="/docs/usercube_saas/usercube/integration-guide/executables/references/protect-certificatepassword/"> Usercube-Protect-CertificatePassword </a> tool.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="as-a-certificate-in-the-windows-store">As a Certificate in the Windows Store<a href="#as-a-certificate-in-the-windows-store" class="hash-link" aria-label="Direct link to As a Certificate in the Windows Store" title="Direct link to As a Certificate in the Windows Store">​</a></h4>
<blockquote>
<p>For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;CyberArk&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;UseCyberArkSetting&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;SafeName&quot;: &quot;safeName&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ApplicationId&quot; : &quot;appId&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Server&quot; : &quot;serverUrl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;DistinguishedName&quot;: &quot;CN=contoso, OU=Biz, O=Contoso, L=Marseille, S=MA, C=FR&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;StoreName&quot;: &quot;My&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;StoreLocation&quot;: &quot;LocalMachine&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<p>The Windows certificate is set using these attributes:</p>
<table><thead><tr><th>Name</th><th>Details</th></tr></thead><tbody><tr><td>DistinguishedName   optional</td><td><strong>Type</strong>    String   <strong>Description</strong> <em>SubjectDistinguishedName</em> of the store certificate.   <strong>Note:</strong> required when <code>Thumbprint</code> is not specified.</td></tr><tr><td>Thumbprint   optional</td><td><strong>Type</strong>    String   <strong>Description</strong> <em>Thumbprint</em> of the store certificate.   <strong>Note:</strong> required when <code>DistinguishedName</code> is not specified.</td></tr><tr><td>StoreLocation   required</td><td><strong>Type</strong>    String   <strong>Description</strong> Location of the relevant Windows certificate store: <code>LocalMachine</code> or <code>CurrentUser</code>.</td></tr><tr><td>StoreName   required</td><td><strong>Type</strong>    String   <strong>Description</strong> Name of the relevant Windows certificate store.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usercubes-cyberark-vault">Usercube&#x27;s CyberArk Vault<a href="#usercubes-cyberark-vault" class="hash-link" aria-label="Direct link to Usercube&#x27;s CyberArk Vault" title="Direct link to Usercube&#x27;s CyberArk Vault">​</a></h2>
<p>Once configured, Identity Manager retrieves the sensitive values from CyberArk via the <code>appsettings.cyberArk.agent.json</code> file. See the <a href="#CyberArks-AAM-Credential-Providers">CyberArk&#x27;s AAM Credential Providers
</a> topic for additional information.</p>
<p>In this file:</p>
<ul>
<li>the keys must follow the same structure as in the <strong>Connections</strong> of the <code>appsettings.agent.json</code> file;</li>
<li>the values are the names of the accounts created before.</li>
</ul>
<blockquote>
<p>The following example saves in CyberArk the credentials for <code>AD_Export</code>, with the accounts <code>AdAccount</code> and <code>AdServer2</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.cyberArk.agent.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Connections&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;AD_Export&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Login&quot;: &quot;AdAccount&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Password&quot;: &quot;AdAccount&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Servers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Server&quot;: &quot;AdAccount&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Server&quot;: &quot;AdServer2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Thus, when launching a job via the <code>AD_Export</code> connection, Identity Manager gets the values for <code>Login</code>, <code>Password</code> and <code>Server</code> from CyberArk, and the others from <code>appsettings.agent.json</code>.</p>
</blockquote>
<p>After updating <code>appsettings.cyberArk.agent.json</code>, the agent must be restarted for the changes to take effect.</p>
<p>To get a given property&#x27;s value, Identity Manager reads first the section in <code>appsettings.cyberArk.agent.json</code> for the appropriate connection. Only if the property is not listed here will Identity Manager read the corresponding section in <code>appsettings.agent.json</code> to find it.</p>
<p>Thus, when a property is listed in both appsettings files, the value from the CyberArk vault takes priority over the one from the usual appsettings file.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/cyberark-application-access-manager-credential-providers/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/azure-key-vault/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Azure Key Vault</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/usercube_saas/usercube/integration-guide/network-configuration/agent-configuration/rsa-encryption/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RSA Encryption</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-protection" class="table-of-contents__link toc-highlight">Data Protection</a></li><li><a href="#cyberark-for-data-protection" class="table-of-contents__link toc-highlight">CyberArk for Data Protection</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#compatible-settings" class="table-of-contents__link toc-highlight">Compatible Settings</a></li><li><a href="#set-authorization-details" class="table-of-contents__link toc-highlight">Set Authorization Details</a><ul><li><a href="#appid" class="table-of-contents__link toc-highlight">AppID</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#allowed-machines" class="table-of-contents__link toc-highlight">Allowed machines</a></li><li><a href="#ssl-certificate" class="table-of-contents__link toc-highlight">SSL certificate</a></li></ul></li><li><a href="#create-a-cyberark-account" class="table-of-contents__link toc-highlight">Create a CyberArk Account</a></li><li><a href="#assign-the-permissions" class="table-of-contents__link toc-highlight">Assign the Permissions</a></li><li><a href="#configure-usercube" class="table-of-contents__link toc-highlight">Configure Usercube</a><ul><li><a href="#vault-settings" class="table-of-contents__link toc-highlight">Vault settings</a></li><li><a href="#certificate-settings" class="table-of-contents__link toc-highlight">Certificate settings</a></li></ul></li><li><a href="#usercubes-cyberark-vault" class="table-of-contents__link toc-highlight">Usercube&#39;s CyberArk Vault</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>