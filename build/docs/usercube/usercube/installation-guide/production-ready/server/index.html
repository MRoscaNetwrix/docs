<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-usercube docs-version-current docs-doc-page docs-doc-id-usercube/installation-guide/production-ready/server/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Install the Server | Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" name="twitter:image" content="https://docs.yourcompany.com/img/Logo_RGB.svg"><meta data-rh="true" property="og:url" content="https://docs.yourcompany.com/docs/usercube/usercube/installation-guide/production-ready/server/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-usercube-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-usercube-current"><meta data-rh="true" property="og:title" content="Install the Server | Documentation"><meta data-rh="true" name="description" content="NOTE: If you are a SaaS client this topic does not apply. You can skip directly to end user authentication. See the Set up End-User Authentication topic for additional information."><meta data-rh="true" property="og:description" content="NOTE: If you are a SaaS client this topic does not apply. You can skip directly to end user authentication. See the Set up End-User Authentication topic for additional information."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yourcompany.com/docs/usercube/usercube/installation-guide/production-ready/server/"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube/usercube/installation-guide/production-ready/server/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yourcompany.com/docs/usercube/usercube/installation-guide/production-ready/server/" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"><link rel="stylesheet" href="/assets/css/styles.4cbdd69d.css">
<script src="/assets/js/runtime~main.a42836f1.js" defer="defer"></script>
<script src="/assets/js/main.3131faef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/branding/logo.svg" alt="Netwrix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/1secure">1Secure</a></li><li><a class="dropdown__link" href="/docs/accessanalyzer">Access Analyzer</a></li><li><a class="dropdown__link" href="/docs/accessinformationcenter">Access Information Center</a></li><li><a class="dropdown__link" href="/docs/activitymonitor">Activity Monitor</a></li><li><a class="dropdown__link" href="/docs/auditor">Auditor</a></li><li><a class="dropdown__link" href="/docs/changetracker">Change Tracker</a></li><li><a class="dropdown__link" href="/docs/dataclassification">Data Classification</a></li><li><a class="dropdown__link" href="/docs/groupid">Group ID</a></li><li><a class="dropdown__link" href="/docs/passwordpolicyenforcer">Password Policy Enforcer</a></li><li><a class="dropdown__link" href="/docs/passwordreset">Password Reset</a></li><li><a class="dropdown__link" href="/docs/passwordsecure">Password Secure</a></li><li><a class="dropdown__link" href="/docs/policypak">PolicyPak</a></li><li><a class="dropdown__link" href="/docs/privilegesecure">Privilege Secure</a></li><li><a class="dropdown__link" href="/docs/recoveryforactivedirectory">Recovery for Active Directory</a></li><li><a class="dropdown__link" href="/docs/strongpointfornetsuite">StrongPoint for NetSuite</a></li><li><a class="dropdown__link" href="/docs/strongpointforsalesforce">StrongPoint for Salesforce</a></li><li><a class="dropdown__link" href="/docs/strongpointnetsuiteflashlight">StrongPoint NetSuite Flashlight</a></li><li><a class="dropdown__link" href="/docs/strongpointsalesforceflashlight">StrongPoint Salesforce Flashlight</a></li><li><a class="dropdown__link" href="/docs/threatmanager">Threat Manager</a></li><li><a class="dropdown__link" href="/docs/threatprevention">Threat Prevention</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/usercube">UserCube</a></li><li><a class="dropdown__link" href="/docs/usercube_saas">UserCube SaaS</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="http://github.com/netwrix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/usercube/">Usercube</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/usercube/usercube/">A software solution to match your IGA needs</a><button aria-label="Collapse sidebar category &#x27;A software solution to match your IGA needs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube/usercube/installation-guide/">Installation Guide</a><button aria-label="Collapse sidebar category &#x27;Installation Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/overview/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/">Production-Ready Installation</a><button aria-label="Collapse sidebar category &#x27;Production-Ready Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/agent/">Install the Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/database/">Install the Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/email-server/">Send Notifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/server/">Install the Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/production-ready/working-directory/">Create a Working Directory</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/quick-start/">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube/usercube/installation-guide/requirements/">Requirements</a><button aria-label="Expand sidebar category &#x27;Requirements&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/installation-guide/reverse-proxy/">Reverse Proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube/usercube/integration-guide/">Integration Guide</a><button aria-label="Expand sidebar category &#x27;Integration Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube/usercube/introduction-guide/">Introduction Guide</a><button aria-label="Expand sidebar category &#x27;Introduction Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/migration-guide/">Migration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/usercube/usercube/user-guide/">User Guide</a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/usercube/usercube/whatsnew/">What&#x27;s New</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube/usercube/"><span itemprop="name">A software solution to match your IGA needs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube/usercube/installation-guide/"><span itemprop="name">Installation Guide</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/usercube/usercube/installation-guide/production-ready/"><span itemprop="name">Production-Ready Installation</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Install the Server</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Install the Server</h1></header>
<p><strong>NOTE:</strong> If you are a SaaS client this topic does not apply. You can skip directly to end user authentication. See the <a href="#Set-up-End-User-Authentication">Set up End-User Authentication</a> topic for additional information.</p>
<p>Identity Manager Server can be installed on the same workstation as the database or on a separate workstation. If Identity Manager is installed on a separate workstation, it requires the SQL PowerShell components to function properly.</p>
<p>Please make sure that the server requirements are met before going further. See the <a href="/docs/usercube/usercube/installation-guide/requirements/server-requirements/">Server</a> topic for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-working-directory">Server Working Directory<a href="#server-working-directory" class="hash-link" aria-label="Direct link to Server Working Directory" title="Direct link to Server Working Directory">​</a></h2>
<p>The server executable is beeing been extracted to the working directory as <code>Usercube-Server.exe</code> and <code>Usercube-Server.dll</code> and will enable a user or IIS to run the Identity Manager Server. See the <a href="/docs/usercube/usercube/installation-guide/production-ready/working-directory/">
Create a Working Directory
</a>topic for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-the-license-key">Set up the License Key<a href="#set-up-the-license-key" class="hash-link" aria-label="Direct link to Set up the License Key" title="Direct link to Set up the License Key">​</a></h2>
<p>The license key provided by Identity Manager must be set up in the <strong>appsetting.json</strong> &gt; <strong>License attribute</strong>. See the <a href="/docs/usercube/usercube/integration-guide/network-configuration/server-configuration/general-purpose/">Application Settings</a> topic for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-iis-website">Create an IIS Website<a href="#create-an-iis-website" class="hash-link" aria-label="Direct link to Create an IIS Website" title="Direct link to Create an IIS Website">​</a></h2>
<p>It is recommended to run the Identity Manager Server as an IIS website.</p>
<p>To install the Identity Manager Server as a Windows service, please jump to Install the Server as a Windows Service. See the <a href="#Install-the-Server">Install the Server</a> topic for additional information.</p>
<p>Adding the Identity Manager Server as an IIS website can be achieved with the <a href="https://www.iis.net" target="_blank" rel="noopener noreferrer">Internet Information Services (IIS) Manager</a> which can be launched with the <code>INETMGR.MSC</code> command. You need to have an IIS 10.0 or greater.</p>
<p>An IIS website must be created using the <a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/?view=aspnetcore-8.0" target="_blank" rel="noopener noreferrer">Microsoft guide</a> and the following parameters:</p>
<ul>
<li>Site name: <code>Usercube&lt;Organization&gt;</code> is the recommended naming convention</li>
<li>Physical path — <code>/&lt;working directory&gt;/Runtime</code></li>
<li>Type — <code>http</code></li>
<li>IP address — <code>All unassigned</code></li>
<li>Port &amp; Hostname — To access the Identity Manager Server and the UI. Use the hostname and port that has been reserved for Identity Manager.</li>
</ul>
<p>During installation, the following information guides some of your choices:</p>
<ul>
<li>The Identity Manager Server uses an in-process hosting model</li>
<li>Identity Manager Server&#x27;s <code>web.config</code> can be found in the <code>Runtime</code> folder</li>
<li>The Identity Manager Server uses .NET</li>
</ul>
<p>After creation, the following settings are recommended:</p>
<ul>
<li>
<p><strong>Application Pool</strong> &gt; <code>Usercube&lt;Organization&gt;</code> &gt; <strong>Advanced Settings</strong> &gt; <strong>General</strong> &gt; Start Mode set to <code>AlwaysRunning</code>;</p>
</li>
<li>
<p><strong>Application Pool</strong> &gt; <code>Usercube&lt;Organization&gt;</code> &gt; <strong>Advanced Settings</strong> &gt; <strong>Process Model</strong> &gt; Idle Time-out (minutes) set to <code>0</code> and Load User Profile set to <code>True</code>;</p>
</li>
<li>
<p><strong>Application Pool</strong> &gt; <code>Usercube&lt;Organization&gt;</code> &gt; <strong>Recycling</strong> &gt; Regular time intervals set to <code>0</code>.</p>
<p>Recycling the application pool creates a discontinuation in the connection between server and agent, which can disrupt some of Identity Manager&#x27;s features such as the job scheduler. IIS already recycles the application pool at each setting change, thus Netwrix Identity Manager (formerly Usercube) recommends not using periodic recycling.</p>
</li>
</ul>
<p>The following is mandatory:</p>
<ul>
<li><strong>Application Pool</strong> &gt; <code>Usercube&lt;Organization&gt;</code> &gt; <strong>Advanced Settings</strong> &gt; <strong>General</strong> &gt; .NET CLR Version &gt; <code>No Managed Code</code></li>
</ul>
<p><img decoding="async" loading="lazy" alt="IIS Settings" src="/assets/images/iis_settings-8e92e9aa9f2b1801a133dd137537ff89.webp" width="1415" height="2475" class="img_ev3q"></p>
<p>An SSL Certificate should also be set to the IIS Server to perform HTTPS communication with end-users.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hosting-bundle">Hosting Bundle<a href="#hosting-bundle" class="hash-link" aria-label="Direct link to Hosting Bundle" title="Direct link to Hosting Bundle">​</a></h2>
<p>You need to install the dotnet hosting bundle (version 8.0 or higher) to be able to run dotnet application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="select-a-server-identity">Select a Server Identity<a href="#select-a-server-identity" class="hash-link" aria-label="Direct link to Select a Server Identity" title="Direct link to Select a Server Identity">​</a></h2>
<p>The Identity Manager Server, through the IIS Website, should be assigned a service account with the relevant permissions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-service-account">Create the service account<a href="#create-the-service-account" class="hash-link" aria-label="Direct link to Create the service account" title="Direct link to Create the service account">​</a></h3>
<p>This section requires using an Active Directory account with sufficient privileges to create service accounts on the domain.</p>
<p>To create a service account you need to perform the following steps:</p>
<p><strong>Step 1 –</strong> Log on to a Windows server in the target domain environment. You should use an account with the necessary permissions to create new domain accounts.</p>
<p><strong>NOTE:</strong> The target domain is the domain where SQL Server is installed.</p>
<p><strong>Step 2 –</strong> Access the <em>Active Directory User and Computers</em> tool with the command <code>dsa.mc</code>.</p>
<p><strong>Step 3 –</strong> Select the target domain and Click on <strong>Users</strong>. From the users list, right-click to select <strong>New</strong> &gt; <strong>User</strong>.</p>
<p><strong>Step 4 –</strong> Choose a mnemonic <em>First Name</em> for the Identity Manager Server, as for example <code>UsercubeContosoServer</code>, and click <strong>Next</strong>.</p>
<p><em>Remember,</em>  the down-level log on name in the format <code>DOMAIN/userName</code>,.as for example <code>CONTOSO/UsercubeContosoServer</code>.</p>
<p><strong>Step 5 –</strong> Set a password and remember it for later, check the boxes <strong>User cannot change password</strong> and <strong>Password never expires</strong>.</p>
<p>This newly created service account is a domain account and will be used as an IIS identity.</p>
<p><strong>NOTE:</strong> You can go further and use Managed Service Account to avoid dealing with the service account password update yourself and let Windows worry about it. This feature requires installing Identity Manager on Windows Server 2016 or later, and using an Active Directory with a forest level set to Windows Server 2016 or later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-an-iis-identity">Set an IIS identity<a href="#set-an-iis-identity" class="hash-link" aria-label="Direct link to Set an IIS identity" title="Direct link to Set an IIS identity">​</a></h3>
<p>The following implies that a custom service account has already been created for the Identity Manager Server.</p>
<p>To set an IIS identity you need to perform the following steps:</p>
<p><strong>Step 1 –</strong> Open the IIS Manager (<code>INETMGR.MSC</code>) and then the <strong>Application Pools</strong> node underneath the machine node.</p>
<p><strong>Step 2 –</strong> Select the <code>Usercube/&lt;Organization&gt;</code> application pool and right-click and select <strong>Advanced Settings</strong>.</p>
<p><strong>Step 3 –</strong> In the <strong>Process Model</strong> section, on the <strong>Identity</strong> list item, click on the three dots to open the <strong>Application Pool Identity</strong> dialog.</p>
<p><strong>Step 4 –</strong> Select the <strong>Custom Account</strong> radio button and click on <strong>Set</strong> and enter the previously created Service Account credentials:</p>
<ul>
<li>User name in the format <code>DOMAIN/userName</code> that you have previously written down</li>
<li>Password, previously remembered</li>
</ul>
<p><strong>Step 5 –</strong> Click <strong>OK</strong>. You&#x27;re all set.</p>
<p>The Identity Manager Server IIS site will now use this identity to access the database and the working directory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-permissions">Set-up Permissions<a href="#set-up-permissions" class="hash-link" aria-label="Direct link to Set-up Permissions" title="Direct link to Set-up Permissions">​</a></h2>
<p>The Server permissions include the database and working directory.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set--up-the-database-permissions">Set- up the database permissions<a href="#set--up-the-database-permissions" class="hash-link" aria-label="Direct link to Set- up the database permissions" title="Direct link to Set- up the database permissions">​</a></h3>
<p>The service account used by the Server to access the database needs the following database-level roles in SQL Server:</p>
<ul>
<li><code>Public</code></li>
<li><code>Dbowner</code></li>
</ul>
<p>And the <code>Administer bulk operations</code> server-level role.</p>
<p>This guide will show you how to perform these operations using SQL Server Management Studio:</p>
<p><strong>Step 1 –</strong> Open SQL Server Management Studio (SSMS) and log in to access the server on which runs the Identity Manager Database with an account member of the <strong>sysadmin</strong> or <strong>securityadmin</strong> server-level role.</p>
<p><img decoding="async" loading="lazy" alt="New Login" src="data:image/webp;base64,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" width="252" height="239" class="img_ev3q"></p>
<p><strong>Step 2 –</strong> Expand the <strong>Security</strong> and <strong>Login</strong> nodes, and look for the Identity Manager service account in the list.</p>
<p>If you cannot find the service account click on the <strong>Login</strong> node, right-click and select <strong>New</strong> &gt; <strong>Login</strong>.</p>
<p><strong>Step 3 –</strong> On the <strong>General</strong> page, enter the service account login name in the down-level logon format, such as <code>CONTOSO/UsercubeContosoServer</code>.
If you&#x27;re not sure about the correct spelling of your service account or domain, you can search for it using the search window. From the <strong>Login</strong> node, right-click and select <strong>New login</strong> &gt; <strong>Login name</strong> &gt; <strong>Search</strong>.</p>
<p><strong>Step 4 –</strong> Choose either__Windows authentication__ if you chose to connect the server to the database with a Windows service account (Integrated Security=SSPI in the connection string) or a <strong>SQL Server authentication</strong> for a SQL Server account (if you set up the connection string with a login/password). In the SQL case, fill in the same password in the form as in the connection string. You should now see the newly created login in the Login list.</p>
<p><strong>Step 5 –</strong> From the <strong>Login</strong> node, right-click the newly created login and select <strong>Properties</strong> then go to the <strong>Server Roles</strong> page on the left and make sure <strong>public</strong> is checked.</p>
<p><strong>Step 6 –</strong> Go to __User Mapping__and make sure <code>Usercube/&lt;Organization/&gt;</code> is checked (top panel), as well as <strong>db_owner</strong> and <strong>public</strong> (bottom panel).</p>
<p><img decoding="async" loading="lazy" alt="Bulk" src="/assets/images/bulk-6a333a1fcb17aefc63c55c25efcd0e72.webp" width="1920" height="1080" class="img_ev3q"></p>
<p><strong>Step 7 –</strong> Right-click the <strong>Server</strong> root node and select <strong>Properties</strong>, and in the <strong>Permissions</strong> tab, select the service account or group name.</p>
<p><strong>Step 8 –</strong> Grant the <strong>Administer bulk operations</strong> permission. and confirm with <strong>OK</strong>.</p>
<p>Identity Manager Server now has the required permissions to access the database.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-working-directory-permissions">Set the working directory permissions<a href="#set-the-working-directory-permissions" class="hash-link" aria-label="Direct link to Set the working directory permissions" title="Direct link to Set the working directory permissions">​</a></h3>
<p>The Identity Manager Server needs specific permissions on the working directory to run, read synchronization output, and write provisioning orders. See the <a href="/docs/usercube/usercube/installation-guide/requirements/server-requirements/">Server</a> topic for additional information.</p>
<p>Up to four folders have to be considered:</p>
<ul>
<li>The working directory</li>
<li>The runtime directory, usually <code>C:/Usercube&lt;Organization&gt;/Runtime</code></li>
<li>The data collection directory, usually <code>C:/Usercube&lt;Organization&gt;/Temp</code></li>
<li>The provisioning orders directory, usually <code>C:/Usercube&lt;Organization&gt;/Temp</code> (same as for the data collection directory).</li>
</ul>
<p>See the <a href="/docs/usercube/usercube/installation-guide/production-ready/working-directory/">
Create a Working Directory
</a> and <a href="/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> topics for additional information.</p>
<p>The following steps can be performed for each of the relevant directories.</p>
<p>First, let&#x27;s check what permissions the service account already has.</p>
<p>To do so go to the working directory parent folder, right-click the working directory, select <strong>Properties</strong> and then select <strong>Security</strong>.</p>
<p>From there, you have two choices.</p>
<p>The Identity Manager Server service account that was chosen previously:</p>
<ul>
<li>
<p>Already has or belongs to a group that already has the needed permissions. There is nothing more to do</p>
</li>
<li>
<p>Is missing one of the needed permissions and you need to perform the steps underlined below:</p>
<p><strong>Step 1 –</strong> Click on <strong>Edit</strong> and then on <strong>Add</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Object Names" src="data:image/webp;base64,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" width="455" height="249" class="img_ev3q"></p>
<p><strong>Step 2 –</strong> In the <strong>Enter the object names to select</strong> textbox, enter the service account name in the down-level log on format, such as <code>CONTOSO/UsercubeContosoServer</code>, then click <strong>OK</strong>.</p>
<p><strong>Step 3 –</strong> Select the newly added user name in the <strong>Group or user names</strong> panel at the top of the window.</p>
<p><strong>Step 4 –</strong> Check the <strong>Allow</strong> column for the relevant permissions. Check the <strong>Deny</strong> column for the others, and then <strong>OK</strong>.</p>
</li>
</ul>
<p>The working directory permissions are all set.</p>
<p>The same steps have to be performed on the runtime, the data collection and the provisioning orders directories. See the <a href="/docs/usercube/usercube/installation-guide/production-ready/working-directory/">
Create a Working Directory
</a> and <a href="/docs/usercube/usercube/integration-guide/network-configuration/agent-configuration/appsettings/">Application Settings</a> topics for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="encryption-and-authentication-key-pairs">Encryption and Authentication Key Pairs<a href="#encryption-and-authentication-key-pairs" class="hash-link" aria-label="Direct link to Encryption and Authentication Key Pairs" title="Direct link to Encryption and Authentication Key Pairs">​</a></h2>
<p>The Identity Manager Server requires an RSA-2048 encryption key pair to perform various encryption operations, such as source, configuration, or log file encryptions. Identity Manager&#x27;s Identity Server also needs an RSA-2048 authentication key pair for end-user authentication purposes.</p>
<p>These certificates don&#x27;t need to be integrated into the target organization&#x27;s Public Key Infrastructure (PKI) and don&#x27;t require an expiration date. They&#x27;re only relevant to specific Identity Manager temporary data and can be changed at any time.</p>
<p>Each RSA key pair, as in an <a href="https://en.wikipedia.org/wiki/X.509" target="_blank" rel="noopener noreferrer">X.509</a> public key certificate and a private key, can be stored one of two ways:</p>
<ul>
<li>As a <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive (also called Personal Information Exchange file or <code>.pfx</code> file) stored in the Server&#x27;s host file system. The file contains both the public key certificate and the private key.</li>
<li>As a certificate from a Windows&#x27; certificate store identified by SubjectDistinguishedName or by Thumbprint. The Windows certificate also contains both the public key certificate and the private key. This is the recommended method.</li>
</ul>
<p>The key pairs can be generated with tools such as <a href="https://www.openssl.org/docs/manmaster/man1/req.html" target="_blank" rel="noopener noreferrer">OpenSSL</a> or Microsoft&#x27;s <a href="https://docs.microsoft.com/en-us/powershell/module/pkiclient/new-selfsignedcertificate?view=win10-ps" target="_blank" rel="noopener noreferrer">New-SelfSignedCertificate</a>, and <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/devtest/pvk2pfx?redirectedfrom=MSDN" target="_blank" rel="noopener noreferrer">pvk2pfx tool</a>.</p>
<p>Here&#x27;s an example showing how to generate a <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive (<code>UsercubeContoso.pfx</code>) bundling a public key certificate (<code>usercubecontoso.cert</code>) and an RSA-2048 private key (<code>usercubecontoso.key</code>) with OpenSSL, with a 50-year expiration date:</p>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -x509 -newkey rsa:2048 -keyout usercubecontoso.key -out usercubecontoso.cert -days 18250  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl pkcs12 -export -out UsercubeContoso.pfx -inkey usercubecontoso.key -in usercubecontoso.cert  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Public key certificates can also be bought from trusted certificate providers and bundled with a private key into a <a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive using step <strong>2</strong> in the frame above.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generate-and-use-an-encryption-key-pair">Generate and use an encryption key pair<a href="#generate-and-use-an-encryption-key-pair" class="hash-link" aria-label="Direct link to Generate and use an encryption key pair" title="Direct link to Generate and use an encryption key pair">​</a></h3>
<p>This is the key pair used to perform various encryption operations, such as source, configuration, or log file encryptions.</p>
<p><strong>Step 1 –</strong> Generate a key pair using the OpenSSL method.</p>
<p><strong>Step 2 –</strong> Store the key pair as a <code>.pfx</code> file or use the Windows <a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in#certificate-store" target="_blank" rel="noopener noreferrer">certificate store</a> (recommended).</p>
<p><strong>Step 3 –</strong> Link the generated certificate to Identity Manager.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generate-and-use-an-identity-server-key-pair">Generate and use an identity server key pair<a href="#generate-and-use-an-identity-server-key-pair" class="hash-link" aria-label="Direct link to Generate and use an identity server key pair" title="Direct link to Generate and use an identity server key pair">​</a></h3>
<p>This is the key pair used by the Identity Server for end-user authentication purposes.</p>
<p><strong>Step 1 –</strong> Generate a key pair using the OpenSSL method.</p>
<p><strong>Step 2 –</strong> Store the key pair as a .<code>pfx</code> file or use the Windows <a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in#certificate-store" target="_blank" rel="noopener noreferrer">certificate store</a> (recommended).</p>
<p><strong>Step 3 –</strong> Link the generated certificate to Identity Manager.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="certificate-as-a-plain-file">Certificate as a plain file<a href="#certificate-as-a-plain-file" class="hash-link" aria-label="Direct link to Certificate as a plain file" title="Direct link to Certificate as a plain file">​</a></h4>
<p>The following parameters are used to link the file to Identity Manager in the <code>IdentityServer</code> section.</p>
<p><a href="https://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="noopener noreferrer">PKCS #12</a> archive can be password protected, hence the <code>X509KeyFilePassword</code> attribute.</p>
<p>Storing a <code>.pfx</code> file password in plain text in a production environment is strongly discouraged. The password should always be encrypted using the Usercube-Protect-CertificatePassword tool. See the <a href="/docs/usercube/usercube/integration-guide/executables/references/protect-certificatepassword/">
Usercube-Protect-CertificatePassword
</a> topic for additional information.</p>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;IdentityServer&quot;: {  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;X509KeyFilePath&quot;: &quot;./UsercubeContoso.pfx&quot;,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;X509KeyFilePassword&quot;: &quot;eff@%fmel/&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="certificate-in-the-certificate-store">Certificate in the certificate store<a href="#certificate-in-the-certificate-store" class="hash-link" aria-label="Direct link to Certificate in the certificate store" title="Direct link to Certificate in the certificate store">​</a></h4>
<p>The certificate can be stored in the certificate store instead of the file system. This is the recommended method.</p>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;IdentityServer&quot;: {  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;X509SubjectDistinguishedName&quot;:&quot;UsercubeContoso&quot;,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;X509StoreLocation&quot;: &quot;LocalMachine&quot;,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;X509StoreName&quot;: &quot;AuthRoot&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-the-server-to-the-database">Connect the Server to the Database<a href="#connect-the-server-to-the-database" class="hash-link" aria-label="Direct link to Connect the Server to the Database" title="Direct link to Connect the Server to the Database">​</a></h2>
<p>Now that the Identity Manager Server has been provided with a service account with the right permissions, let&#x27;s finalize the setup.</p>
<p>The connection between the Server and the Database requires choosing an authentication method: <a href="https://docs.microsoft.com/en-us/sql/relational-databases/security/choose-an-authentication-mode?view=sql-server-ver15#windows-authentication" target="_blank" rel="noopener noreferrer">Windows Authentication</a> or SQL Server authentication. See the <a href="/docs/usercube/usercube/integration-guide/network-configuration/server-configuration/database-connection/">
Connection to the Database
</a> and <a href="/docs/usercube/usercube/integration-guide/executables/references/protect-certificatepassword/">
Usercube-Protect-CertificatePassword
</a> topics for additional information. Windows authentication will require the IIS identity to be set to the custom Windows service account used to log in to the Identity Manager&#x27;s Windows Server session. SQL authentication will work with both the <em>built-in</em> app pool identity and a custom service account. This authentication method will write the login and password directly in the connection string.</p>
<p><code>Runtime/appsettings.json</code> is a technical configuration file that enables you to set up the connection between the Server and the Database through the ConnectionString attribute. See the <a href="/docs/usercube/usercube/integration-guide/network-configuration/">Network Configuration</a> topic for additional information.</p>
<p>The connection string is set up in the <code>Runtime/appsettings.json</code> configuration file which can be edited with any text editor, such as <a href="https://notepad-plus-plus.org/downloads/" target="_blank" rel="noopener noreferrer">Notepad++</a>.</p>
<p>If the SQL Server is hosted on Azure, you should use the AzureCredentials setting before going further.</p>
<p>In the<code>Runtime/appsettings.json</code> file, find or write the <code>ConnectionString</code> attributes following the examples shown below:</p>
<p>The first example sets a connection string using the Windows authentication (<code>Integrated Security=SSPI</code>) to connect, on a local SQL Server system (<code>source=.</code>), to the <code>UsercubeContoso</code> database. See the</p>
<p>The service account used by the Server to access the Database is either:</p>
<ul>
<li>A Windows account if the connection string was set up using <code>Integrated Security=SSPI</code>.</li>
<li>A SQL Server account if the connection string was set up with a login/password.</li>
</ul>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;ConnectionString&quot;: &quot;data source=.;Database=UsercubeContoso;Integrated Security=SSPI;Min Pool Size=10;encrypt=false;&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The second example sets a connection string using the SQL Server authentication. <code>CONTOSO/UsercubeContosoServer</code> has been set as the Identity Manager Server IIS website identity.</p>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appsettings.json  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;ConnectionString&quot;: &quot;data source=.;Database=Usercube;User Id=CONTOSO/UsercubeContosoServer;Password=myPassword;Min Pool Size=10;encrypt=false;&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><strong>RECOMMENDED:</strong></em> SQL Server authentication stores plain text credentials in the configuration file. This is strongly discouraged. To avoid storing plain text credentials, you should always strive to use Windows authentication or encrypt sensitive setting values such as the connection string.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ssl-certificate">SSL Certificate<a href="#ssl-certificate" class="hash-link" aria-label="Direct link to SSL Certificate" title="Direct link to SSL Certificate">​</a></h2>
<p>The Identity ManagerServer requires the use of an SSL Certificate trusted by all the target end-users&#x27; browsers. The standard setup is to use a certificate signed by the target organization&#x27;s PKI root Certificate Authority and import the certificate into the end-user&#x27;s Windows Store.</p>
<p>This can be achieved using the <a href="https://en.wikipedia.org/wiki/Microsoft_Management_Console" target="_blank" rel="noopener noreferrer">Microsoft Management Console (MMC)</a>. See the <a href="https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in" target="_blank" rel="noopener noreferrer">View certificates with the MMC</a> for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dns">DNS<a href="#dns" class="hash-link" aria-label="Direct link to DNS" title="Direct link to DNS">​</a></h2>
<p>Your organization&#x27;s DNS needs to be updated according to the requirements indicated in Hostname and DNS. See the <a href="/docs/usercube/usercube/installation-guide/requirements/server-requirements/">Server</a> topic for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-your-installation">Test Your Installation<a href="#test-your-installation" class="hash-link" aria-label="Direct link to Test Your Installation" title="Direct link to Test Your Installation">​</a></h2>
<p>In order to test your installation you must:</p>
<p><strong>Step 1 –</strong> Make sure the IIS site is running.</p>
<p><strong>Step 2 –</strong> Go to the following URL with a browser: <code>&lt;hostname&gt;:&lt;port&gt;/hc</code> with the hostname and port set up in Create an IIS website. See the <a href="#Install-the-Server">Install the Server</a> topic for additional information.</p>
<p><strong>Step 3 –</strong> The Identity Manager Server is trying to access the Database. If it succeeds, the message <strong>Healthy</strong> should be displayed in the browser.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-starting-mode-in-iis-optional">Configure the Starting Mode in IIS (optional)<a href="#configure-the-starting-mode-in-iis-optional" class="hash-link" aria-label="Direct link to Configure the Starting Mode in IIS (optional)" title="Direct link to Configure the Starting Mode in IIS (optional)">​</a></h2>
<p>This step is important if the scheduler is enabled. IIS starts the Identity Manager Server only if an incoming http request is made on the server and the scheduler is not launched until the Identity Manager Server is started. Because of that, you need to carefully set up the starting mode of IIS to force the starting of the Identity Manager Server.</p>
<p>The Identity Manager Server warm up is done using the <code>&lt;applicationInitialization&gt;</code> element in the web.config file, the configuration is described in the <a href="https://learn.microsoft.com/en-us/iis/get-started/whats-new-in-iis-8/iis-80-application-initialization" target="_blank" rel="noopener noreferrer">Microsoft documentation</a>.</p>
<p>You need to:</p>
<ul>
<li>Enable the <strong>Application Initialization</strong> feature</li>
<li>Modify the <strong>applicationHost.config</strong> file to set the <strong>startMode</strong> of the application pool as <strong>AlwaysRunning</strong>. You also need to set the preloadEnabled of your application set to true. It is advised to backup the <strong>applicationHost.config</strong> file when doing this step to prevent mistakes.</li>
<li>Double check that the following section is set in your web.config file, in the section system.webServer:</li>
</ul>
<p>Code attributes enclosed with <code>&lt;&gt;</code> need to be replaced with a custom value before entering the script in the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;applicationInitialization doAppInitAfterRestart=&quot;true&quot;&gt;  &lt;add initializationPage=&quot;/&quot;&gt;&lt;/applicationInitialization&gt;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once done, you need to check that the configured jobs are launched via the Identity Manager&#x27;s scheduler without having to manually issue a request on the Identity Manager Server.</p>
<p>If this is not correctly configured, any restart of your IIS or application pool could prevent jobs from being launched.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-end-user-authentication">Set up End-User Authentication<a href="#set-up-end-user-authentication" class="hash-link" aria-label="Direct link to Set up End-User Authentication" title="Direct link to Set up End-User Authentication">​</a></h2>
<p>The next step consists in setting up one or more authentication methods for end-users. You may choose one or several external authentication providers among the following:</p>
<ul>
<li><a href="https://openid.net/connect/" target="_blank" rel="noopener noreferrer">OpenId Connect</a></li>
<li><a href="http://docs.oasis-open.org/wsfed/federation/v1.2/ws-federation.html" target="_blank" rel="noopener noreferrer">WS-Federation</a></li>
<li><a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noopener noreferrer">OAuth</a></li>
<li><a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html" target="_blank" rel="noopener noreferrer">SAML2</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/integrated-windows-authentication" target="_blank" rel="noopener noreferrer">Integrated Windows Authentication (IWA)</a></li>
</ul>
<p>Everything you need to know about setting up authentication is provided in the Technical Configuration Guide. See the <a href="/docs/usercube/usercube/integration-guide/network-configuration/server-configuration/end-users-authentication/">
End-User Authentication</a> topic for additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">​</a></h2>
<p>Install the Agent is the next step of the process. See the <a href="/docs/usercube/usercube/installation-guide/production-ready/agent/">
Install the Agents</a> topic for additional information.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usercube/usercube/installation-guide/production-ready/server/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/usercube/usercube/installation-guide/production-ready/email-server/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Send Notifications</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/usercube/usercube/installation-guide/production-ready/working-directory/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create a Working Directory</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#server-working-directory" class="table-of-contents__link toc-highlight">Server Working Directory</a></li><li><a href="#set-up-the-license-key" class="table-of-contents__link toc-highlight">Set up the License Key</a></li><li><a href="#create-an-iis-website" class="table-of-contents__link toc-highlight">Create an IIS Website</a></li><li><a href="#hosting-bundle" class="table-of-contents__link toc-highlight">Hosting Bundle</a></li><li><a href="#select-a-server-identity" class="table-of-contents__link toc-highlight">Select a Server Identity</a><ul><li><a href="#create-the-service-account" class="table-of-contents__link toc-highlight">Create the service account</a></li><li><a href="#set-an-iis-identity" class="table-of-contents__link toc-highlight">Set an IIS identity</a></li></ul></li><li><a href="#set-up-permissions" class="table-of-contents__link toc-highlight">Set-up Permissions</a><ul><li><a href="#set--up-the-database-permissions" class="table-of-contents__link toc-highlight">Set- up the database permissions</a></li><li><a href="#set-the-working-directory-permissions" class="table-of-contents__link toc-highlight">Set the working directory permissions</a></li></ul></li><li><a href="#encryption-and-authentication-key-pairs" class="table-of-contents__link toc-highlight">Encryption and Authentication Key Pairs</a><ul><li><a href="#generate-and-use-an-encryption-key-pair" class="table-of-contents__link toc-highlight">Generate and use an encryption key pair</a></li><li><a href="#generate-and-use-an-identity-server-key-pair" class="table-of-contents__link toc-highlight">Generate and use an identity server key pair</a></li></ul></li><li><a href="#connect-the-server-to-the-database" class="table-of-contents__link toc-highlight">Connect the Server to the Database</a></li><li><a href="#ssl-certificate" class="table-of-contents__link toc-highlight">SSL Certificate</a></li><li><a href="#dns" class="table-of-contents__link toc-highlight">DNS</a></li><li><a href="#test-your-installation" class="table-of-contents__link toc-highlight">Test Your Installation</a></li><li><a href="#configure-the-starting-mode-in-iis-optional" class="table-of-contents__link toc-highlight">Configure the Starting Mode in IIS (optional)</a></li><li><a href="#set-up-end-user-authentication" class="table-of-contents__link toc-highlight">Set up End-User Authentication</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>