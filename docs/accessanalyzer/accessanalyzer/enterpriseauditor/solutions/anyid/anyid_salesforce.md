# AnyID\_Salesforce Job

The AnyID\_Salesforce job collects Salesforce contact details including phone, address, email, and date of birth. This job requires API access to Salesforce in order to collect this information. The list of collected attributes can be adjusted as necessary.

![AnyID_Salesforce Job in the Jobs Tree](/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/salesforcejoblocation.png)

The AnyID\_Salesforce job is located in the __Jobs__ > __AnyID Connectors__ job group.

## Prerequisites

The following credentials are required to run the AnyID\_Salesforce job:

- (TASK - Local) – Stores the Consumer Key and Consumer Secret
- (TASK - Local) – Stores the Salesforce Account Username and password
- (TASK - Local) – Stores the URL for Salesforce site and Security Token for Salesforce site (for example, ```https://company.my.salesforce.com```)

## Permissions

- API access to Salesforce

## Recommended Configurations for the AnyID\_Salesforce Job

The following are recommended configurations for the AnyID\_Salesforce job:

Targeted Host

Local Host

Connection Profile

Ensure that a connection profile is configured with the required credentials. See the [Prerequisites](#Prerequisites) topic for additional information.

History Retention

Default Retention Period. See the [History](/docs/accessanalyzer/accessanalyzer/enterpriseauditor/admin/settings/history.md) topic for additional information.

Multi-Console Support

Not supported

Schedule Frequency

Schedule the job as required.

Query Configuration

This job contains configurable queries. See the [Configure the AnyID\_Salesforce Query](#Configure-the-AnyID_Salesforce-Query) topic for additional information.

Analysis Configuration

Run the solution with the default analysis configuration for best results.

Workflow

__Step 1 –__ Set up a connection profile with the required credentials.

__Step 2 –__ Configure the configurable query parameters for the job.

__Step 3 –__ Run the job.

__Step 4 –__ Review the report generated by the job.

## Queries for the AnyID\_Salesforce Job

The AnyID\_Salesforce job uses the PowerShell Data Collector for the query.

![Query for the AnyID_Salesforce Job](/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/salesforcequeries.png)

The query is:

- PS Salesforce Import – Imports Salesforce information for analysis. This query has configurable parameters. See the [Configure the AnyID\_Salesforce Query](#Configure-the-AnyID_Salesforce-Query) topic for additional information.

### Configure the AnyID\_Salesforce Query

Follow the steps to configure the AnyID\_Salesforce query.

__Step 1 –__ Navigate to the __AnyID Connectors__ > __AnyID\_Salesforce__ > __Configure__ node and select __Queries__.

__Step 2 –__ In the Query Selection view, select the PS Salesforce Import query and click __Query Properties__. The Query Properties window opens.

__Step 3 –__ Select the __Data Source__ tab, and click __Configure__. The PowerShell Data Collector Wizard opens.

![Edit Query Page](/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/salesforcequeryeditquery.png)

__Step 4 –__ Navigate to the Edit Query page. Click the __Parameters__ tab on the right-hand side of the page to expand the Parameters window. See the [PowerShell: Edit Query](/docs/accessanalyzer/accessanalyzer/enterpriseauditor/admin/datacollector/powershell/editquery.md) topic for additional information. Configure the following attributes as needed:

- $SAHOSTNAME – Created during execution. This parameter cannot be modified.
- $JobCredential – Created during execution. This parameter cannot be modified.
- $JobCredentials – Created during execution. This parameter cannot be modified.
- $Attributes – The list of attributes that will be scanned for during sensitive data scanning

  - An attribute in the Attributes list will not be considered a match (in reporting and AIC) unless an attribute in the RequiredAttributes list is also found in the same file
- $RequiredAttributes – The list of attributes that need to be found in the document in order to trigger a match

  - An attribute in the Attributes list will not be considered a match (in reporting and AIC) unless an attribute in the RequiredAttributes list is also found in the same file
- $ID – Column which uniquely identifies each subject
- $SubjectType – A string which indicates the type of subjects being imported
- $SubjectName – A string which indicates the name of the subjects being imported
- $debugMode – When set to true, stores unhashed attribute values for troubleshooting purposes

__Step 5 –__ Click __Next__. Continue to the __Sample server__ page and click __Finish__ to save changes. Click __Cancel__ to exit the wizard without saving changes.

The query is now ready to run.

## Analysis Tasks for the AnyID\_Salesforce Job

Navigate to the __Jobs__ > __AnyID Connectors__ > __AnyID\_Salesforce__ > __Configure__ node and select __Analysis__ to view the analysis tasks.

__CAUTION:__ Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job.

![Analysis Tasks for the AnyID_Salesforce Job](/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/salesforceanalyses.png)

The default analysis tasks are:

- Create Subject Profile Types – Creates subject profile types
- Create Subject Profile Imports Procedure – Creates subject profile imports procedure
- Merge into Subject Profile schema – Merges into subject profile schema
- Calculate completion details – Calculates attribute completion for Salesforce contacts

In addition to the tables created by the analysis tasks, the AnyID\_Salesforce job produces the following preconfigured report:

| Report | Description | Default Tags | Report Elements |
| --- | --- | --- | --- |
| Salesforce Contacts | This report highlights Salesforce Contacts and summarizes attribute completion by contact and by attribute. | None | This report is comprised of four elements:   - Table – Contains information on Salesforce contacts - Bar Chart – Provides information on contact types - Table – Contains information on the attributes completion - Table – Contains information on subject details |
