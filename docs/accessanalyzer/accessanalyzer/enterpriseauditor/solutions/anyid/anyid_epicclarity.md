# AnyID\_EpicClarity Job

The AnyID\_EpicClarity job collects patient information from Epic including MRNs, SSNs, Subscriber IDs, and Account IDs. An account with read access to the underlying Clarity Oracle database is required in order to run queries.

![AnyID_EpicClarity Job in the Jobs Tree](/static/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/epicclarityjoblocation.png)

The AnyID\_EpicClarity job is located in the __Jobs__ > __AnyID Connectors__ job group.

## Recommended Configurations for the AnyID\_EpicClarity Job

The following are recommended configurations for the AnyID\_EpicClarity job:

Dependencies

The AnyID\_EpicClarity job requires a CSV file with a filepath configured in the job's query to collect data. See the [Configure the AnyID\_EpicClarity Queries](#Configure-the-AnyID_EpicClarity-Queries) topic for additional information.

Targeted Host

Epic Clarity Database Server

Connection Profile

Read Access to the underlying Clarity Oracle database.

History Retention

Default Retention Period. See the [History](/docs/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/admin/settings/history.md) topic for additional information.

Multi-Console Support

Not supported

Schedule Frequency

This job should be run based on the desired frequency of Sensitive Data Scans.

Query Configuration

This job contains configurable queries. See the Configure the [Configure the AnyID\_EpicClarity Queries](#Configure-the-AnyID_EpicClarity-Queries) topic for additional information.

Analysis Configuration

Run the solution with the default analysis configuration for best results.

Workflow

__Step 1 –__ Configure the configurable query parameters for the job.

__Step 2 –__ Run the job.

__Step 3 –__ Review the report generated by the job.

## Queries for the AnyID\_EpicClarity Job

The AnyID\_EpicClarity job uses the PowerShell Data Collector for queries.

![Queries for the AnyID_EpicClarity Job](/static/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/epicclarityqueries.png)

The queries are:

- Epic Clarity Patients – Imports Epic Clarity subject profile information for patients
- Epic Clarity Accounts – Imports Epic Clarity subject profile information on accounts
- Epic Clarity Coverage – Imports Epic Clarity subject profile information on coverage
- Epic Clarity Identity IDs – Imports Epic Clarity subject profile information on identity IDs

The above queries have configurable parameters. See the [Configure the AnyID\_EpicClarity Queries](#Configure-the-AnyID_EpicClarity-Queries) topic for additional information.

### Configure the AnyID\_EpicClarity Queries

Follow the steps to configure the AnyID\_EpicClarity queries.

__Step 1 –__ Navigate to the __AnyID Connectors__ >  __AnyID\_EpicClarity__ > __Configure__ node and select __Queries__.

__Step 2 –__ In the Query Selection view, select a query and click __Query Properties__. The Query Properties window opens.

__Step 3 –__ Select the __Data Source__ tab, and click __Configure__. The PowerShell Data Collector Wizard opens.

![Edit Query Page](/static/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/epicclarityqueryeditquery.png)

__Step 4 –__ Navigate to the Edit Query page. Click the __Parameters__ tab on the right-hand side of the page to expand the Parameters window. See the [PowerShell: Edit Query](/docs/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/admin/datacollector/powershell/editquery.md) topic for additional information. Configure the following attributes as needed:

- $portNumber – The port number used to access the Oracle Database Server
- $fetchCount – The number of rows to process in a batch. Leave at default unless otherwise required.
- $Attributes – The list of attributes that will be scanned for during sensitive data scanning. Default values are MRN, SSN, Name, Date of Birth, Subscriber ID, Identity ID, and Account ID.

  - An attribute in the Attributes list will not be considered a match (in reporting and AIC) unless an attribute in the RequiredAttributes list is also found in the same file
- $RequiredAttributes – The list of attributes that need to be found in the document in order to trigger a match. The default values are SSN, MRN, and IdentityID.

  - An attribute in the Attributes list will not be considered a match (in reporting and AIC) unless an attribute in the RequiredAttributes list is also found in the same file
- $debugMode – When set to true, stores unhashed attribute values for troubleshooting purposes

__Step 5 –__ Click __Next__. Continue to the __Sample server__ page and click __Finish__ to save changes. Click __Cancel__ to exit the wizard without saving changes.

Repeat these steps for each query in the case that a non default port value is required. Once completed, the queries are ready to run.

## Analysis Tasks for the AnyID\_EpicClarity Job

Navigate to the __Jobs__ > __AnyID Connectors__ > __AnyID\_EpicClarity__ > __Configure__ node and select __Analysis__ to view the analysis tasks.

__CAUTION:__ Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job.

![Analysis Tasks for the AnyID_EpicClarity Job](/static/img/product_docs/accessanalyzer/accessanalyzer/enterpriseauditor/solutions/anyid/epicclarityanalyses.png)

The default analysis tasks are:

- Create Subject Profile Types – Create subject profile types
- Create Subject Profile Imports Procedure – Create subject profile imports procedure
- Merge into Subject Profile schema – Merge into Subject Profile schema
- Calculate completion details – Calculates attribute completion for Epic Clarity patients

In addition to the tables created by the analysis tasks, the AnyID\_EpicClarity job produces the following preconfigured report:

| Report | Description | Default Tags | Report Elements |
| --- | --- | --- | --- |
| Epic Clarity Patients | This report highlights Epic Clarity Patients and summarizes attribute completion by patient identity and by attribute. | None | This report is comprised of four elements:   - Table – Contains information on Epic Clarity patients - Bar Chart – Provides information on subject types - Table – Contains information on the attributes summary - Table – Contains information on subject details |
