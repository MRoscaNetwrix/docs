# 1. Cleanup Assessment > FS\_CleanupAssessment Job

The FS\_CleanupAssessment job is designed to report on and assess the status of target file servers that can be cleaned up.

To include share ownership information in the analyses, populate the SA\_AIC\_ResourceOwnersView prior to running this job. This view populates when you assign owners to resources through the Access Information Center Manage Owners page. See the Resource Owners topics in the [Netwrix Access Information Center Documentation](https://helpcenter.netwrix.com/category/accessinformationcenter) for additional information.

![1. Cleanup Assessment > FS_CleanupAssessment Job in the Jobs Tree](/img/product_docs/accessanalyzer/enterpriseauditor/admin/hostmanagement/jobstree.png)

The FS\_CleanupAssessment job is located in the 1. Cleanup Assessment job group.

Workflow

The following is the recommended workflow for using the job group:

__Step 1 –__ __Prerequisite:__ Successfully execute the following job groups:

- .Active Directory Inventory
- File System > 0.Collection

__Step 2 –__ Schedule the 1. Cleanup Assessment job group to run as desired after the prerequisites have completed.

__Step 3 –__ Review the reports generated by the 1. Cleanup Assessment group.

## Parameter Configuration

The Configuration section on a Job's overview page allows you to easily modify any customizable parameters used by analysis tasks in the job. See the [Parameter Configuration](/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/overview.md#parameter-configuration) topic for instructions on how to edit parameters on a job overview page.

The FS\_CleanupAssessment job has the following configurable parameters:

- Number of days after which a resource’s LastModified timestamp classifies it as stale
- If 1, LastModified will be used to calculate staleness. If 0, LastAccessed will be used.
- UNC Paths of folders to exclude from staleness consideration (recursive)
- Lower bound for files to be included in the FileDetails table (by LastModfied, in days)
- Upper bound for files to be included in the FileDetails table (by LastModfied, in days)

See the [Customizable Analysis Tasks for the FS\_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job) topic for additional information.

## Analysis Tasks for the FS\_CleanupAssessment Job

Navigate to the __FileSystem__ > __Cleanup__ > __1. Cleanup Assessment__ > __FS\_CleanupAssessment__ > __Configure__ node and select __Analysis__ to view the analysis tasks.

__CAUTION:__ Do not modify or deselect the selected analysis tasks. The analysis tasks are preconfigured for this job.

![Analysis Tasks for the FS_CleanupAssessment Job](/img/product_docs/accessanalyzer/enterpriseauditor/solutions/filesystem/cleanup/cleanupassessmentanalysis.png)

The following analysis tasks are selected by default:

- Create file-level view – Creates the SA\_FS\_CleanupView table accessible under the job’s Results node.

  - See the [Include Metadata Tag Information](#include-metadata-tag-information) topic for instructions on how to include metadata tag information in this table
  - Has 3 configurable parameters. See the [Customizable Analysis Tasks for the FS\_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job) topic for additional information.
- Create file-level details table – Creates the SA\_FS\_CleanupAssessment\_FileDetails table accessible under the job’s Results node

  - Has 2 configurable parameters. See the [Customizable Analysis Tasks for the FS\_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job) topic for additional information.
- Summarize share-level information – Creates the SA\_FS\_CleanupAssessment\_ShareDetails table accessible under the job’s Results node
- Summarize host-level information – Creates the SA\_FS\_CleanupAssessment\_HostDetails table accessible under the job’s Results node

In addition to the tables and views created by the analysis tasks, the FS\_CleanupAssessment job produces the following pre-configured report.

| Report | Description | Default Tags | Report Elements |
| --- | --- | --- | --- |
| File System Cleanup - Files | This report highlights file-level cleanup information | None | This report is comprised of two elements:   - Pie Chart – Displays enterprise stale file breakdown - Table – Provides details on files |
| File System Cleanup - Hosts | This report highlights host-level cleanup information | None | This report is comprised of two elements:   - Stacked Chart – Displays top hosts by stale file percentage - Table – Provides details on hosts |
| File System Cleanup - Shares | This report highlights share-level cleanup information | None | This report is comprised of two elements:   - Stacked Chart – Displays top shares by stale file percentage - Table – Provides details on shares |

### Customizable Analysis Tasks for the FS\_CleanupAssessment Job

The default values for parameters that can be customized are:

| Analysis Task | Customizable Parameter Name | Default Value | Value Indicates |
| --- | --- | --- | --- |
| Create File-Level View | @STALE\_THRESHOLD | 365 | Set the number of days after which a resource’s Last Modified timestamp classifies it as stale |
| @USE\_LAST\_MODIFIED | 1 | If set to 1, Last Modified will be used to calculate staleness. If set to 0, Last Access will be used. |  |
| #FOLDERS\_TO\_EXCLUDE | BLANK | Specify which UNC Paths of folders to exclude from staleness consideration |  |
| Create File Level Details Table | @MIN\_STALE\_THRESHOLD | 730 | Set the lower bound of the files to be included in the FileDetails table (by Last Modfied, in days) |
| @MAX\_STALE\_THRESHOLD | 365 | Set the upper bound of the files to be included in the FileDetails table (by Last Modfied, in days) |  |

See the [Configure the Customizable Parameters in an Analysis Task](/docs/accessanalyzer/enterpriseauditor/admin/jobs/job/configure/analysiscustomizableparameters.md) topic for instructions to modify parameters.

### Include Metadata Tag Information

To include metadata tag information in the SA\_FS\_CleanupView table, the __FileSystem__ > __0.Collection__ > __1-FSAA System Scans__ job needs configuring to use the required option. Follow the steps to enable the option on the File Detail Scan Settings page of the File System Scan query.

__Step 1 –__ Navigate to the __FileSystem__ > __0.Collection__ > __1-FSAA System Scans__ > __Configure__ node and select __Queries__.

__Step 2 –__ In the Query Selection view, select the __File System Scan__ query and click __Query Properties__. The Query Properties window opens.

__Step 3 –__ Select the __Data Source__ tab, and click __Configure__. The File System Access Auditor Data Collector Wizard opens.

![File Details tab of the FSAA Data Collector Wizard Default Scoping Options page](/img/product_docs/accessanalyzer/enterpriseauditor/admin/datacollector/fsaa/defaultscopingoptions/filedetails.png)

__Step 4 –__ Navigate to the __Default Scoping Options__ page and click the __File Details__ tab.

![Options to select on File Details tab](/img/product_docs/accessanalyzer/enterpriseauditor/solutions/filesystem/cleanup/includemetadatatagoptions.png)

__Step 5 –__ On the File Details tab, select the __Scan file-level details__ option, and then select the __Collect tags/keywords from file metadata properties__ option.

__CAUTION:__ Do not make changes to other wizard pages as they have been pre-configured for the purpose of this job.

__Step 6 –__ Navigate to the __Scoping Queries__ page of the File System Access Auditor Data Collector Wizard and click Finish to save the changes and close the wizard.

Metadata Tag Information will now be included in the SA\_FS\_CleanupView table the next time the FS\_CleanupAssessment job is run.
